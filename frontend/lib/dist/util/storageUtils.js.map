{"version":3,"file":"storageUtils.js","names":["CACHED_THEME_VERSION","CACHED_THEME_BASE_KEY","window","location","pathname","LocalStore","ACTIVE_THEME","localStorageAvailable","testData","localStorage","setItem","getItem","removeItem","e"],"sources":["../../src/util/storageUtils.ts"],"sourcesContent":["/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// Note: Cached themes before version 1 were simply stored with key equal to\n// CACHED_THEME_BASE_KEY (with no version number).\nconst CACHED_THEME_VERSION = 1\nconst CACHED_THEME_BASE_KEY = `stActiveTheme-${window.location.pathname}`\n\nexport const LocalStore = {\n  CACHED_THEME_VERSION,\n  CACHED_THEME_BASE_KEY,\n\n  ACTIVE_THEME: `${CACHED_THEME_BASE_KEY}-v${CACHED_THEME_VERSION}`,\n}\n\n// Method taken from\n// https://stackoverflow.com/questions/16427636/check-if-localstorage-is-available\nexport const localStorageAvailable = (): boolean => {\n  const testData = \"testData\"\n\n  try {\n    const { localStorage } = window\n    localStorage.setItem(testData, testData)\n    localStorage.getItem(testData)\n    localStorage.removeItem(testData)\n  } catch (e) {\n    return false\n  }\n  return true\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAMA,oBAAoB,GAAG,CAAC;AAC9B,MAAMC,qBAAqB,GAAI,iBAAgBC,MAAM,CAACC,QAAQ,CAACC,QAAS,EAAC;AAEzE,OAAO,MAAMC,UAAU,GAAG;EACxBL,oBAAoB;EACpBC,qBAAqB;EAErBK,YAAY,EAAG,GAAEL,qBAAsB,KAAID,oBAAqB;AAClE,CAAC;;AAED;AACA;AACA,OAAO,MAAMO,qBAAqB,GAAGA,CAAA,KAAe;EAClD,MAAMC,QAAQ,GAAG,UAAU;EAE3B,IAAI;IACF,MAAM;MAAEC;IAAa,CAAC,GAAGP,MAAM;IAC/BO,YAAY,CAACC,OAAO,CAACF,QAAQ,EAAEA,QAAQ,CAAC;IACxCC,YAAY,CAACE,OAAO,CAACH,QAAQ,CAAC;IAC9BC,YAAY,CAACG,UAAU,CAACJ,QAAQ,CAAC;EACnC,CAAC,CAAC,OAAOK,CAAC,EAAE;IACV,OAAO,KAAK;EACd;EACA,OAAO,IAAI;AACb,CAAC"}