{"version":3,"file":"mocks.js","names":["SessionInfo","mockSessionInfoProps","overrides","arguments","length","undefined","appId","sessionId","streamlitVersion","pythonVersion","installationId","installationIdV3","maxCachedMessageAge","isHello","mockSessionInfo","sessionInfo","setCurrent","mockEndpoints","buildComponentURL","jest","fn","buildMediaURL","buildFileUploadURL","buildAppPageURL","mockImplementation","pageLinkBaseURL","page","pageIndex","pageName","uploadFileUploaderFile","mockRejectedValue","Error","deleteFileAtURL","fetchCachedForwardMsg"],"sources":["../../src/mocks/mocks.ts"],"sourcesContent":["/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  SessionInfo,\n  Props as SessionInfoProps,\n} from \"@streamlit/lib/src/SessionInfo\"\nimport { StreamlitEndpoints } from \"@streamlit/lib/src/StreamlitEndpoints\"\nimport { IAppPage } from \"@streamlit/lib/src/proto\"\n\n/** Create mock SessionInfo.props */\nexport function mockSessionInfoProps(\n  overrides: Partial<SessionInfoProps> = {}\n): SessionInfoProps {\n  return {\n    appId: \"mockAppId\",\n    sessionId: \"mockSessionId\",\n    streamlitVersion: \"mockStreamlitVersion\",\n    pythonVersion: \"mockPythonVersion\",\n    installationId: \"mockInstallationId\",\n    installationIdV3: \"mockInstallationIdV3\",\n    maxCachedMessageAge: 123,\n    isHello: false,\n    ...overrides,\n  }\n}\n\n/** Create a SessionInfo instance, with a mocked set of current props. */\nexport function mockSessionInfo(\n  overrides: Partial<SessionInfoProps> = {}\n): SessionInfo {\n  const sessionInfo = new SessionInfo()\n  sessionInfo.setCurrent(mockSessionInfoProps(overrides))\n  return sessionInfo\n}\n\n/** Return a mock StreamlitEndpoints implementation. */\nexport function mockEndpoints(\n  overrides: Partial<StreamlitEndpoints> = {}\n): StreamlitEndpoints {\n  return {\n    buildComponentURL: jest.fn(),\n    buildMediaURL: jest.fn(),\n    buildFileUploadURL: jest.fn(),\n    buildAppPageURL: jest\n      .fn()\n      .mockImplementation(\n        (pageLinkBaseURL: string, page: IAppPage, pageIndex: number) => {\n          return `http://mock/app/page/${page.pageName}.${pageIndex}`\n        }\n      ),\n    uploadFileUploaderFile: jest\n      .fn()\n      .mockRejectedValue(new Error(\"unimplemented mock endpoint\")),\n    deleteFileAtURL: jest\n      .fn()\n      .mockRejectedValue(new Error(\"unimplemented mock endpoint\")),\n    fetchCachedForwardMsg: jest\n      .fn()\n      .mockRejectedValue(new Error(\"unimplemented mock endpoint\")),\n    ...overrides,\n  }\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SACEA,WAAW;AAMb;AACA,OAAO,SAASC,oBAAoBA,CAAA,EAEhB;EAAA,IADlBC,SAAoC,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EAEzC,OAAO;IACLG,KAAK,EAAE,WAAW;IAClBC,SAAS,EAAE,eAAe;IAC1BC,gBAAgB,EAAE,sBAAsB;IACxCC,aAAa,EAAE,mBAAmB;IAClCC,cAAc,EAAE,oBAAoB;IACpCC,gBAAgB,EAAE,sBAAsB;IACxCC,mBAAmB,EAAE,GAAG;IACxBC,OAAO,EAAE,KAAK;IACd,GAAGX;EACL,CAAC;AACH;;AAEA;AACA,OAAO,SAASY,eAAeA,CAAA,EAEhB;EAAA,IADbZ,SAAoC,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EAEzC,MAAMY,WAAW,GAAG,IAAIf,WAAW,CAAC,CAAC;EACrCe,WAAW,CAACC,UAAU,CAACf,oBAAoB,CAACC,SAAS,CAAC,CAAC;EACvD,OAAOa,WAAW;AACpB;;AAEA;AACA,OAAO,SAASE,aAAaA,CAAA,EAEP;EAAA,IADpBf,SAAsC,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EAE3C,OAAO;IACLe,iBAAiB,EAAEC,IAAI,CAACC,EAAE,CAAC,CAAC;IAC5BC,aAAa,EAAEF,IAAI,CAACC,EAAE,CAAC,CAAC;IACxBE,kBAAkB,EAAEH,IAAI,CAACC,EAAE,CAAC,CAAC;IAC7BG,eAAe,EAAEJ,IAAI,CAClBC,EAAE,CAAC,CAAC,CACJI,kBAAkB,CACjB,CAACC,eAAuB,EAAEC,IAAc,EAAEC,SAAiB,KAAK;MAC9D,OAAQ,wBAAuBD,IAAI,CAACE,QAAS,IAAGD,SAAU,EAAC;IAC7D,CACF,CAAC;IACHE,sBAAsB,EAAEV,IAAI,CACzBC,EAAE,CAAC,CAAC,CACJU,iBAAiB,CAAC,IAAIC,KAAK,CAAC,6BAA6B,CAAC,CAAC;IAC9DC,eAAe,EAAEb,IAAI,CAClBC,EAAE,CAAC,CAAC,CACJU,iBAAiB,CAAC,IAAIC,KAAK,CAAC,6BAA6B,CAAC,CAAC;IAC9DE,qBAAqB,EAAEd,IAAI,CACxBC,EAAE,CAAC,CAAC,CACJU,iBAAiB,CAAC,IAAIC,KAAK,CAAC,6BAA6B,CAAC,CAAC;IAC9D,GAAG7B;EACL,CAAC;AACH"}