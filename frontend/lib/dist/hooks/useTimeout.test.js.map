{"version":3,"file":"useTimeout.test.js","names":["waitFor","renderHook","useTimeout","describe","it","callback","jest","fn","timeoutDelayMs","expect","toHaveBeenCalledTimes","timeout","result","clear","current","Promise","r","setTimeout"],"sources":["../../src/hooks/useTimeout.test.ts"],"sourcesContent":["/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { waitFor } from \"@testing-library/react\"\nimport { renderHook } from \"@testing-library/react-hooks\"\n\nimport useTimeout from \"./useTimeout\"\n\ndescribe(\"timeout function\", () => {\n  it(\"should call the callback function after timeout\", async () => {\n    const callback = jest.fn()\n    const timeoutDelayMs = 50\n    renderHook(() => useTimeout(callback, timeoutDelayMs))\n    await waitFor(() => expect(callback).toHaveBeenCalledTimes(1), {\n      timeout: 2 * timeoutDelayMs,\n    })\n  })\n\n  it(\"should not call the callback function when cancel timeout\", async () => {\n    const callback = jest.fn()\n    const timeoutDelayMs = 100\n    const { result } = renderHook(() => useTimeout(callback, timeoutDelayMs))\n    const clear = result.current\n    clear()\n    await new Promise(r => setTimeout(r, 2 * timeoutDelayMs))\n    expect(callback).toHaveBeenCalledTimes(0)\n  })\n})\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASA,OAAO,QAAQ,wBAAwB;AAChD,SAASC,UAAU,QAAQ,8BAA8B;AAEzD,OAAOC,UAAU;AAEjBC,QAAQ,CAAC,kBAAkB,EAAE,MAAM;EACjCC,EAAE,CAAC,iDAAiD,EAAE,YAAY;IAChE,MAAMC,QAAQ,GAAGC,IAAI,CAACC,EAAE,CAAC,CAAC;IAC1B,MAAMC,cAAc,GAAG,EAAE;IACzBP,UAAU,CAAC,MAAMC,UAAU,CAACG,QAAQ,EAAEG,cAAc,CAAC,CAAC;IACtD,MAAMR,OAAO,CAAC,MAAMS,MAAM,CAACJ,QAAQ,CAAC,CAACK,qBAAqB,CAAC,CAAC,CAAC,EAAE;MAC7DC,OAAO,EAAE,CAAC,GAAGH;IACf,CAAC,CAAC;EACJ,CAAC,CAAC;EAEFJ,EAAE,CAAC,2DAA2D,EAAE,YAAY;IAC1E,MAAMC,QAAQ,GAAGC,IAAI,CAACC,EAAE,CAAC,CAAC;IAC1B,MAAMC,cAAc,GAAG,GAAG;IAC1B,MAAM;MAAEI;IAAO,CAAC,GAAGX,UAAU,CAAC,MAAMC,UAAU,CAACG,QAAQ,EAAEG,cAAc,CAAC,CAAC;IACzE,MAAMK,KAAK,GAAGD,MAAM,CAACE,OAAO;IAC5BD,KAAK,CAAC,CAAC;IACP,MAAM,IAAIE,OAAO,CAACC,CAAC,IAAIC,UAAU,CAACD,CAAC,EAAE,CAAC,GAAGR,cAAc,CAAC,CAAC;IACzDC,MAAM,CAACJ,QAAQ,CAAC,CAACK,qBAAqB,CAAC,CAAC,CAAC;EAC3C,CAAC,CAAC;AACJ,CAAC,CAAC"}