{"version":3,"file":"ElementNodeRenderer.js","names":["React","Suspense","debounceRender","classNames","Skeleton","SkeletonProto","AlertElement","ArrowTable","DocString","ErrorBoundary","ExceptionElement","Json","Markdown","Metric","TextElement","ComponentInstance","getAlertElementKind","Maybe","FormSubmitContent","Heading","LibContext","getElementId","convertKeyToClassName","getKeyFromId","isComponentStale","shouldComponentBeEnabled","StyledElementContainer","Fragment","_Fragment","jsx","_jsx","Audio","lazy","Balloons","Snow","ArrowDataFrame","ArrowVegaLiteChart","Toast","BokehChart","DebouncedBokehChart","DeckGlJsonChart","GraphVizChart","IFrame","ImageList","LinkButton","PageLink","PlotlyChart","Video","Button","ButtonGroup","DownloadButton","CameraInput","ChatInput","Checkbox","ColorPicker","DateInput","Html","Multiselect","Progress","Spinner","Radio","Selectbox","Slider","FileUploader","TextArea","TextInput","TimeInput","NumberInput","StreamlitSyntaxHighlighter","hideIfStale","isStale","component","RawElementNodeRenderer","props","node","Error","elementProps","width","disableFullscreenMode","widgetProps","widgetMgr","disabled","widgetsDisabled","fragmentId","element","type","alertProto","alert","icon","body","kind","format","quiverElement","audio","endpoints","elementMgr","scriptRunId","bokehChart","codeProto","code","language","showLineNumbers","wrapLines","children","codeText","deckGlJsonChart","docString","className","exception","graphvizChart","heading","iframe","imgs","json","markdown","metric","html","pageLinkProto","pageLink","isDisabled","progress","skeleton","spinner","text","video","toastProto","toast","arrowProto","arrowDataFrame","data","id","key","vegaLiteElement","vegaLiteChartElement","undefined","buttonProto","button","isFormSubmitter","formId","hasInProgressUpload","formsData","formsWithUploads","has","buttonGroupProto","buttonGroup","downloadButtonProto","downloadButton","cameraInputProto","cameraInput","uploadClient","chatInputProto","chatInput","checkboxProto","checkbox","colorPickerProto","colorPicker","registry","componentRegistry","componentInstance","dateInputProto","dateInput","fileUploaderProto","fileUploader","linkButtonProto","linkButton","multiSelectProto","multiselect","numberInputProto","numberInput","plotlyProto","plotlyChart","radioProto","radio","selectboxProto","selectbox","sliderProto","slider","textAreaProto","textArea","textInputProto","textInput","timeInputProto","timeInput","ElementNodeRenderer","isFullScreen","fragmentIdsThisRun","useContext","elementType","enable","scriptRunState","elementId","userKey","fallback","create","style","SkeletonStyle","ELEMENT"],"sources":["../../../../src/components/core/Block/ElementNodeRenderer.tsx"],"sourcesContent":["/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { ReactElement, Suspense } from \"react\"\n\nimport debounceRender from \"react-debounce-render\"\nimport classNames from \"classnames\"\n\nimport {\n  Alert as AlertProto,\n  Arrow as ArrowProto,\n  Audio as AudioProto,\n  BokehChart as BokehChartProto,\n  ButtonGroup as ButtonGroupProto,\n  Button as ButtonProto,\n  CameraInput as CameraInputProto,\n  ChatInput as ChatInputProto,\n  Checkbox as CheckboxProto,\n  Code as CodeProto,\n  ColorPicker as ColorPickerProto,\n  ComponentInstance as ComponentInstanceProto,\n  DateInput as DateInputProto,\n  DeckGlJsonChart as DeckGlJsonChartProto,\n  DocString as DocStringProto,\n  DownloadButton as DownloadButtonProto,\n  Exception as ExceptionProto,\n  FileUploader as FileUploaderProto,\n  GraphVizChart as GraphVizChartProto,\n  Heading as HeadingProto,\n  Html as HtmlProto,\n  IFrame as IFrameProto,\n  ImageList as ImageListProto,\n  Json as JsonProto,\n  LinkButton as LinkButtonProto,\n  Markdown as MarkdownProto,\n  Metric as MetricProto,\n  MultiSelect as MultiSelectProto,\n  NumberInput as NumberInputProto,\n  PageLink as PageLinkProto,\n  PlotlyChart as PlotlyChartProto,\n  Progress as ProgressProto,\n  Radio as RadioProto,\n  Selectbox as SelectboxProto,\n  Skeleton as SkeletonProto,\n  Slider as SliderProto,\n  Spinner as SpinnerProto,\n  TextArea as TextAreaProto,\n  TextInput as TextInputProto,\n  Text as TextProto,\n  TimeInput as TimeInputProto,\n  Toast as ToastProto,\n  Video as VideoProto,\n} from \"@streamlit/lib/src/proto\"\nimport { ElementNode } from \"@streamlit/lib/src/AppNode\"\nimport { Quiver } from \"@streamlit/lib/src/dataframes/Quiver\"\n// Load (non-lazy) elements.\nimport AlertElement from \"@streamlit/lib/src/components/elements/AlertElement\"\nimport ArrowTable from \"@streamlit/lib/src/components/elements/ArrowTable\"\nimport DocString from \"@streamlit/lib/src/components/elements/DocString\"\nimport ErrorBoundary from \"@streamlit/lib/src/components/shared/ErrorBoundary\"\nimport ExceptionElement from \"@streamlit/lib/src/components/elements/ExceptionElement\"\nimport Json from \"@streamlit/lib/src/components/elements/Json\"\nimport Markdown from \"@streamlit/lib/src/components/elements/Markdown\"\nimport Metric from \"@streamlit/lib/src/components/elements/Metric\"\nimport { Skeleton } from \"@streamlit/lib/src/components/elements/Skeleton\"\nimport TextElement from \"@streamlit/lib/src/components/elements/TextElement\"\nimport { ComponentInstance } from \"@streamlit/lib/src/components/widgets/CustomComponent\"\nimport { VegaLiteChartElement } from \"@streamlit/lib/src/components/elements/ArrowVegaLiteChart\"\nimport { getAlertElementKind } from \"@streamlit/lib/src/components/elements/AlertElement/AlertElement\"\nimport Maybe from \"@streamlit/lib/src/components/core/Maybe\"\nimport { FormSubmitContent } from \"@streamlit/lib/src/components/widgets/Form\"\nimport Heading from \"@streamlit/lib/src/components/shared/StreamlitMarkdown/Heading\"\nimport { LibContext } from \"@streamlit/lib/src/components/core/LibContext\"\nimport { getElementId } from \"@streamlit/lib/src/util/utils\"\n\nimport {\n  BaseBlockProps,\n  convertKeyToClassName,\n  getKeyFromId,\n  isComponentStale,\n  shouldComponentBeEnabled,\n} from \"./utils\"\nimport { StyledElementContainer } from \"./styled-components\"\n\n// Lazy-load elements.\nconst Audio = React.lazy(\n  () => import(\"@streamlit/lib/src/components/elements/Audio\")\n)\nconst Balloons = React.lazy(\n  () => import(\"@streamlit/lib/src/components/elements/Balloons\")\n)\nconst Snow = React.lazy(\n  () => import(\"@streamlit/lib/src/components/elements/Snow\")\n)\nconst ArrowDataFrame = React.lazy(\n  () => import(\"@streamlit/lib/src/components/widgets/DataFrame\")\n)\nconst ArrowVegaLiteChart = React.lazy(\n  () => import(\"@streamlit/lib/src/components/elements/ArrowVegaLiteChart\")\n)\nconst Toast = React.lazy(\n  () => import(\"@streamlit/lib/src/components/elements/Toast\")\n)\n\n// BokehChart render function is sluggish. If the component is not debounced,\n// AutoSizer causes it to rerender multiple times for different widths\n// when the sidebar is toggled, which significantly slows down the app.\nconst BokehChart = React.lazy(\n  () => import(\"@streamlit/lib/src/components/elements/BokehChart\")\n)\n\n// RTL ESLint triggers a false positive on this render function\n// eslint-disable-next-line testing-library/render-result-naming-convention\nconst DebouncedBokehChart = debounceRender(BokehChart, 100)\n\nconst DeckGlJsonChart = React.lazy(\n  () => import(\"@streamlit/lib/src/components/elements/DeckGlJsonChart\")\n)\nconst GraphVizChart = React.lazy(\n  () => import(\"@streamlit/lib/src/components/elements/GraphVizChart\")\n)\nconst IFrame = React.lazy(\n  () => import(\"@streamlit/lib/src/components/elements/IFrame\")\n)\nconst ImageList = React.lazy(\n  () => import(\"@streamlit/lib/src/components/elements/ImageList\")\n)\n\nconst LinkButton = React.lazy(\n  () => import(\"@streamlit/lib/src/components/elements/LinkButton\")\n)\n\nconst PageLink = React.lazy(\n  () => import(\"@streamlit/lib/src/components/elements/PageLink\")\n)\n\nconst PlotlyChart = React.lazy(\n  () => import(\"@streamlit/lib/src/components/elements/PlotlyChart\")\n)\nconst Video = React.lazy(\n  () => import(\"@streamlit/lib/src/components/elements/Video\")\n)\n\n// Lazy-load widgets.\nconst Button = React.lazy(\n  () => import(\"@streamlit/lib/src/components/widgets/Button\")\n)\nconst ButtonGroup = React.lazy(\n  () => import(\"@streamlit/lib/src/components/widgets/ButtonGroup\")\n)\nconst DownloadButton = React.lazy(\n  () => import(\"@streamlit/lib/src/components/widgets/DownloadButton\")\n)\nconst CameraInput = React.lazy(\n  () => import(\"@streamlit/lib/src/components/widgets/CameraInput\")\n)\nconst ChatInput = React.lazy(\n  () => import(\"@streamlit/lib/src/components/widgets/ChatInput\")\n)\nconst Checkbox = React.lazy(\n  () => import(\"@streamlit/lib/src/components/widgets/Checkbox\")\n)\nconst ColorPicker = React.lazy(\n  () => import(\"@streamlit/lib/src/components/widgets/ColorPicker\")\n)\nconst DateInput = React.lazy(\n  () => import(\"@streamlit/lib/src/components/widgets/DateInput\")\n)\nconst Html = React.lazy(\n  () => import(\"@streamlit/lib/src/components/elements/Html\")\n)\nconst Multiselect = React.lazy(\n  () => import(\"@streamlit/lib/src/components/widgets/Multiselect\")\n)\nconst Progress = React.lazy(\n  () => import(\"@streamlit/lib/src/components/elements/Progress\")\n)\nconst Spinner = React.lazy(\n  () => import(\"@streamlit/lib/src/components/elements/Spinner\")\n)\nconst Radio = React.lazy(\n  () => import(\"@streamlit/lib/src/components/widgets/Radio\")\n)\nconst Selectbox = React.lazy(\n  () => import(\"@streamlit/lib/src/components/widgets/Selectbox\")\n)\nconst Slider = React.lazy(\n  () => import(\"@streamlit/lib/src/components/widgets/Slider\")\n)\nconst FileUploader = React.lazy(\n  () => import(\"@streamlit/lib/src/components/widgets/FileUploader\")\n)\nconst TextArea = React.lazy(\n  () => import(\"@streamlit/lib/src/components/widgets/TextArea\")\n)\nconst TextInput = React.lazy(\n  () => import(\"@streamlit/lib/src/components/widgets/TextInput\")\n)\nconst TimeInput = React.lazy(\n  () => import(\"@streamlit/lib/src/components/widgets/TimeInput\")\n)\nconst NumberInput = React.lazy(\n  () => import(\"@streamlit/lib/src/components/widgets/NumberInput\")\n)\nconst StreamlitSyntaxHighlighter = React.lazy(\n  () =>\n    import(\n      \"@streamlit/lib/src/components/elements/CodeBlock/StreamlitSyntaxHighlighter\"\n    )\n)\n\nexport interface ElementNodeRendererProps extends BaseBlockProps {\n  node: ElementNode\n  width: number\n}\n\ninterface RawElementNodeRendererProps extends ElementNodeRendererProps {\n  isStale: boolean\n}\n\nfunction hideIfStale(isStale: boolean, component: ReactElement): ReactElement {\n  return isStale ? <></> : component\n}\n\n// Render ElementNodes (i.e. leaf nodes).\nconst RawElementNodeRenderer = (\n  props: RawElementNodeRendererProps\n): ReactElement => {\n  const { node } = props\n\n  if (!node) {\n    throw new Error(\"ElementNode not found.\")\n  }\n\n  const elementProps = {\n    width: props.width,\n    disableFullscreenMode: props.disableFullscreenMode,\n  }\n\n  const widgetProps = {\n    ...elementProps,\n    widgetMgr: props.widgetMgr,\n    disabled: props.widgetsDisabled,\n    fragmentId: node.fragmentId,\n  }\n\n  switch (node.element.type) {\n    case \"alert\": {\n      const alertProto = node.element.alert as AlertProto\n      return (\n        <AlertElement\n          icon={alertProto.icon}\n          body={alertProto.body}\n          kind={getAlertElementKind(alertProto.format)}\n          {...elementProps}\n        />\n      )\n    }\n\n    case \"arrowTable\":\n      return (\n        <ArrowTable element={node.quiverElement as Quiver} {...elementProps} />\n      )\n\n    case \"audio\":\n      return (\n        <Audio\n          element={node.element.audio as AudioProto}\n          endpoints={props.endpoints}\n          {...elementProps}\n          elementMgr={props.widgetMgr}\n        />\n      )\n\n    case \"balloons\":\n      return hideIfStale(\n        props.isStale,\n        <Balloons scriptRunId={props.scriptRunId} />\n      )\n\n    case \"bokehChart\":\n      return (\n        <DebouncedBokehChart\n          element={node.element.bokehChart as BokehChartProto}\n          {...elementProps}\n        />\n      )\n\n    case \"code\": {\n      const codeProto = node.element.code as CodeProto\n      return (\n        <StreamlitSyntaxHighlighter\n          language={codeProto.language}\n          showLineNumbers={codeProto.showLineNumbers}\n          wrapLines={codeProto.wrapLines}\n        >\n          {codeProto.codeText}\n        </StreamlitSyntaxHighlighter>\n      )\n    }\n\n    case \"deckGlJsonChart\":\n      return (\n        <DeckGlJsonChart\n          element={node.element.deckGlJsonChart as DeckGlJsonChartProto}\n          {...widgetProps}\n        />\n      )\n\n    case \"docString\":\n      return (\n        <DocString\n          element={node.element.docString as DocStringProto}\n          {...elementProps}\n        />\n      )\n\n    case \"empty\":\n      return <div className=\"stEmpty\" data-testid=\"stEmpty\" />\n\n    case \"exception\":\n      return (\n        <ExceptionElement\n          element={node.element.exception as ExceptionProto}\n          {...elementProps}\n        />\n      )\n\n    case \"graphvizChart\":\n      return (\n        <GraphVizChart\n          element={node.element.graphvizChart as GraphVizChartProto}\n          {...elementProps}\n        />\n      )\n\n    case \"heading\":\n      return (\n        <Heading\n          element={node.element.heading as HeadingProto}\n          {...elementProps}\n        />\n      )\n\n    case \"iframe\":\n      return (\n        <IFrame\n          element={node.element.iframe as IFrameProto}\n          {...elementProps}\n        />\n      )\n\n    case \"imgs\":\n      return (\n        <ImageList\n          element={node.element.imgs as ImageListProto}\n          endpoints={props.endpoints}\n          {...elementProps}\n        />\n      )\n\n    case \"json\":\n      return (\n        <Json element={node.element.json as JsonProto} {...elementProps} />\n      )\n\n    case \"markdown\":\n      return (\n        <Markdown\n          element={node.element.markdown as MarkdownProto}\n          {...elementProps}\n        />\n      )\n\n    case \"metric\":\n      return <Metric element={node.element.metric as MetricProto} />\n\n    case \"html\":\n      return (\n        <Html element={node.element.html as HtmlProto} {...elementProps} />\n      )\n\n    case \"pageLink\": {\n      const pageLinkProto = node.element.pageLink as PageLinkProto\n      const isDisabled = widgetProps.disabled || pageLinkProto.disabled\n      return (\n        <PageLink\n          element={pageLinkProto}\n          disabled={isDisabled}\n          {...elementProps}\n        />\n      )\n    }\n\n    case \"progress\":\n      return (\n        <Progress\n          element={node.element.progress as ProgressProto}\n          {...elementProps}\n        />\n      )\n\n    case \"skeleton\": {\n      return <Skeleton element={node.element.skeleton as SkeletonProto} />\n    }\n\n    case \"snow\":\n      return hideIfStale(\n        props.isStale,\n        <Snow scriptRunId={props.scriptRunId} />\n      )\n\n    case \"spinner\":\n      return (\n        <Spinner\n          element={node.element.spinner as SpinnerProto}\n          {...elementProps}\n        />\n      )\n\n    case \"text\":\n      return (\n        <TextElement\n          element={node.element.text as TextProto}\n          {...elementProps}\n        />\n      )\n\n    case \"video\":\n      return (\n        <Video\n          element={node.element.video as VideoProto}\n          endpoints={props.endpoints}\n          {...elementProps}\n          elementMgr={props.widgetMgr}\n        />\n      )\n\n    // Events:\n    case \"toast\": {\n      const toastProto = node.element.toast as ToastProto\n      return (\n        <Toast\n          // React key needed so toasts triggered on re-run\n          key={node.scriptRunId}\n          body={toastProto.body}\n          icon={toastProto.icon}\n          {...elementProps}\n        />\n      )\n    }\n\n    // Widgets:\n    case \"arrowDataFrame\": {\n      const arrowProto = node.element.arrowDataFrame as ArrowProto\n      widgetProps.disabled = widgetProps.disabled || arrowProto.disabled\n      return (\n        <ArrowDataFrame\n          element={arrowProto}\n          data={node.quiverElement as Quiver}\n          // Arrow dataframe can be used as a widget (data_editor) or\n          // an element (dataframe). We only want to set the key in case of\n          // it being used as a widget. For the non-widget usage, the id will\n          // be undefined.\n          {...(arrowProto.id && {\n            key: arrowProto.id,\n          })}\n          {...widgetProps}\n        />\n      )\n    }\n\n    case \"arrowVegaLiteChart\":\n      const vegaLiteElement = node.vegaLiteChartElement as VegaLiteChartElement\n      return (\n        <ArrowVegaLiteChart\n          element={vegaLiteElement}\n          // Vega-lite chart can be used as a widget (when selections are activated) or\n          // an element. We only want to set the key in case of it being used as a widget\n          // since otherwise it might break some apps that show the same charts multiple times.\n          // So we only compute an element ID if it's a widget, otherwise its an empty string.\n          key={vegaLiteElement.id || undefined}\n          {...widgetProps}\n        />\n      )\n\n    case \"button\": {\n      const buttonProto = node.element.button as ButtonProto\n      widgetProps.disabled = widgetProps.disabled || buttonProto.disabled\n      if (buttonProto.isFormSubmitter) {\n        const { formId } = buttonProto\n        const hasInProgressUpload =\n          props.formsData.formsWithUploads.has(formId)\n        return (\n          <FormSubmitContent\n            element={buttonProto}\n            hasInProgressUpload={hasInProgressUpload}\n            {...widgetProps}\n          />\n        )\n      }\n      return <Button element={buttonProto} {...widgetProps} />\n    }\n\n    case \"buttonGroup\": {\n      const buttonGroupProto = node.element.buttonGroup as ButtonGroupProto\n      widgetProps.disabled = widgetProps.disabled || buttonGroupProto.disabled\n      return (\n        <ButtonGroup\n          key={buttonGroupProto.id}\n          element={buttonGroupProto}\n          {...widgetProps}\n        />\n      )\n    }\n\n    case \"downloadButton\": {\n      const downloadButtonProto = node.element\n        .downloadButton as DownloadButtonProto\n      widgetProps.disabled =\n        widgetProps.disabled || downloadButtonProto.disabled\n      return (\n        <DownloadButton\n          endpoints={props.endpoints}\n          key={downloadButtonProto.id}\n          element={downloadButtonProto}\n          {...widgetProps}\n        />\n      )\n    }\n\n    case \"cameraInput\": {\n      const cameraInputProto = node.element.cameraInput as CameraInputProto\n      widgetProps.disabled = widgetProps.disabled || cameraInputProto.disabled\n      return (\n        <CameraInput\n          key={cameraInputProto.id}\n          element={cameraInputProto}\n          uploadClient={props.uploadClient}\n          {...widgetProps}\n        />\n      )\n    }\n\n    case \"chatInput\": {\n      const chatInputProto = node.element.chatInput as ChatInputProto\n      widgetProps.disabled = widgetProps.disabled || chatInputProto.disabled\n      return (\n        <ChatInput\n          key={chatInputProto.id}\n          element={chatInputProto}\n          {...widgetProps}\n        />\n      )\n    }\n\n    case \"checkbox\": {\n      const checkboxProto = node.element.checkbox as CheckboxProto\n      widgetProps.disabled = widgetProps.disabled || checkboxProto.disabled\n      return (\n        <Checkbox\n          key={checkboxProto.id}\n          element={checkboxProto}\n          {...widgetProps}\n        />\n      )\n    }\n\n    case \"colorPicker\": {\n      const colorPickerProto = node.element.colorPicker as ColorPickerProto\n      widgetProps.disabled = widgetProps.disabled || colorPickerProto.disabled\n      return (\n        <ColorPicker\n          key={colorPickerProto.id}\n          element={colorPickerProto}\n          {...widgetProps}\n        />\n      )\n    }\n\n    case \"componentInstance\":\n      return (\n        <ComponentInstance\n          registry={props.componentRegistry}\n          element={node.element.componentInstance as ComponentInstanceProto}\n          {...widgetProps}\n        />\n      )\n\n    case \"dateInput\": {\n      const dateInputProto = node.element.dateInput as DateInputProto\n      widgetProps.disabled = widgetProps.disabled || dateInputProto.disabled\n      return (\n        <DateInput\n          key={dateInputProto.id}\n          element={dateInputProto}\n          {...widgetProps}\n        />\n      )\n    }\n\n    case \"fileUploader\": {\n      const fileUploaderProto = node.element.fileUploader as FileUploaderProto\n      widgetProps.disabled = widgetProps.disabled || fileUploaderProto.disabled\n      return (\n        <FileUploader\n          key={fileUploaderProto.id}\n          element={fileUploaderProto}\n          uploadClient={props.uploadClient}\n          {...widgetProps}\n        />\n      )\n    }\n\n    case \"linkButton\": {\n      const linkButtonProto = node.element.linkButton as LinkButtonProto\n      widgetProps.disabled = widgetProps.disabled || linkButtonProto.disabled\n      return <LinkButton element={linkButtonProto} {...widgetProps} />\n    }\n\n    case \"multiselect\": {\n      const multiSelectProto = node.element.multiselect as MultiSelectProto\n      widgetProps.disabled = widgetProps.disabled || multiSelectProto.disabled\n      return (\n        <Multiselect\n          key={multiSelectProto.id}\n          element={multiSelectProto}\n          {...widgetProps}\n        />\n      )\n    }\n\n    case \"numberInput\": {\n      const numberInputProto = node.element.numberInput as NumberInputProto\n      widgetProps.disabled = widgetProps.disabled || numberInputProto.disabled\n      return (\n        <NumberInput\n          key={numberInputProto.id}\n          element={numberInputProto}\n          {...widgetProps}\n        />\n      )\n    }\n\n    case \"plotlyChart\": {\n      const plotlyProto = node.element.plotlyChart as PlotlyChartProto\n      return (\n        <PlotlyChart\n          key={plotlyProto.id}\n          element={plotlyProto}\n          {...widgetProps}\n        />\n      )\n    }\n\n    case \"radio\": {\n      const radioProto = node.element.radio as RadioProto\n      widgetProps.disabled = widgetProps.disabled || radioProto.disabled\n      return (\n        <Radio key={radioProto.id} element={radioProto} {...widgetProps} />\n      )\n    }\n\n    case \"selectbox\": {\n      const selectboxProto = node.element.selectbox as SelectboxProto\n      widgetProps.disabled = widgetProps.disabled || selectboxProto.disabled\n      return (\n        <Selectbox\n          key={selectboxProto.id}\n          element={selectboxProto}\n          {...widgetProps}\n        />\n      )\n    }\n\n    case \"slider\": {\n      const sliderProto = node.element.slider as SliderProto\n      widgetProps.disabled = widgetProps.disabled || sliderProto.disabled\n      return (\n        <Slider key={sliderProto.id} element={sliderProto} {...widgetProps} />\n      )\n    }\n\n    case \"textArea\": {\n      const textAreaProto = node.element.textArea as TextAreaProto\n      widgetProps.disabled = widgetProps.disabled || textAreaProto.disabled\n      return (\n        <TextArea\n          key={textAreaProto.id}\n          element={textAreaProto}\n          {...widgetProps}\n        />\n      )\n    }\n\n    case \"textInput\": {\n      const textInputProto = node.element.textInput as TextInputProto\n      widgetProps.disabled = widgetProps.disabled || textInputProto.disabled\n      return (\n        <TextInput\n          key={textInputProto.id}\n          element={textInputProto}\n          {...widgetProps}\n        />\n      )\n    }\n\n    case \"timeInput\": {\n      const timeInputProto = node.element.timeInput as TimeInputProto\n      widgetProps.disabled = widgetProps.disabled || timeInputProto.disabled\n      return (\n        <TimeInput\n          key={timeInputProto.id}\n          element={timeInputProto}\n          {...widgetProps}\n        />\n      )\n    }\n\n    default:\n      throw new Error(`Unrecognized Element type ${node.element.type}`)\n  }\n}\n\n// Render ElementNodes (i.e. leaf nodes) wrapped in error catchers and all sorts of other //\n// utilities.\nconst ElementNodeRenderer = (\n  props: ElementNodeRendererProps\n): ReactElement => {\n  const { isFullScreen, fragmentIdsThisRun } = React.useContext(LibContext)\n  const { node, width } = props\n\n  const elementType = node.element.type || \"\"\n  const enable = shouldComponentBeEnabled(elementType, props.scriptRunState)\n  const isStale = isComponentStale(\n    enable,\n    node,\n    props.scriptRunState,\n    props.scriptRunId,\n    fragmentIdsThisRun\n  )\n\n  // Get the user key - if it was specified - and use it as CSS class name:\n  const elementId = getElementId(node.element)\n  const userKey = getKeyFromId(elementId)\n\n  // TODO: If would be great if we could return an empty fragment if isHidden is true, to keep the\n  // DOM clean. But this would require the keys passed to ElementNodeRenderer at Block.tsx to be a\n  // stable hash of some sort.\n\n  return (\n    <Maybe enable={enable}>\n      <StyledElementContainer\n        className={classNames(\n          \"stElementContainer\",\n          \"element-container\",\n          convertKeyToClassName(userKey)\n        )}\n        data-testid=\"stElementContainer\"\n        data-stale={isStale}\n        // Applying stale opacity in fullscreen mode\n        // causes the fullscreen overlay to be transparent.\n        isStale={isStale && !isFullScreen}\n        width={width}\n        elementType={elementType}\n      >\n        <ErrorBoundary width={width}>\n          <Suspense\n            fallback={\n              <Skeleton\n                element={SkeletonProto.create({\n                  style: SkeletonProto.SkeletonStyle.ELEMENT,\n                })}\n              />\n            }\n          >\n            <RawElementNodeRenderer {...props} isStale={isStale} />\n          </Suspense>\n        </ErrorBoundary>\n      </StyledElementContainer>\n    </Maybe>\n  )\n}\n\nexport default ElementNodeRenderer\n"],"mappings":"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"}