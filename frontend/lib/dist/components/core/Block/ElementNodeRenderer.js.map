{"version":3,"file":"ElementNodeRenderer.js","names":["Skeleton","SkeletonProto","React","Suspense","debounceRender","AlertElement","ArrowTable","DocString","ErrorBoundary","ExceptionElement","Json","Markdown","Metric","TextElement","ComponentInstance","getAlertElementKind","Maybe","FormSubmitContent","Heading","LibContext","shouldComponentBeEnabled","isComponentStale","StyledElementContainer","Fragment","_Fragment","jsx","_jsx","Audio","lazy","Balloons","Snow","ArrowDataFrame","ArrowVegaLiteChart","Toast","BokehChart","DebouncedBokehChart","DeckGlJsonChart","GraphVizChart","IFrame","ImageList","LinkButton","PageLink","PlotlyChart","Video","Button","DownloadButton","CameraInput","ChatInput","Checkbox","ColorPicker","DateInput","Html","Multiselect","Progress","Spinner","Radio","Selectbox","Slider","FileUploader","TextArea","TextInput","TimeInput","NumberInput","StreamlitSyntaxHighlighter","hideIfStale","isStale","component","RawElementNodeRenderer","props","node","Error","elementProps","width","disableFullscreenMode","widgetProps","widgetMgr","disabled","widgetsDisabled","fragmentId","element","type","alertProto","alert","icon","body","kind","format","quiverElement","audio","endpoints","elementMgr","scriptRunId","bokehChart","codeProto","code","language","showLineNumbers","children","codeText","deckGlJsonChart","docString","className","exception","graphvizChart","heading","iframe","imgs","json","markdown","metric","html","pageLinkProto","pageLink","isDisabled","progress","skeleton","spinner","text","video","toastProto","toast","arrowProto","arrowDataFrame","data","id","key","vegaLiteElement","vegaLiteChartElement","undefined","buttonProto","button","isFormSubmitter","formId","hasInProgressUpload","formsData","formsWithUploads","has","downloadButtonProto","downloadButton","cameraInputProto","cameraInput","uploadClient","chatInputProto","chatInput","checkboxProto","checkbox","colorPickerProto","colorPicker","registry","componentRegistry","componentInstance","dateInputProto","dateInput","fileUploaderProto","fileUploader","linkButtonProto","linkButton","multiSelectProto","multiselect","numberInputProto","numberInput","plotlyProto","plotlyChart","radioProto","radio","selectboxProto","selectbox","sliderProto","slider","textAreaProto","textArea","textInputProto","textInput","timeInputProto","timeInput","concat","ElementNodeRenderer","isFullScreen","fragmentIdsThisRun","useContext","elementType","enable","scriptRunState","fallback","create","style","SkeletonStyle","ELEMENT"],"sources":["../../../../src/components/core/Block/ElementNodeRenderer.tsx"],"sourcesContent":["/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  Arrow as ArrowProto,\n  Alert as AlertProto,\n  Audio as AudioProto,\n  BokehChart as BokehChartProto,\n  Button as ButtonProto,\n  DownloadButton as DownloadButtonProto,\n  CameraInput as CameraInputProto,\n  ChatInput as ChatInputProto,\n  Checkbox as CheckboxProto,\n  Code as CodeProto,\n  ColorPicker as ColorPickerProto,\n  ComponentInstance as ComponentInstanceProto,\n  DateInput as DateInputProto,\n  FileUploader as FileUploaderProto,\n  Html as HtmlProto,\n  MultiSelect as MultiSelectProto,\n  NumberInput as NumberInputProto,\n  Radio as RadioProto,\n  Skeleton as SkeletonProto,\n  Selectbox as SelectboxProto,\n  Slider as SliderProto,\n  Spinner as SpinnerProto,\n  TextArea as TextAreaProto,\n  TextInput as TextInputProto,\n  TimeInput as TimeInputProto,\n  DeckGlJsonChart as DeckGlJsonChartProto,\n  DocString as DocStringProto,\n  Exception as ExceptionProto,\n  GraphVizChart as GraphVizChartProto,\n  IFrame as IFrameProto,\n  ImageList as ImageListProto,\n  Json as JsonProto,\n  LinkButton as LinkButtonProto,\n  Markdown as MarkdownProto,\n  Metric as MetricProto,\n  PageLink as PageLinkProto,\n  PlotlyChart as PlotlyChartProto,\n  Progress as ProgressProto,\n  Text as TextProto,\n  Toast as ToastProto,\n  Video as VideoProto,\n  Heading as HeadingProto,\n} from \"@streamlit/lib/src/proto\"\n\nimport React, { ReactElement, Suspense } from \"react\"\nimport debounceRender from \"react-debounce-render\"\nimport { ElementNode } from \"@streamlit/lib/src/AppNode\"\nimport { Quiver } from \"@streamlit/lib/src/dataframes/Quiver\"\n\n// Load (non-lazy) elements.\nimport AlertElement from \"@streamlit/lib/src/components/elements/AlertElement\"\nimport ArrowTable from \"@streamlit/lib/src/components/elements/ArrowTable\"\nimport DocString from \"@streamlit/lib/src/components/elements/DocString\"\nimport ErrorBoundary from \"@streamlit/lib/src/components/shared/ErrorBoundary\"\nimport ExceptionElement from \"@streamlit/lib/src/components/elements/ExceptionElement\"\nimport Json from \"@streamlit/lib/src/components/elements/Json\"\nimport Markdown from \"@streamlit/lib/src/components/elements/Markdown\"\nimport Metric from \"@streamlit/lib/src/components/elements/Metric\"\nimport { Skeleton } from \"@streamlit/lib/src/components/elements/Skeleton\"\nimport TextElement from \"@streamlit/lib/src/components/elements/TextElement\"\nimport { ComponentInstance } from \"@streamlit/lib/src/components/widgets/CustomComponent\"\nimport { VegaLiteChartElement } from \"@streamlit/lib/src/components/elements/ArrowVegaLiteChart\"\nimport { getAlertElementKind } from \"@streamlit/lib/src/components/elements/AlertElement/AlertElement\"\n\nimport Maybe from \"@streamlit/lib/src/components/core/Maybe\"\nimport { FormSubmitContent } from \"@streamlit/lib/src/components/widgets/Form\"\nimport Heading from \"@streamlit/lib/src/components/shared/StreamlitMarkdown/Heading\"\nimport { LibContext } from \"@streamlit/lib/src/components/core/LibContext\"\n\nimport {\n  BaseBlockProps,\n  shouldComponentBeEnabled,\n  isComponentStale,\n} from \"./utils\"\n\nimport { StyledElementContainer } from \"./styled-components\"\n\n// Lazy-load elements.\nconst Audio = React.lazy(\n  () => import(\"@streamlit/lib/src/components/elements/Audio\")\n)\nconst Balloons = React.lazy(\n  () => import(\"@streamlit/lib/src/components/elements/Balloons\")\n)\nconst Snow = React.lazy(\n  () => import(\"@streamlit/lib/src/components/elements/Snow\")\n)\nconst ArrowDataFrame = React.lazy(\n  () => import(\"@streamlit/lib/src/components/widgets/DataFrame\")\n)\nconst ArrowVegaLiteChart = React.lazy(\n  () => import(\"@streamlit/lib/src/components/elements/ArrowVegaLiteChart\")\n)\nconst Toast = React.lazy(\n  () => import(\"@streamlit/lib/src/components/elements/Toast\")\n)\n\n// BokehChart render function is sluggish. If the component is not debounced,\n// AutoSizer causes it to rerender multiple times for different widths\n// when the sidebar is toggled, which significantly slows down the app.\nconst BokehChart = React.lazy(\n  () => import(\"@streamlit/lib/src/components/elements/BokehChart\")\n)\n\n// RTL ESLint triggers a false positive on this render function\n// eslint-disable-next-line testing-library/render-result-naming-convention\nconst DebouncedBokehChart = debounceRender(BokehChart, 100)\n\nconst DeckGlJsonChart = React.lazy(\n  () => import(\"@streamlit/lib/src/components/elements/DeckGlJsonChart\")\n)\nconst GraphVizChart = React.lazy(\n  () => import(\"@streamlit/lib/src/components/elements/GraphVizChart\")\n)\nconst IFrame = React.lazy(\n  () => import(\"@streamlit/lib/src/components/elements/IFrame\")\n)\nconst ImageList = React.lazy(\n  () => import(\"@streamlit/lib/src/components/elements/ImageList\")\n)\n\nconst LinkButton = React.lazy(\n  () => import(\"@streamlit/lib/src/components/elements/LinkButton\")\n)\n\nconst PageLink = React.lazy(\n  () => import(\"@streamlit/lib/src/components/elements/PageLink\")\n)\n\nconst PlotlyChart = React.lazy(\n  () => import(\"@streamlit/lib/src/components/elements/PlotlyChart\")\n)\nconst Video = React.lazy(\n  () => import(\"@streamlit/lib/src/components/elements/Video\")\n)\n\n// Lazy-load widgets.\nconst Button = React.lazy(\n  () => import(\"@streamlit/lib/src/components/widgets/Button\")\n)\nconst DownloadButton = React.lazy(\n  () => import(\"@streamlit/lib/src/components/widgets/DownloadButton\")\n)\nconst CameraInput = React.lazy(\n  () => import(\"@streamlit/lib/src/components/widgets/CameraInput\")\n)\nconst ChatInput = React.lazy(\n  () => import(\"@streamlit/lib/src/components/widgets/ChatInput\")\n)\nconst Checkbox = React.lazy(\n  () => import(\"@streamlit/lib/src/components/widgets/Checkbox\")\n)\nconst ColorPicker = React.lazy(\n  () => import(\"@streamlit/lib/src/components/widgets/ColorPicker\")\n)\nconst DateInput = React.lazy(\n  () => import(\"@streamlit/lib/src/components/widgets/DateInput\")\n)\nconst Html = React.lazy(\n  () => import(\"@streamlit/lib/src/components/elements/Html\")\n)\nconst Multiselect = React.lazy(\n  () => import(\"@streamlit/lib/src/components/widgets/Multiselect\")\n)\nconst Progress = React.lazy(\n  () => import(\"@streamlit/lib/src/components/elements/Progress\")\n)\nconst Spinner = React.lazy(\n  () => import(\"@streamlit/lib/src/components/elements/Spinner\")\n)\nconst Radio = React.lazy(\n  () => import(\"@streamlit/lib/src/components/widgets/Radio\")\n)\nconst Selectbox = React.lazy(\n  () => import(\"@streamlit/lib/src/components/widgets/Selectbox\")\n)\nconst Slider = React.lazy(\n  () => import(\"@streamlit/lib/src/components/widgets/Slider\")\n)\nconst FileUploader = React.lazy(\n  () => import(\"@streamlit/lib/src/components/widgets/FileUploader\")\n)\nconst TextArea = React.lazy(\n  () => import(\"@streamlit/lib/src/components/widgets/TextArea\")\n)\nconst TextInput = React.lazy(\n  () => import(\"@streamlit/lib/src/components/widgets/TextInput\")\n)\nconst TimeInput = React.lazy(\n  () => import(\"@streamlit/lib/src/components/widgets/TimeInput\")\n)\nconst NumberInput = React.lazy(\n  () => import(\"@streamlit/lib/src/components/widgets/NumberInput\")\n)\nconst StreamlitSyntaxHighlighter = React.lazy(\n  () =>\n    import(\n      \"@streamlit/lib/src/components/elements/CodeBlock/StreamlitSyntaxHighlighter\"\n    )\n)\n\nexport interface ElementNodeRendererProps extends BaseBlockProps {\n  node: ElementNode\n  width: number\n}\n\ninterface RawElementNodeRendererProps extends ElementNodeRendererProps {\n  isStale: boolean\n}\n\nfunction hideIfStale(isStale: boolean, component: ReactElement): ReactElement {\n  return isStale ? <></> : component\n}\n\n// Render ElementNodes (i.e. leaf nodes).\nconst RawElementNodeRenderer = (\n  props: RawElementNodeRendererProps\n): ReactElement => {\n  const { node } = props\n\n  if (!node) {\n    throw new Error(\"ElementNode not found.\")\n  }\n\n  const elementProps = {\n    width: props.width,\n    disableFullscreenMode: props.disableFullscreenMode,\n  }\n\n  const widgetProps = {\n    ...elementProps,\n    widgetMgr: props.widgetMgr,\n    disabled: props.widgetsDisabled,\n    fragmentId: node.fragmentId,\n  }\n\n  switch (node.element.type) {\n    case \"alert\": {\n      const alertProto = node.element.alert as AlertProto\n      return (\n        <AlertElement\n          icon={alertProto.icon}\n          body={alertProto.body}\n          kind={getAlertElementKind(alertProto.format)}\n          {...elementProps}\n        />\n      )\n    }\n\n    case \"arrowTable\":\n      return (\n        <ArrowTable element={node.quiverElement as Quiver} {...elementProps} />\n      )\n\n    case \"audio\":\n      return (\n        <Audio\n          element={node.element.audio as AudioProto}\n          endpoints={props.endpoints}\n          {...elementProps}\n          elementMgr={props.widgetMgr}\n        />\n      )\n\n    case \"balloons\":\n      return hideIfStale(\n        props.isStale,\n        <Balloons scriptRunId={props.scriptRunId} />\n      )\n\n    case \"bokehChart\":\n      return (\n        <DebouncedBokehChart\n          element={node.element.bokehChart as BokehChartProto}\n          {...elementProps}\n        />\n      )\n\n    case \"code\": {\n      const codeProto = node.element.code as CodeProto\n      return (\n        <StreamlitSyntaxHighlighter\n          language={codeProto.language}\n          showLineNumbers={codeProto.showLineNumbers}\n        >\n          {codeProto.codeText}\n        </StreamlitSyntaxHighlighter>\n      )\n    }\n\n    case \"deckGlJsonChart\":\n      return (\n        <DeckGlJsonChart\n          element={node.element.deckGlJsonChart as DeckGlJsonChartProto}\n          {...elementProps}\n        />\n      )\n\n    case \"docString\":\n      return (\n        <DocString\n          element={node.element.docString as DocStringProto}\n          {...elementProps}\n        />\n      )\n\n    case \"empty\":\n      return <div className=\"stHidden\" data-testid=\"stEmpty\" />\n\n    case \"exception\":\n      return (\n        <ExceptionElement\n          element={node.element.exception as ExceptionProto}\n          {...elementProps}\n        />\n      )\n\n    case \"graphvizChart\":\n      return (\n        <GraphVizChart\n          element={node.element.graphvizChart as GraphVizChartProto}\n          {...elementProps}\n        />\n      )\n\n    case \"heading\":\n      return (\n        <Heading\n          element={node.element.heading as HeadingProto}\n          {...elementProps}\n        />\n      )\n\n    case \"iframe\":\n      return (\n        <IFrame\n          element={node.element.iframe as IFrameProto}\n          {...elementProps}\n        />\n      )\n\n    case \"imgs\":\n      return (\n        <ImageList\n          element={node.element.imgs as ImageListProto}\n          endpoints={props.endpoints}\n          {...elementProps}\n        />\n      )\n\n    case \"json\":\n      return (\n        <Json element={node.element.json as JsonProto} {...elementProps} />\n      )\n\n    case \"markdown\":\n      return (\n        <Markdown\n          element={node.element.markdown as MarkdownProto}\n          {...elementProps}\n        />\n      )\n\n    case \"metric\":\n      return <Metric element={node.element.metric as MetricProto} />\n\n    case \"html\":\n      return (\n        <Html element={node.element.html as HtmlProto} {...elementProps} />\n      )\n\n    case \"pageLink\": {\n      const pageLinkProto = node.element.pageLink as PageLinkProto\n      const isDisabled = widgetProps.disabled || pageLinkProto.disabled\n      return (\n        <PageLink\n          element={pageLinkProto}\n          disabled={isDisabled}\n          {...elementProps}\n        />\n      )\n    }\n\n    case \"progress\":\n      return (\n        <Progress\n          element={node.element.progress as ProgressProto}\n          {...elementProps}\n        />\n      )\n\n    case \"skeleton\": {\n      return <Skeleton element={node.element.skeleton as SkeletonProto} />\n    }\n\n    case \"snow\":\n      return hideIfStale(\n        props.isStale,\n        <Snow scriptRunId={props.scriptRunId} />\n      )\n\n    case \"spinner\":\n      return (\n        <Spinner\n          element={node.element.spinner as SpinnerProto}\n          {...elementProps}\n        />\n      )\n\n    case \"text\":\n      return (\n        <TextElement\n          element={node.element.text as TextProto}\n          {...elementProps}\n        />\n      )\n\n    case \"video\":\n      return (\n        <Video\n          element={node.element.video as VideoProto}\n          endpoints={props.endpoints}\n          {...elementProps}\n          elementMgr={props.widgetMgr}\n        />\n      )\n\n    // Events:\n    case \"toast\": {\n      const toastProto = node.element.toast as ToastProto\n      return (\n        <Toast\n          // React key needed so toasts triggered on re-run\n          key={node.scriptRunId}\n          body={toastProto.body}\n          icon={toastProto.icon}\n          {...elementProps}\n        />\n      )\n    }\n\n    // Widgets:\n    case \"arrowDataFrame\": {\n      const arrowProto = node.element.arrowDataFrame as ArrowProto\n      widgetProps.disabled = widgetProps.disabled || arrowProto.disabled\n      return (\n        <ArrowDataFrame\n          element={arrowProto}\n          data={node.quiverElement as Quiver}\n          // Arrow dataframe can be used as a widget (data_editor) or\n          // an element (dataframe). We only want to set the key in case of\n          // it being used as a widget. For the non-widget usage, the id will\n          // be undefined.\n          {...(arrowProto.id && {\n            key: arrowProto.id,\n          })}\n          {...widgetProps}\n        />\n      )\n    }\n\n    case \"arrowVegaLiteChart\":\n      const vegaLiteElement = node.vegaLiteChartElement as VegaLiteChartElement\n      return (\n        <ArrowVegaLiteChart\n          element={vegaLiteElement}\n          // Vega-lite chart can be used as a widget (when selections are activated) or\n          // an element. We only want to set the key in case of it being used as a widget\n          // since otherwise it might break some apps that show the same charts multiple times.\n          // So we only compute an element ID if it's a widget, otherwise its an empty string.\n          key={vegaLiteElement.id || undefined}\n          {...widgetProps}\n        />\n      )\n\n    case \"button\": {\n      const buttonProto = node.element.button as ButtonProto\n      widgetProps.disabled = widgetProps.disabled || buttonProto.disabled\n      if (buttonProto.isFormSubmitter) {\n        const { formId } = buttonProto\n        const hasInProgressUpload =\n          props.formsData.formsWithUploads.has(formId)\n        return (\n          <FormSubmitContent\n            element={buttonProto}\n            hasInProgressUpload={hasInProgressUpload}\n            {...widgetProps}\n          />\n        )\n      }\n      return <Button element={buttonProto} {...widgetProps} />\n    }\n\n    case \"downloadButton\": {\n      const downloadButtonProto = node.element\n        .downloadButton as DownloadButtonProto\n      widgetProps.disabled =\n        widgetProps.disabled || downloadButtonProto.disabled\n      return (\n        <DownloadButton\n          endpoints={props.endpoints}\n          key={downloadButtonProto.id}\n          element={downloadButtonProto}\n          {...widgetProps}\n        />\n      )\n    }\n\n    case \"cameraInput\": {\n      const cameraInputProto = node.element.cameraInput as CameraInputProto\n      widgetProps.disabled = widgetProps.disabled || cameraInputProto.disabled\n      return (\n        <CameraInput\n          key={cameraInputProto.id}\n          element={cameraInputProto}\n          uploadClient={props.uploadClient}\n          {...widgetProps}\n        />\n      )\n    }\n\n    case \"chatInput\": {\n      const chatInputProto = node.element.chatInput as ChatInputProto\n      widgetProps.disabled = widgetProps.disabled || chatInputProto.disabled\n      return (\n        <ChatInput\n          key={chatInputProto.id}\n          element={chatInputProto}\n          {...widgetProps}\n        />\n      )\n    }\n\n    case \"checkbox\": {\n      const checkboxProto = node.element.checkbox as CheckboxProto\n      widgetProps.disabled = widgetProps.disabled || checkboxProto.disabled\n      return (\n        <Checkbox\n          key={checkboxProto.id}\n          element={checkboxProto}\n          {...widgetProps}\n        />\n      )\n    }\n\n    case \"colorPicker\": {\n      const colorPickerProto = node.element.colorPicker as ColorPickerProto\n      widgetProps.disabled = widgetProps.disabled || colorPickerProto.disabled\n      return (\n        <ColorPicker\n          key={colorPickerProto.id}\n          element={colorPickerProto}\n          {...widgetProps}\n        />\n      )\n    }\n\n    case \"componentInstance\":\n      return (\n        <ComponentInstance\n          registry={props.componentRegistry}\n          element={node.element.componentInstance as ComponentInstanceProto}\n          {...widgetProps}\n        />\n      )\n\n    case \"dateInput\": {\n      const dateInputProto = node.element.dateInput as DateInputProto\n      widgetProps.disabled = widgetProps.disabled || dateInputProto.disabled\n      return (\n        <DateInput\n          key={dateInputProto.id}\n          element={dateInputProto}\n          {...widgetProps}\n        />\n      )\n    }\n\n    case \"fileUploader\": {\n      const fileUploaderProto = node.element.fileUploader as FileUploaderProto\n      widgetProps.disabled = widgetProps.disabled || fileUploaderProto.disabled\n      return (\n        <FileUploader\n          key={fileUploaderProto.id}\n          element={fileUploaderProto}\n          uploadClient={props.uploadClient}\n          {...widgetProps}\n        />\n      )\n    }\n\n    case \"linkButton\": {\n      const linkButtonProto = node.element.linkButton as LinkButtonProto\n      widgetProps.disabled = widgetProps.disabled || linkButtonProto.disabled\n      return <LinkButton element={linkButtonProto} {...widgetProps} />\n    }\n\n    case \"multiselect\": {\n      const multiSelectProto = node.element.multiselect as MultiSelectProto\n      widgetProps.disabled = widgetProps.disabled || multiSelectProto.disabled\n      return (\n        <Multiselect\n          key={multiSelectProto.id}\n          element={multiSelectProto}\n          {...widgetProps}\n        />\n      )\n    }\n\n    case \"numberInput\": {\n      const numberInputProto = node.element.numberInput as NumberInputProto\n      widgetProps.disabled = widgetProps.disabled || numberInputProto.disabled\n      return (\n        <NumberInput\n          key={numberInputProto.id}\n          element={numberInputProto}\n          {...widgetProps}\n        />\n      )\n    }\n\n    case \"plotlyChart\": {\n      const plotlyProto = node.element.plotlyChart as PlotlyChartProto\n      return (\n        <PlotlyChart\n          key={plotlyProto.id}\n          element={plotlyProto}\n          {...widgetProps}\n        />\n      )\n    }\n\n    case \"radio\": {\n      const radioProto = node.element.radio as RadioProto\n      widgetProps.disabled = widgetProps.disabled || radioProto.disabled\n      return (\n        <Radio key={radioProto.id} element={radioProto} {...widgetProps} />\n      )\n    }\n\n    case \"selectbox\": {\n      const selectboxProto = node.element.selectbox as SelectboxProto\n      widgetProps.disabled = widgetProps.disabled || selectboxProto.disabled\n      return (\n        <Selectbox\n          key={selectboxProto.id}\n          element={selectboxProto}\n          {...widgetProps}\n        />\n      )\n    }\n\n    case \"slider\": {\n      const sliderProto = node.element.slider as SliderProto\n      widgetProps.disabled = widgetProps.disabled || sliderProto.disabled\n      return (\n        <Slider key={sliderProto.id} element={sliderProto} {...widgetProps} />\n      )\n    }\n\n    case \"textArea\": {\n      const textAreaProto = node.element.textArea as TextAreaProto\n      widgetProps.disabled = widgetProps.disabled || textAreaProto.disabled\n      return (\n        <TextArea\n          key={textAreaProto.id}\n          element={textAreaProto}\n          {...widgetProps}\n        />\n      )\n    }\n\n    case \"textInput\": {\n      const textInputProto = node.element.textInput as TextInputProto\n      widgetProps.disabled = widgetProps.disabled || textInputProto.disabled\n      return (\n        <TextInput\n          key={textInputProto.id}\n          element={textInputProto}\n          {...widgetProps}\n        />\n      )\n    }\n\n    case \"timeInput\": {\n      const timeInputProto = node.element.timeInput as TimeInputProto\n      widgetProps.disabled = widgetProps.disabled || timeInputProto.disabled\n      return (\n        <TimeInput\n          key={timeInputProto.id}\n          element={timeInputProto}\n          {...widgetProps}\n        />\n      )\n    }\n\n    default:\n      throw new Error(`Unrecognized Element type ${node.element.type}`)\n  }\n}\n\n// Render ElementNodes (i.e. leaf nodes) wrapped in error catchers and all sorts of other //\n// utilities.\nconst ElementNodeRenderer = (\n  props: ElementNodeRendererProps\n): ReactElement => {\n  const { isFullScreen, fragmentIdsThisRun } = React.useContext(LibContext)\n  const { node, width } = props\n\n  const elementType = node.element.type || \"\"\n  const enable = shouldComponentBeEnabled(elementType, props.scriptRunState)\n  const isStale = isComponentStale(\n    enable,\n    node,\n    props.scriptRunState,\n    props.scriptRunId,\n    fragmentIdsThisRun\n  )\n\n  // TODO: If would be great if we could return an empty fragment if isHidden is true, to keep the\n  // DOM clean. But this would require the keys passed to ElementNodeRenderer at Block.tsx to be a\n  // stable hash of some sort.\n\n  return (\n    <Maybe enable={enable}>\n      <StyledElementContainer\n        data-stale={isStale}\n        // Applying stale opacity in fullscreen mode\n        // causes the fullscreen overlay to be transparent.\n        isStale={isStale && !isFullScreen}\n        width={width}\n        className={\"element-container\"}\n        data-testid={\"element-container\"}\n        elementType={elementType}\n      >\n        <ErrorBoundary width={width}>\n          <Suspense\n            fallback={\n              <Skeleton\n                element={SkeletonProto.create({\n                  style: SkeletonProto.SkeletonStyle.ELEMENT,\n                })}\n              />\n            }\n          >\n            <RawElementNodeRenderer {...props} isStale={isStale} />\n          </Suspense>\n        </ErrorBoundary>\n      </StyledElementContainer>\n    </Maybe>\n  )\n}\n\nexport default ElementNodeRenderer\n"],"mappings":"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"}