{"version":3,"file":"BaseButton.test.js","names":["React","screen","fireEvent","render","lightTheme","BaseButton","BaseButtonSize","BaseButtonKind","jsx","_jsx","getProps","propOverrides","arguments","length","undefined","kind","SECONDARY","size","MEDIUM","onClick","disabled","fluidWidth","children","describe","Object","keys","forEach","key","it","concat","buttonWidget","getByTestId","expect","toBeInTheDocument","toBeDisabled","spacing","emotion","expectedPadding","XSMALL","twoXS","sm","SMALL","md","LARGE","xs","getByRole","toHaveStyle","jest","fn","click","toHaveBeenCalled"],"sources":["../../../../src/components/shared/BaseButton/BaseButton.test.tsx"],"sourcesContent":["/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\"\nimport { screen, fireEvent } from \"@testing-library/react\"\nimport \"@testing-library/jest-dom\"\n\nimport { render } from \"@streamlit/lib/src/test_util\"\n\nimport { lightTheme } from \"@streamlit/lib/src/theme\"\n\nimport BaseButton, {\n  BaseButtonSize,\n  BaseButtonKind,\n  BaseButtonProps,\n} from \"./BaseButton\"\n\nconst getProps = (\n  propOverrides: Partial<BaseButtonProps> = {}\n): BaseButtonProps => ({\n  kind: BaseButtonKind.SECONDARY,\n  size: BaseButtonSize.MEDIUM,\n  onClick: () => {},\n  disabled: false,\n  fluidWidth: false,\n  children: null,\n  ...propOverrides,\n})\n\ndescribe(\"Button element\", () => {\n  Object.keys(BaseButtonKind).forEach(key => {\n    const kind: BaseButtonKind =\n      BaseButtonKind[key as keyof typeof BaseButtonKind]\n\n    it(`renders ${kind} buttons correctly`, () => {\n      render(<BaseButton {...getProps({ kind })}>Hello</BaseButton>)\n\n      const buttonWidget = screen.getByTestId(`baseButton-${kind}`)\n\n      expect(buttonWidget).toBeInTheDocument()\n    })\n\n    it(`renders disabled ${kind} correctly`, () => {\n      render(\n        <BaseButton {...getProps({ kind, disabled: true })}>Hello</BaseButton>\n      )\n\n      const buttonWidget = screen.getByTestId(`baseButton-${kind}`)\n      expect(buttonWidget).toBeDisabled()\n    })\n  })\n\n  Object.keys(BaseButtonSize).forEach(key => {\n    const size: BaseButtonSize =\n      BaseButtonSize[key as keyof typeof BaseButtonSize]\n\n    it(`renders ${size} buttons correctly`, () => {\n      render(<BaseButton {...getProps({ size })}>Hello</BaseButton>)\n\n      const { spacing } = lightTheme.emotion\n      const expectedPadding = {\n        [BaseButtonSize.XSMALL]: `${spacing.twoXS} ${spacing.sm}`,\n        [BaseButtonSize.SMALL]: `${spacing.twoXS} ${spacing.md}`,\n        [BaseButtonSize.LARGE]: `${spacing.md} ${spacing.md}`,\n        [BaseButtonSize.MEDIUM]: `${spacing.xs} ${spacing.md}`,\n      }\n\n      const buttonWidget = screen.getByRole(\"button\")\n      expect(buttonWidget).toHaveStyle(`padding: ${expectedPadding[size]}`)\n    })\n  })\n\n  it(\"renders disabled buttons correctly\", () => {\n    render(<BaseButton {...getProps({ disabled: true })}>Hello</BaseButton>)\n\n    const buttonWidget = screen.getByRole(\"button\")\n    expect(buttonWidget).toBeDisabled()\n  })\n\n  it(\"calls onClick when button is clicked\", () => {\n    const onClick = jest.fn()\n    render(<BaseButton {...getProps({ onClick })}>Hello</BaseButton>)\n    const buttonWidget = screen.getByRole(\"button\")\n    fireEvent.click(buttonWidget)\n\n    expect(onClick).toHaveBeenCalled()\n  })\n\n  it(\"does not use container width by default\", () => {\n    render(<BaseButton {...getProps()}>Hello</BaseButton>)\n\n    const buttonWidget = screen.getByRole(\"button\")\n    expect(buttonWidget).toHaveStyle(\"width: auto\")\n  })\n\n  it(\"renders use container width buttons correctly\", () => {\n    render(<BaseButton {...getProps({ fluidWidth: true })}>Hello</BaseButton>)\n\n    const buttonWidget = screen.getByRole(\"button\")\n    expect(buttonWidget).toHaveStyle(\"width: 100%\")\n  })\n\n  it(\"renders use container width buttons correctly when explicit width passed\", () => {\n    // Fluid width is a number when the button has a help tooltip\n    // (need to pass explicit width down otherwise tooltip breaks use_container_width=True)\n    render(<BaseButton {...getProps({ fluidWidth: 250 })}>Hello</BaseButton>)\n\n    const buttonWidget = screen.getByRole(\"button\")\n    expect(buttonWidget).toHaveStyle(\"width: 250px\")\n  })\n})\n"],"mappings":"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"}