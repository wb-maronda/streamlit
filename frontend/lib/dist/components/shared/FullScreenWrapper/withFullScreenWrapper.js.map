{"version":3,"file":"withFullScreenWrapper.js","names":["React","PureComponent","hoistNonReactStatics","FullScreenWrapper","jsx","_jsx","withFullScreenWrapper","WrappedComponent","forceDisableFullScreenMode","arguments","length","undefined","ComponentWithFullScreenWrapper","constructor","render","width","height","disableFullscreenMode","props","children","_ref","expanded","expand","collapse","isFullScreen","displayName","concat","name"],"sources":["../../../../src/components/shared/FullScreenWrapper/withFullScreenWrapper.tsx"],"sourcesContent":["/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { PureComponent, ComponentType, ReactNode } from \"react\"\nimport hoistNonReactStatics from \"hoist-non-react-statics\"\n\nimport FullScreenWrapper from \"./FullScreenWrapper\"\n\nexport interface Props {\n  width: number\n  height?: number\n  disableFullscreenMode?: boolean\n}\n\n// Our wrapper takes the wrapped component's props, plus \"width\", \"height?\".\n// It will pass \"isFullScreen\" to the wrapped component automatically\n// (but the wrapped component is free to ignore that prop).\ntype WrapperProps<P> = Omit<P & Props, \"isFullScreen\" | \"collapse\" | \"expand\">\n\nfunction withFullScreenWrapper<P>(\n  WrappedComponent: ComponentType<React.PropsWithChildren<P>>,\n  forceDisableFullScreenMode = false\n): ComponentType<React.PropsWithChildren<WrapperProps<P>>> {\n  class ComponentWithFullScreenWrapper extends PureComponent<WrapperProps<P>> {\n    public static readonly displayName = `withFullScreenWrapper(${\n      WrappedComponent.displayName || WrappedComponent.name\n    })`\n\n    public render = (): ReactNode => {\n      const { width, height, disableFullscreenMode } = this.props\n\n      return (\n        <FullScreenWrapper\n          width={width}\n          height={height}\n          disableFullscreenMode={\n            forceDisableFullScreenMode || disableFullscreenMode\n          }\n        >\n          {({ width, height, expanded, expand, collapse }) => (\n            // `(this.props as P)` is required due to a TS bug:\n            // https://github.com/microsoft/TypeScript/issues/28938#issuecomment-450636046\n            <WrappedComponent\n              {...(this.props as P)}\n              width={width}\n              height={height}\n              isFullScreen={expanded}\n              expand={expand}\n              collapse={collapse}\n            />\n          )}\n        </FullScreenWrapper>\n      )\n    }\n  }\n\n  // Static methods must be copied over\n  // https://en.reactjs.org/docs/higher-order-components.html#static-methods-must-be-copied-over\n  return hoistNonReactStatics(ComponentWithFullScreenWrapper, WrappedComponent)\n}\n\nexport default withFullScreenWrapper\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAOA,KAAK,IAAIC,aAAa,QAAkC,OAAO;AACtE,OAAOC,oBAAoB,MAAM,yBAAyB;AAE1D,OAAOC,iBAAiB;;AAQxB;AACA;AACA;AAAA,SAAAC,GAAA,IAAAC,IAAA;AAGA,SAASC,qBAAqBA,CAC5BC,gBAA2D,EAEF;EAAA,IADzDC,0BAA0B,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,KAAK;EAElC,MAAMG,8BAA8B,SAASX,aAAa,CAAkB;IAAAY,YAAA;MAAA,SAAAJ,SAAA;MAAA,KAKnEK,MAAM,GAAG,MAAiB;QAC/B,MAAM;UAAEC,KAAK;UAAEC,MAAM;UAAEC;QAAsB,CAAC,GAAG,IAAI,CAACC,KAAK;QAE3D,oBACEb,IAAA,CAACF,iBAAiB;UAChBY,KAAK,EAAEA,KAAM;UACbC,MAAM,EAAEA,MAAO;UACfC,qBAAqB,EACnBT,0BAA0B,IAAIS,qBAC/B;UAAAE,QAAA,EAEAC,IAAA;YAAA,IAAC;cAAEL,KAAK;cAAEC,MAAM;cAAEK,QAAQ;cAAEC,MAAM;cAAEC;YAAS,CAAC,GAAAH,IAAA;YAAA;cAAA;cAC7C;cACA;cACAf,IAAA,CAACE,gBAAgB;gBAAA,GACV,IAAI,CAACW,KAAK;gBACfH,KAAK,EAAEA,KAAM;gBACbC,MAAM,EAAEA,MAAO;gBACfQ,YAAY,EAAEH,QAAS;gBACvBC,MAAM,EAAEA,MAAO;gBACfC,QAAQ,EAAEA;cAAS,CACpB;YAAC;UAAA;QACH,CACgB,CAAC;MAExB,CAAC;IAAA;EACH;;EAEA;EACA;EAlCMX,8BAA8B,CACXa,WAAW,4BAAAC,MAAA,CAChCnB,gBAAgB,CAACkB,WAAW,IAAIlB,gBAAgB,CAACoB,IAAI;EAiCzD,OAAOzB,oBAAoB,CAACU,8BAA8B,EAAEL,gBAAgB,CAAC;AAC/E;AAEA,eAAeD,qBAAqB"}