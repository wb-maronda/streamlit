{"version":3,"file":"ErrorBoundary.js","names":["React","ErrorElement","logError","jsx","_jsx","jsxs","_jsxs","ErrorBoundary","PureComponent","constructor","arguments","state","error","componentDidCatch","concat","name","message","stack","render","width","props","children","href","rel","target","getDerivedStateFromError"],"sources":["../../../../src/components/shared/ErrorBoundary/ErrorBoundary.tsx"],"sourcesContent":["/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\"\nimport ErrorElement from \"@streamlit/lib/src/components/shared/ErrorElement\"\nimport { logError } from \"@streamlit/lib/src/util/log\"\n\nexport interface Props {\n  width?: number\n}\n\nexport interface State {\n  error?: Error | null\n}\n\n/**\n * A component that catches errors that take place when React is asynchronously\n * rendering child components.\n */\nclass ErrorBoundary extends React.PureComponent<\n  React.PropsWithChildren<Props>,\n  State\n> {\n  public state: State = {\n    error: null,\n  }\n\n  public static getDerivedStateFromError = (error: Error): State => {\n    // Return the state update so the next render will show the fallback UI.\n    return {\n      error,\n    }\n  }\n\n  public componentDidCatch = (error: Error): void => {\n    logError(`${error.name}: ${error.message}\\n${error.stack}`)\n  }\n\n  public render(): React.ReactNode {\n    const { error } = this.state\n\n    if (error) {\n      if (error.name === \"ChunkLoadError\") {\n        return (\n          <ErrorElement\n            width={this.props.width}\n            name=\"Network issue\"\n            message={\n              <p>\n                Cannot load Streamlit frontend code. This can happen when you\n                update Streamlit while a Streamlit app is running.\n                <br />\n                To fix this, simply reload this app by pressing <kbd>\n                  F5\n                </kbd>, <kbd>Ctrl+R</kbd>, or <kbd>Cmd+R</kbd>.\n                <br />\n                If the error persists, try force-clearing your browser's cache\n                as described{\" \"}\n                <a\n                  href=\"https://en.wikipedia.org/wiki/Wikipedia:Bypass_your_cache#Cache_clearing_and_disabling\"\n                  rel=\"noopener noreferrer\"\n                  target=\"_blank\"\n                >\n                  here\n                </a>\n              </p>\n            }\n          />\n        )\n      }\n\n      return (\n        <ErrorElement\n          width={this.props.width}\n          name={error.name}\n          message={error.message}\n          stack={error.stack}\n        />\n      )\n    }\n\n    return this.props.children\n  }\n}\n\nexport default ErrorBoundary\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,YAAY;AACnB,SAASC,QAAQ;AAAqC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAUtD;AACA;AACA;AACA;AACA,MAAMC,aAAa,SAASP,KAAK,CAACQ,aAAa,CAG7C;EAAAC,YAAA;IAAA,SAAAC,SAAA;IAAA,KACOC,KAAK,GAAU;MACpBC,KAAK,EAAE;IACT,CAAC;IAAA,KASMC,iBAAiB,GAAID,KAAY,IAAW;MACjDV,QAAQ,IAAAY,MAAA,CAAIF,KAAK,CAACG,IAAI,QAAAD,MAAA,CAAKF,KAAK,CAACI,OAAO,QAAAF,MAAA,CAAKF,KAAK,CAACK,KAAK,CAAE,CAAC;IAC7D,CAAC;EAAA;EAEMC,MAAMA,CAAA,EAAoB;IAC/B,MAAM;MAAEN;IAAM,CAAC,GAAG,IAAI,CAACD,KAAK;IAE5B,IAAIC,KAAK,EAAE;MACT,IAAIA,KAAK,CAACG,IAAI,KAAK,gBAAgB,EAAE;QACnC,oBACEX,IAAA,CAACH,YAAY;UACXkB,KAAK,EAAE,IAAI,CAACC,KAAK,CAACD,KAAM;UACxBJ,IAAI,EAAC,eAAe;UACpBC,OAAO,eACLV,KAAA;YAAAe,QAAA,GAAG,kHAGD,eAAAjB,IAAA,SAAK,CAAC,oDAC0C,eAAAA,IAAA;cAAAiB,QAAA,EAAK;YAErD,CAAK,CAAC,MAAE,eAAAjB,IAAA;cAAAiB,QAAA,EAAK;YAAM,CAAK,CAAC,SAAK,eAAAjB,IAAA;cAAAiB,QAAA,EAAK;YAAK,CAAK,CAAC,KAC9C,eAAAjB,IAAA,SAAK,CAAC,+EAEM,EAAC,GAAG,eAChBA,IAAA;cACEkB,IAAI,EAAC,wFAAwF;cAC7FC,GAAG,EAAC,qBAAqB;cACzBC,MAAM,EAAC,QAAQ;cAAAH,QAAA,EAChB;YAED,CAAG,CAAC;UAAA,CACH;QACJ,CACF,CAAC;MAEN;MAEA,oBACEjB,IAAA,CAACH,YAAY;QACXkB,KAAK,EAAE,IAAI,CAACC,KAAK,CAACD,KAAM;QACxBJ,IAAI,EAAEH,KAAK,CAACG,IAAK;QACjBC,OAAO,EAAEJ,KAAK,CAACI,OAAQ;QACvBC,KAAK,EAAEL,KAAK,CAACK;MAAM,CACpB,CAAC;IAEN;IAEA,OAAO,IAAI,CAACG,KAAK,CAACC,QAAQ;EAC5B;AACF;AAhEMd,aAAa,CAQHkB,wBAAwB,GAAIb,KAAY,IAAY;EAChE;EACA,OAAO;IACLA;EACF,CAAC;AACH,CAAC;AAqDH,eAAeL,aAAa"}