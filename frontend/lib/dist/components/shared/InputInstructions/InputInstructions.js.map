{"version":3,"file":"InputInstructions.js","names":["React","isFromMac","StyledWidgetInstructions","StyledMessage","jsx","_jsx","InputInstructions","_ref","dirty","value","inForm","maxLength","className","type","allowEnterToSubmit","messages","addMessage","text","shouldBlink","arguments","length","undefined","push","includeDot","children","toSubmitFormOrApplyText","commandKey"],"sources":["../../../../src/components/shared/InputInstructions/InputInstructions.tsx"],"sourcesContent":["/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { ReactElement } from \"react\"\n\nimport { isFromMac } from \"@streamlit/lib/src/util/utils\"\nimport { StyledWidgetInstructions } from \"@streamlit/lib/src/components/widgets/BaseWidget\"\n\nimport { StyledMessage } from \"./styled-components\"\n\nexport interface Props {\n  dirty: boolean\n  value: string\n  inForm: boolean\n  maxLength?: number\n  className?: string\n  type?: \"multiline\" | \"single\" | \"chat\"\n  allowEnterToSubmit?: boolean\n}\n\nconst InputInstructions = ({\n  dirty,\n  value,\n  inForm,\n  maxLength,\n  className,\n  type = \"single\",\n  allowEnterToSubmit = true,\n}: Props): ReactElement => {\n  const messages: ReactElement[] = []\n  const addMessage = (text: string, shouldBlink = false): void => {\n    messages.push(\n      <StyledMessage\n        key={messages.length}\n        includeDot={messages.length > 0}\n        shouldBlink={shouldBlink}\n      >\n        {text}\n      </StyledMessage>\n    )\n  }\n\n  // Show enter instruction if not a form or form allows Enter to submit\n  if (dirty && allowEnterToSubmit) {\n    const toSubmitFormOrApplyText = inForm ? \"submit form\" : \"apply\"\n    if (type === \"multiline\") {\n      const commandKey = isFromMac() ? \"âŒ˜\" : \"Ctrl\"\n      addMessage(`Press ${commandKey}+Enter to ${toSubmitFormOrApplyText}`)\n    } else if (type === \"single\") {\n      addMessage(`Press Enter to ${toSubmitFormOrApplyText}`)\n    }\n  }\n\n  if (maxLength && (type !== \"chat\" || dirty)) {\n    addMessage(\n      `${value.length}/${maxLength}`,\n      dirty && value.length >= maxLength\n    )\n  }\n\n  return (\n    <StyledWidgetInstructions\n      data-testid=\"InputInstructions\"\n      className={className}\n    >\n      {messages}\n    </StyledWidgetInstructions>\n  )\n}\n\nexport default InputInstructions\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAOA,KAAK,MAAwB,OAAO;AAE3C,SAASC,SAAS;AAClB,SAASC,wBAAwB;AAEjC,SAASC,aAAa;AAA6B,SAAAC,GAAA,IAAAC,IAAA;AAYnD,MAAMC,iBAAiB,GAAGC,IAAA,IAQC;EAAA,IARA;IACzBC,KAAK;IACLC,KAAK;IACLC,MAAM;IACNC,SAAS;IACTC,SAAS;IACTC,IAAI,GAAG,QAAQ;IACfC,kBAAkB,GAAG;EAChB,CAAC,GAAAP,IAAA;EACN,MAAMQ,QAAwB,GAAG,EAAE;EACnC,MAAMC,UAAU,GAAG,SAAAA,CAACC,IAAY,EAAgC;IAAA,IAA9BC,WAAW,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,KAAK;IACnDJ,QAAQ,CAACO,IAAI,eACXjB,IAAA,CAACF,aAAa;MAEZoB,UAAU,EAAER,QAAQ,CAACK,MAAM,GAAG,CAAE;MAChCF,WAAW,EAAEA,WAAY;MAAAM,QAAA,EAExBP;IAAI,GAJAF,QAAQ,CAACK,MAKD,CACjB,CAAC;EACH,CAAC;;EAED;EACA,IAAIZ,KAAK,IAAIM,kBAAkB,EAAE;IAC/B,MAAMW,uBAAuB,GAAGf,MAAM,GAAG,aAAa,GAAG,OAAO;IAChE,IAAIG,IAAI,KAAK,WAAW,EAAE;MACxB,MAAMa,UAAU,GAAGzB,SAAS,CAAC,CAAC,GAAG,GAAG,GAAG,MAAM;MAC7Ce,UAAU,CAAE,SAAQU,UAAW,aAAYD,uBAAwB,EAAC,CAAC;IACvE,CAAC,MAAM,IAAIZ,IAAI,KAAK,QAAQ,EAAE;MAC5BG,UAAU,CAAE,kBAAiBS,uBAAwB,EAAC,CAAC;IACzD;EACF;EAEA,IAAId,SAAS,KAAKE,IAAI,KAAK,MAAM,IAAIL,KAAK,CAAC,EAAE;IAC3CQ,UAAU,CACP,GAAEP,KAAK,CAACW,MAAO,IAAGT,SAAU,EAAC,EAC9BH,KAAK,IAAIC,KAAK,CAACW,MAAM,IAAIT,SAC3B,CAAC;EACH;EAEA,oBACEN,IAAA,CAACH,wBAAwB;IACvB,eAAY,mBAAmB;IAC/BU,SAAS,EAAEA,SAAU;IAAAY,QAAA,EAEpBT;EAAQ,CACe,CAAC;AAE/B,CAAC;AAED,eAAeT,iBAAiB"}