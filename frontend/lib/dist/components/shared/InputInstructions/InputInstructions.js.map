{"version":3,"file":"InputInstructions.js","names":["React","isFromMac","StyledWidgetInstructions","StyledMessage","jsx","_jsx","InputInstructions","_ref","dirty","value","maxLength","className","type","inForm","messages","addMessage","text","shouldBlink","arguments","length","undefined","push","includeDot","children","toSubmitFormOrApplyText","commandKey","concat"],"sources":["../../../../src/components/shared/InputInstructions/InputInstructions.tsx"],"sourcesContent":["/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { ReactElement } from \"react\"\nimport { isFromMac } from \"@streamlit/lib/src/util/utils\"\nimport { StyledWidgetInstructions } from \"@streamlit/lib/src/components/widgets/BaseWidget\"\nimport { StyledMessage } from \"./styled-components\"\n\nexport interface Props {\n  dirty: boolean\n  value: string\n  maxLength?: number\n  className?: string\n  type?: \"multiline\" | \"single\" | \"chat\"\n  inForm: boolean\n}\n\nconst InputInstructions = ({\n  dirty,\n  value,\n  maxLength,\n  className,\n  type = \"single\",\n  inForm,\n}: Props): ReactElement => {\n  const messages: ReactElement[] = []\n  const addMessage = (text: string, shouldBlink = false): void => {\n    messages.push(\n      <StyledMessage\n        key={messages.length}\n        includeDot={messages.length > 0}\n        shouldBlink={shouldBlink}\n      >\n        {text}\n      </StyledMessage>\n    )\n  }\n\n  if (dirty) {\n    const toSubmitFormOrApplyText = inForm ? \"submit form\" : \"apply\"\n    if (type === \"multiline\") {\n      const commandKey = isFromMac() ? \"âŒ˜\" : \"Ctrl\"\n      addMessage(`Press ${commandKey}+Enter to ${toSubmitFormOrApplyText}`)\n    } else if (type === \"single\") {\n      addMessage(`Press Enter to ${toSubmitFormOrApplyText}`)\n    }\n  }\n\n  if (maxLength && (type !== \"chat\" || dirty)) {\n    addMessage(\n      `${value.length}/${maxLength}`,\n      dirty && value.length >= maxLength\n    )\n  }\n\n  return (\n    <StyledWidgetInstructions\n      data-testid=\"InputInstructions\"\n      className={className}\n    >\n      {messages}\n    </StyledWidgetInstructions>\n  )\n}\n\nexport default InputInstructions\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAOA,KAAK,MAAwB,OAAO;AAC3C,SAASC,SAAS;AAClB,SAASC,wBAAwB;AACjC,SAASC,aAAa;AAA6B,SAAAC,GAAA,IAAAC,IAAA;AAWnD,MAAMC,iBAAiB,GAAGC,IAAA,IAOC;EAAA,IAPA;IACzBC,KAAK;IACLC,KAAK;IACLC,SAAS;IACTC,SAAS;IACTC,IAAI,GAAG,QAAQ;IACfC;EACK,CAAC,GAAAN,IAAA;EACN,MAAMO,QAAwB,GAAG,EAAE;EACnC,MAAMC,UAAU,GAAG,SAAAA,CAACC,IAAY,EAAgC;IAAA,IAA9BC,WAAW,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,KAAK;IACnDJ,QAAQ,CAACO,IAAI,eACXhB,IAAA,CAACF,aAAa;MAEZmB,UAAU,EAAER,QAAQ,CAACK,MAAM,GAAG,CAAE;MAChCF,WAAW,EAAEA,WAAY;MAAAM,QAAA,EAExBP;IAAI,GAJAF,QAAQ,CAACK,MAKD,CACjB,CAAC;EACH,CAAC;EAED,IAAIX,KAAK,EAAE;IACT,MAAMgB,uBAAuB,GAAGX,MAAM,GAAG,aAAa,GAAG,OAAO;IAChE,IAAID,IAAI,KAAK,WAAW,EAAE;MACxB,MAAMa,UAAU,GAAGxB,SAAS,CAAC,CAAC,GAAG,GAAG,GAAG,MAAM;MAC7Cc,UAAU,UAAAW,MAAA,CAAUD,UAAU,gBAAAC,MAAA,CAAaF,uBAAuB,CAAE,CAAC;IACvE,CAAC,MAAM,IAAIZ,IAAI,KAAK,QAAQ,EAAE;MAC5BG,UAAU,mBAAAW,MAAA,CAAmBF,uBAAuB,CAAE,CAAC;IACzD;EACF;EAEA,IAAId,SAAS,KAAKE,IAAI,KAAK,MAAM,IAAIJ,KAAK,CAAC,EAAE;IAC3CO,UAAU,IAAAW,MAAA,CACLjB,KAAK,CAACU,MAAM,OAAAO,MAAA,CAAIhB,SAAS,GAC5BF,KAAK,IAAIC,KAAK,CAACU,MAAM,IAAIT,SAC3B,CAAC;EACH;EAEA,oBACEL,IAAA,CAACH,wBAAwB;IACvB,eAAY,mBAAmB;IAC/BS,SAAS,EAAEA,SAAU;IAAAY,QAAA,EAEpBT;EAAQ,CACe,CAAC;AAE/B,CAAC;AAED,eAAeR,iBAAiB"}