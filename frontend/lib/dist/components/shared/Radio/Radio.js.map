{"version":3,"file":"Radio.js","names":["React","withTheme","Radio","UIRadio","RadioGroup","ALIGN","WidgetLabel","StyledWidgetLabelHelpInline","TooltipIcon","Placement","StreamlitMarkdown","jsx","_jsx","jsxs","_jsxs","PureComponent","constructor","_this$props$value","arguments","state","value","props","onChange","e","selectedIndex","parseInt","target","setState","componentDidUpdate","prevProps","_","_prevProps$value","render","theme","width","help","label","horizontal","labelVisibility","disabled","colors","radii","style","options","captions","hasCaptions","length","spacerNeeded","caption","spacer","push","className","children","content","placement","TOP_RIGHT","toString","undefined","align","vertical","overrides","RadioGroupRoot","gap","spacing","sm","none","minHeight","sizes","minElementHeight","map","option","index","Root","_ref","$isFocusVisible","marginBottom","marginTop","marginRight","lg","paddingLeft","alignItems","paddingRight","backgroundColor","darkenedBgMix25","borderTopLeftRadius","md","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","RadioMarkOuter","_ref2","$checked","height","marginLeft","primary","fadedText40","RadioMarkInner","_ref3","Label","color","bodyText","position","top","source","allowHTML","isLabel","largerLabel","isCaption"],"sources":["../../../../src/components/shared/Radio/Radio.tsx"],"sourcesContent":["/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\"\nimport { withTheme } from \"@emotion/react\"\nimport { Radio as UIRadio, RadioGroup, ALIGN } from \"baseui/radio\"\nimport {\n  WidgetLabel,\n  StyledWidgetLabelHelpInline,\n} from \"@streamlit/lib/src/components/widgets/BaseWidget\"\nimport TooltipIcon from \"@streamlit/lib/src/components/shared/TooltipIcon\"\nimport { LabelVisibilityOptions } from \"@streamlit/lib/src/util/utils\"\nimport { Placement } from \"@streamlit/lib/src/components/shared/Tooltip\"\nimport { EmotionTheme } from \"@streamlit/lib/src/theme\"\nimport StreamlitMarkdown from \"@streamlit/lib/src/components/shared/StreamlitMarkdown/StreamlitMarkdown\"\n\nexport interface Props {\n  disabled: boolean\n  horizontal: boolean\n  theme: EmotionTheme\n  width?: number\n  value: number | null\n  onChange: (selectedIndex: number) => any\n  options: any[]\n  captions: any[]\n  label?: string\n  labelVisibility?: LabelVisibilityOptions\n  help?: string\n}\n\ninterface State {\n  /**\n   * The value specified by the user via the UI. If the user didn't touch this\n   * widget's UI, the default value is used.\n   */\n  value: number | null\n}\n\nclass Radio extends React.PureComponent<Props, State> {\n  public state: State = {\n    value: this.props.value ?? null,\n  }\n\n  public componentDidUpdate(prevProps: Props): void {\n    // If props.value has changed, re-initialize state.value.\n    if (\n      prevProps.value !== this.props.value &&\n      this.props.value !== this.state.value\n    ) {\n      this.setState((_, prevProps) => {\n        return { value: prevProps.value ?? null }\n      })\n    }\n  }\n\n  private onChange = (e: React.ChangeEvent<HTMLInputElement>): void => {\n    const selectedIndex = parseInt(e.target.value, 10)\n    this.setState({ value: selectedIndex }, () =>\n      this.props.onChange(selectedIndex)\n    )\n  }\n\n  public render(): React.ReactNode {\n    const { theme, width, help, label, horizontal, labelVisibility } =\n      this.props\n    let { disabled } = this.props\n    const { colors, radii } = theme\n    const style = { width }\n    const options = [...this.props.options]\n    const captions = [...this.props.captions]\n    const hasCaptions = captions.length > 0\n\n    const spacerNeeded = (caption: string): string => {\n      // When captions are provided for only some options in horizontal\n      // layout we need to add a spacer for the options without captions\n      const spacer = caption == \"\" && horizontal && hasCaptions\n      return spacer ? \"&nbsp;\" : caption\n    }\n\n    if (options.length === 0) {\n      options.push(\"No options to select.\")\n      disabled = true\n    }\n\n    return (\n      <div className=\"row-widget stRadio\" data-testid=\"stRadio\" style={style}>\n        <WidgetLabel\n          label={label}\n          disabled={disabled}\n          labelVisibility={labelVisibility}\n        >\n          {help && (\n            <StyledWidgetLabelHelpInline>\n              <TooltipIcon content={help} placement={Placement.TOP_RIGHT} />\n            </StyledWidgetLabelHelpInline>\n          )}\n        </WidgetLabel>\n        <RadioGroup\n          onChange={this.onChange}\n          value={\n            this.state.value !== null ? this.state.value.toString() : undefined\n          }\n          disabled={disabled}\n          align={horizontal ? ALIGN.horizontal : ALIGN.vertical}\n          aria-label={label}\n          data-testid=\"stRadioGroup\"\n          overrides={{\n            RadioGroupRoot: {\n              style: {\n                gap: hasCaptions ? theme.spacing.sm : theme.spacing.none,\n                minHeight: theme.sizes.minElementHeight,\n              },\n            },\n          }}\n        >\n          {options.map((option: string, index: number) => (\n            <UIRadio\n              key={index}\n              value={index.toString()}\n              overrides={{\n                Root: {\n                  style: ({\n                    $isFocusVisible,\n                  }: {\n                    $isFocusVisible: boolean\n                  }) => ({\n                    marginBottom: 0,\n                    marginTop: 0,\n                    marginRight: hasCaptions\n                      ? theme.spacing.sm\n                      : theme.spacing.lg,\n                    // Make left and right padding look the same visually.\n                    paddingLeft: 0,\n                    alignItems: \"start\",\n                    paddingRight: \"2px\",\n                    backgroundColor: $isFocusVisible\n                      ? colors.darkenedBgMix25\n                      : \"\",\n                    borderTopLeftRadius: radii.md,\n                    borderTopRightRadius: radii.md,\n                    borderBottomLeftRadius: radii.md,\n                    borderBottomRightRadius: radii.md,\n                  }),\n                },\n                RadioMarkOuter: {\n                  style: ({ $checked }: { $checked: boolean }) => ({\n                    width: \"1rem\",\n                    height: \"1rem\",\n                    marginTop: \"0.35rem\",\n                    marginRight: \"0\",\n                    marginLeft: \"0\",\n                    backgroundColor:\n                      $checked && !disabled\n                        ? colors.primary\n                        : colors.fadedText40,\n                  }),\n                },\n                RadioMarkInner: {\n                  style: ({ $checked }: { $checked: boolean }) => ({\n                    height: $checked ? \"6px\" : \"14px\",\n                    width: $checked ? \"6px\" : \"14px\",\n                  }),\n                },\n                Label: {\n                  style: {\n                    color: disabled ? colors.fadedText40 : colors.bodyText,\n                    position: \"relative\",\n                    top: \"1px\",\n                  },\n                },\n              }}\n            >\n              <StreamlitMarkdown\n                source={option}\n                allowHTML={false}\n                isLabel\n                largerLabel\n              />\n              {hasCaptions && (\n                <StreamlitMarkdown\n                  source={spacerNeeded(captions[index])}\n                  allowHTML={false}\n                  isCaption\n                  isLabel\n                />\n              )}\n            </UIRadio>\n          ))}\n        </RadioGroup>\n      </div>\n    )\n  }\n}\n\nexport default withTheme(Radio)\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,QAAQ,gBAAgB;AAC1C,SAASC,KAAK,IAAIC,OAAO,EAAEC,UAAU,EAAEC,KAAK,QAAQ,cAAc;AAClE,SACEC,WAAW,EACXC,2BAA2B;AAE7B,OAAOC,WAAW;AAElB,SAASC,SAAS;AAElB,OAAOC,iBAAiB;AAAgF,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAwBxG,MAAMZ,KAAK,SAASF,KAAK,CAACe,aAAa,CAAe;EAAAC,YAAA;IAAA,IAAAC,iBAAA;IAAA,SAAAC,SAAA;IAAA,KAC7CC,KAAK,GAAU;MACpBC,KAAK,GAAAH,iBAAA,GAAE,IAAI,CAACI,KAAK,CAACD,KAAK,cAAAH,iBAAA,cAAAA,iBAAA,GAAI;IAC7B,CAAC;IAAA,KAcOK,QAAQ,GAAIC,CAAsC,IAAW;MACnE,MAAMC,aAAa,GAAGC,QAAQ,CAACF,CAAC,CAACG,MAAM,CAACN,KAAK,EAAE,EAAE,CAAC;MAClD,IAAI,CAACO,QAAQ,CAAC;QAAEP,KAAK,EAAEI;MAAc,CAAC,EAAE,MACtC,IAAI,CAACH,KAAK,CAACC,QAAQ,CAACE,aAAa,CACnC,CAAC;IACH,CAAC;EAAA;EAjBMI,kBAAkBA,CAACC,SAAgB,EAAQ;IAChD;IACA,IACEA,SAAS,CAACT,KAAK,KAAK,IAAI,CAACC,KAAK,CAACD,KAAK,IACpC,IAAI,CAACC,KAAK,CAACD,KAAK,KAAK,IAAI,CAACD,KAAK,CAACC,KAAK,EACrC;MACA,IAAI,CAACO,QAAQ,CAAC,CAACG,CAAC,EAAED,SAAS,KAAK;QAAA,IAAAE,gBAAA;QAC9B,OAAO;UAAEX,KAAK,GAAAW,gBAAA,GAAEF,SAAS,CAACT,KAAK,cAAAW,gBAAA,cAAAA,gBAAA,GAAI;QAAK,CAAC;MAC3C,CAAC,CAAC;IACJ;EACF;EASOC,MAAMA,CAAA,EAAoB;IAC/B,MAAM;MAAEC,KAAK;MAAEC,KAAK;MAAEC,IAAI;MAAEC,KAAK;MAAEC,UAAU;MAAEC;IAAgB,CAAC,GAC9D,IAAI,CAACjB,KAAK;IACZ,IAAI;MAAEkB;IAAS,CAAC,GAAG,IAAI,CAAClB,KAAK;IAC7B,MAAM;MAAEmB,MAAM;MAAEC;IAAM,CAAC,GAAGR,KAAK;IAC/B,MAAMS,KAAK,GAAG;MAAER;IAAM,CAAC;IACvB,MAAMS,OAAO,GAAG,CAAC,GAAG,IAAI,CAACtB,KAAK,CAACsB,OAAO,CAAC;IACvC,MAAMC,QAAQ,GAAG,CAAC,GAAG,IAAI,CAACvB,KAAK,CAACuB,QAAQ,CAAC;IACzC,MAAMC,WAAW,GAAGD,QAAQ,CAACE,MAAM,GAAG,CAAC;IAEvC,MAAMC,YAAY,GAAIC,OAAe,IAAa;MAChD;MACA;MACA,MAAMC,MAAM,GAAGD,OAAO,IAAI,EAAE,IAAIX,UAAU,IAAIQ,WAAW;MACzD,OAAOI,MAAM,GAAG,QAAQ,GAAGD,OAAO;IACpC,CAAC;IAED,IAAIL,OAAO,CAACG,MAAM,KAAK,CAAC,EAAE;MACxBH,OAAO,CAACO,IAAI,CAAC,uBAAuB,CAAC;MACrCX,QAAQ,GAAG,IAAI;IACjB;IAEA,oBACEzB,KAAA;MAAKqC,SAAS,EAAC,oBAAoB;MAAC,eAAY,SAAS;MAACT,KAAK,EAAEA,KAAM;MAAAU,QAAA,gBACrExC,IAAA,CAACN,WAAW;QACV8B,KAAK,EAAEA,KAAM;QACbG,QAAQ,EAAEA,QAAS;QACnBD,eAAe,EAAEA,eAAgB;QAAAc,QAAA,EAEhCjB,IAAI,iBACHvB,IAAA,CAACL,2BAA2B;UAAA6C,QAAA,eAC1BxC,IAAA,CAACJ,WAAW;YAAC6C,OAAO,EAAElB,IAAK;YAACmB,SAAS,EAAE7C,SAAS,CAAC8C;UAAU,CAAE;QAAC,CACnC;MAC9B,CACU,CAAC,eACd3C,IAAA,CAACR,UAAU;QACTkB,QAAQ,EAAE,IAAI,CAACA,QAAS;QACxBF,KAAK,EACH,IAAI,CAACD,KAAK,CAACC,KAAK,KAAK,IAAI,GAAG,IAAI,CAACD,KAAK,CAACC,KAAK,CAACoC,QAAQ,CAAC,CAAC,GAAGC,SAC3D;QACDlB,QAAQ,EAAEA,QAAS;QACnBmB,KAAK,EAAErB,UAAU,GAAGhC,KAAK,CAACgC,UAAU,GAAGhC,KAAK,CAACsD,QAAS;QACtD,cAAYvB,KAAM;QAClB,eAAY,cAAc;QAC1BwB,SAAS,EAAE;UACTC,cAAc,EAAE;YACdnB,KAAK,EAAE;cACLoB,GAAG,EAAEjB,WAAW,GAAGZ,KAAK,CAAC8B,OAAO,CAACC,EAAE,GAAG/B,KAAK,CAAC8B,OAAO,CAACE,IAAI;cACxDC,SAAS,EAAEjC,KAAK,CAACkC,KAAK,CAACC;YACzB;UACF;QACF,CAAE;QAAAhB,QAAA,EAEDT,OAAO,CAAC0B,GAAG,CAAC,CAACC,MAAc,EAAEC,KAAa,kBACzCzD,KAAA,CAACX,OAAO;UAENiB,KAAK,EAAEmD,KAAK,CAACf,QAAQ,CAAC,CAAE;UACxBI,SAAS,EAAE;YACTY,IAAI,EAAE;cACJ9B,KAAK,EAAE+B,IAAA;gBAAA,IAAC;kBACNC;gBAGF,CAAC,GAAAD,IAAA;gBAAA,OAAM;kBACLE,YAAY,EAAE,CAAC;kBACfC,SAAS,EAAE,CAAC;kBACZC,WAAW,EAAEhC,WAAW,GACpBZ,KAAK,CAAC8B,OAAO,CAACC,EAAE,GAChB/B,KAAK,CAAC8B,OAAO,CAACe,EAAE;kBACpB;kBACAC,WAAW,EAAE,CAAC;kBACdC,UAAU,EAAE,OAAO;kBACnBC,YAAY,EAAE,KAAK;kBACnBC,eAAe,EAAER,eAAe,GAC5BlC,MAAM,CAAC2C,eAAe,GACtB,EAAE;kBACNC,mBAAmB,EAAE3C,KAAK,CAAC4C,EAAE;kBAC7BC,oBAAoB,EAAE7C,KAAK,CAAC4C,EAAE;kBAC9BE,sBAAsB,EAAE9C,KAAK,CAAC4C,EAAE;kBAChCG,uBAAuB,EAAE/C,KAAK,CAAC4C;gBACjC,CAAC;cAAA;YACH,CAAC;YACDI,cAAc,EAAE;cACd/C,KAAK,EAAEgD,KAAA;gBAAA,IAAC;kBAAEC;gBAAgC,CAAC,GAAAD,KAAA;gBAAA,OAAM;kBAC/CxD,KAAK,EAAE,MAAM;kBACb0D,MAAM,EAAE,MAAM;kBACdhB,SAAS,EAAE,SAAS;kBACpBC,WAAW,EAAE,GAAG;kBAChBgB,UAAU,EAAE,GAAG;kBACfX,eAAe,EACbS,QAAQ,IAAI,CAACpD,QAAQ,GACjBC,MAAM,CAACsD,OAAO,GACdtD,MAAM,CAACuD;gBACf,CAAC;cAAA;YACH,CAAC;YACDC,cAAc,EAAE;cACdtD,KAAK,EAAEuD,KAAA;gBAAA,IAAC;kBAAEN;gBAAgC,CAAC,GAAAM,KAAA;gBAAA,OAAM;kBAC/CL,MAAM,EAAED,QAAQ,GAAG,KAAK,GAAG,MAAM;kBACjCzD,KAAK,EAAEyD,QAAQ,GAAG,KAAK,GAAG;gBAC5B,CAAC;cAAA;YACH,CAAC;YACDO,KAAK,EAAE;cACLxD,KAAK,EAAE;gBACLyD,KAAK,EAAE5D,QAAQ,GAAGC,MAAM,CAACuD,WAAW,GAAGvD,MAAM,CAAC4D,QAAQ;gBACtDC,QAAQ,EAAE,UAAU;gBACpBC,GAAG,EAAE;cACP;YACF;UACF,CAAE;UAAAlD,QAAA,gBAEFxC,IAAA,CAACF,iBAAiB;YAChB6F,MAAM,EAAEjC,MAAO;YACfkC,SAAS,EAAE,KAAM;YACjBC,OAAO;YACPC,WAAW;UAAA,CACZ,CAAC,EACD7D,WAAW,iBACVjC,IAAA,CAACF,iBAAiB;YAChB6F,MAAM,EAAExD,YAAY,CAACH,QAAQ,CAAC2B,KAAK,CAAC,CAAE;YACtCiC,SAAS,EAAE,KAAM;YACjBG,SAAS;YACTF,OAAO;UAAA,CACR,CACF;QAAA,GApEIlC,KAqEE,CACV;MAAC,CACQ,CAAC;IAAA,CACV,CAAC;EAEV;AACF;AAEA,eAAetE,SAAS,CAACC,KAAK,CAAC"}