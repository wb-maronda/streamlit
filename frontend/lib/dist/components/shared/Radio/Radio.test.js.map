{"version":3,"file":"Radio.test.js","names":["React","fireEvent","screen","render","LabelVisibilityOptions","Radio","jsx","_jsx","getProps","props","arguments","length","undefined","width","disabled","horizontal","value","onChange","options","captions","label","describe","it","radioGroup","getByRole","radioOptions","getAllByRole","expect","toBeInTheDocument","toHaveLength","widgetLabel","queryByText","toBeNull","labelVisibility","Hidden","getByText","toHaveStyle","not","toBeVisible","Collapsed","radioElement","getByTestId","toHaveClass","checked","toBeChecked","forEach","option","toBeDisabled","queryAllByTestId","getAllByTestId","caption","noOptionLabel","secondOption","click"],"sources":["../../../../src/components/shared/Radio/Radio.test.tsx"],"sourcesContent":["/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\"\n\nimport { fireEvent, screen } from \"@testing-library/react\"\n\nimport { render } from \"@streamlit/lib/src/test_util\"\nimport \"@testing-library/jest-dom\"\nimport { LabelVisibilityOptions } from \"@streamlit/lib/src/util/utils\"\n\nimport Radio, { Props } from \"./Radio\"\n\nconst getProps = (props: Partial<Props> = {}): Props => ({\n  width: 0,\n  disabled: false,\n  horizontal: false,\n  value: 0,\n  onChange: () => {},\n  options: [\"a\", \"b\", \"c\"],\n  captions: [],\n  label: \"Label\",\n  ...props,\n})\n\ndescribe(\"Radio widget\", () => {\n  it(\"renders without crashing\", () => {\n    const props = getProps()\n    render(<Radio {...props} />)\n    const radioGroup = screen.getByRole(\"radiogroup\")\n    const radioOptions = screen.getAllByRole(\"radio\")\n\n    expect(radioGroup).toBeInTheDocument()\n    expect(radioOptions).toHaveLength(3)\n  })\n\n  it(\"renders without crashing if no label is provided\", () => {\n    const props = getProps({ label: undefined })\n    render(<Radio {...props} />)\n    const widgetLabel = screen.queryByText(\"Label\")\n    const radioOptions = screen.getByRole(\"radiogroup\")\n\n    expect(widgetLabel).toBeNull()\n    expect(radioOptions).toBeInTheDocument()\n  })\n\n  it(\"pass labelVisibility prop to StyledWidgetLabel correctly when hidden\", () => {\n    const props = getProps({\n      labelVisibility: LabelVisibilityOptions.Hidden,\n    })\n    render(<Radio {...props} />)\n\n    const widgetLabel = screen.getByText(\"Label\")\n    expect(widgetLabel).toHaveStyle(\"visibility: hidden\")\n    expect(widgetLabel).not.toBeVisible()\n  })\n\n  it(\"pass labelVisibility prop to StyledWidgetLabel correctly when collapsed\", () => {\n    const props = getProps({\n      labelVisibility: LabelVisibilityOptions.Collapsed,\n    })\n    render(<Radio {...props} />)\n    const widgetLabel = screen.getByText(\"Label\")\n    expect(widgetLabel).not.toBeVisible()\n  })\n\n  it(\"has correct className and style\", () => {\n    const props = getProps()\n    render(<Radio {...props} />)\n    const radioElement = screen.getByTestId(\"stRadio\")\n\n    expect(radioElement).toHaveClass(\"stRadio\")\n    expect(radioElement).toHaveStyle(`width: ${props.width}px`)\n  })\n\n  it(\"renders a label\", () => {\n    const props = getProps()\n    render(<Radio {...props} />)\n    const widgetLabel = screen.queryByText(`${props.label}`)\n\n    expect(widgetLabel).toBeInTheDocument()\n  })\n\n  it(\"has a default value\", () => {\n    const props = getProps()\n    render(<Radio {...props} />)\n    const radioOptions = screen.getAllByRole(\"radio\")\n    expect(radioOptions).toHaveLength(3)\n\n    // @ts-expect-error\n    const checked = radioOptions[props.value]\n    expect(checked).toBeChecked()\n  })\n\n  it(\"can be disabled\", () => {\n    const props = getProps({ disabled: true })\n    render(<Radio {...props} />)\n    const radioOptions = screen.getAllByRole(\"radio\")\n\n    radioOptions.forEach(option => {\n      expect(option).toBeDisabled()\n    })\n  })\n\n  it(\"has the correct options\", () => {\n    const props = getProps()\n    render(<Radio {...props} />)\n\n    props.options.forEach(option => {\n      expect(screen.getByText(option)).toBeInTheDocument()\n    })\n  })\n\n  it(\"doesn't render captions when there are none\", () => {\n    const props = getProps()\n    render(<Radio {...props} />)\n\n    expect(screen.queryAllByTestId(\"stCaptionContainer\")).toHaveLength(0)\n  })\n\n  it(\"renders non-blank captions\", () => {\n    const props = getProps({ captions: [\"caption1\", \"\", \"caption2\"] })\n    render(<Radio {...props} />)\n\n    expect(screen.getAllByTestId(\"stCaptionContainer\")).toHaveLength(3)\n\n    expect(screen.getByText(\"caption1\")).toBeInTheDocument()\n    expect(screen.getByText(\"caption2\")).toBeInTheDocument()\n  })\n\n  it(\"has the correct captions\", () => {\n    const props = getProps({ captions: [\"caption1\", \"caption2\", \"caption3\"] })\n    render(<Radio {...props} />)\n\n    expect(screen.getAllByTestId(\"stCaptionContainer\")).toHaveLength(3)\n\n    props.captions.forEach(caption => {\n      expect(screen.getByText(caption)).toBeInTheDocument()\n    })\n  })\n\n  it(\"shows a message when there are no options to be shown\", () => {\n    const props = getProps({ options: [] })\n    render(<Radio {...props} />)\n    const radioOptions = screen.getAllByRole(\"radio\")\n    const noOptionLabel = screen.getByText(\"No options to select.\")\n\n    expect(radioOptions).toHaveLength(1)\n    expect(noOptionLabel).toBeInTheDocument()\n  })\n\n  it(\"handles value changes\", () => {\n    const props = getProps()\n    render(<Radio {...props} />)\n    const radioOptions = screen.getAllByRole(\"radio\")\n\n    const secondOption = radioOptions[1]\n\n    fireEvent.click(secondOption)\n\n    expect(secondOption).toBeChecked()\n  })\n})\n"],"mappings":"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"}