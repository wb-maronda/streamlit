{"version":3,"file":"DynamicIcon.js","names":["React","Suspense","EmojiIcon","MaterialFontIcon","StyledDynamicIcon","StyledImageIcon","jsx","_jsx","parseIconPackEntry","iconName","matchResult","match","pack","icon","iconPack","iconNameInPack","getFilledStarIconSrc","DynamicIconDispatcher","_ref","iconValue","props","children","src","testid","DynamicIcon","fallback"],"sources":["../../../../src/components/shared/Icon/DynamicIcon.tsx"],"sourcesContent":["/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { Suspense } from \"react\"\n\nimport { IconSize, ThemeColor } from \"@streamlit/lib/src/theme\"\n\nimport { EmojiIcon } from \"./Icon\"\nimport MaterialFontIcon from \"./Material/MaterialFontIcon\"\nimport { StyledDynamicIcon, StyledImageIcon } from \"./styled-components\"\n\ninterface IconPackEntry {\n  pack: string\n  icon: string\n}\n\nfunction parseIconPackEntry(iconName: string): IconPackEntry {\n  // This is a regex to match icon pack and icon name from the strings of format\n  // :pack/icon: like :material/settings_suggest:\n  const matchResult = iconName.match(/^:(.+)\\/(.+):$/)\n  if (matchResult === null) {\n    return { pack: \"emoji\", icon: iconName }\n  }\n  const iconPack = matchResult[1]\n  const iconNameInPack = matchResult[2]\n  return { pack: iconPack, icon: iconNameInPack }\n}\n\n/**\n *\n * @returns returns an img tag with a yellow filled star icon svg as base64 data\n */\nexport function getFilledStarIconSrc(): string {\n  return \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfMTg2MF84NDMpIj48cGF0aCBkPSJNOS45OTk5NCAxNC4zOTE2TDEzLjQ1ODMgMTYuNDgzM0MxNC4wOTE2IDE2Ljg2NjYgMTQuODY2NiAxNi4zIDE0LjY5OTkgMTUuNTgzM0wxMy43ODMzIDExLjY1TDE2Ljg0MTYgOC45OTk5N0MxNy4zOTk5IDguNTE2NjMgMTcuMDk5OSA3LjU5OTk3IDE2LjM2NjYgNy41NDE2M0wxMi4zNDE2IDcuMTk5OTdMMTAuNzY2NiAzLjQ4MzNDMTAuNDgzMyAyLjgwODMgOS41MTY2MSAyLjgwODMgOS4yMzMyNyAzLjQ4MzNMNy42NTgyNyA3LjE5MTYzTDMuNjMzMjcgNy41MzMzQzIuODk5OTQgNy41OTE2MyAyLjU5OTk0IDguNTA4MyAzLjE1ODI3IDguOTkxNjNMNi4yMTY2MSAxMS42NDE2TDUuMjk5OTQgMTUuNTc1QzUuMTMzMjcgMTYuMjkxNiA1LjkwODI3IDE2Ljg1ODMgNi41NDE2MSAxNi40NzVMOS45OTk5NCAxNC4zOTE2WiIgZmlsbD0iI0ZBQ0EyQiIvPjwvZz48ZGVmcz48Y2xpcFBhdGggaWQ9ImNsaXAwXzE4NjBfODQzIj48cmVjdCB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIGZpbGw9IndoaXRlIi8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+\"\n}\n\nexport interface DynamicIconProps {\n  iconValue: string\n  size?: IconSize\n  margin?: string\n  padding?: string\n  testid?: string\n  color?: ThemeColor\n}\n\nconst DynamicIconDispatcher = ({\n  iconValue,\n  ...props\n}: DynamicIconProps): React.ReactElement => {\n  const { pack, icon } = parseIconPackEntry(iconValue)\n  switch (pack) {\n    case \"material\":\n      switch (icon) {\n        case \"star_filled\":\n          return (\n            <StyledDynamicIcon {...props}>\n              <StyledImageIcon\n                src={getFilledStarIconSrc()}\n                data-testid={props.testid || \"stImageIcon\"}\n              />\n            </StyledDynamicIcon>\n          )\n        default:\n          return (\n            <StyledDynamicIcon {...props}>\n              <MaterialFontIcon pack={pack} iconName={icon} {...props} />\n            </StyledDynamicIcon>\n          )\n      }\n    case \"emoji\":\n    default:\n      return (\n        <StyledDynamicIcon {...props}>\n          <EmojiIcon {...props}>{icon}</EmojiIcon>\n        </StyledDynamicIcon>\n      )\n  }\n}\n\nexport const DynamicIcon = (props: DynamicIconProps): React.ReactElement => (\n  <Suspense\n    fallback={\n      <StyledDynamicIcon {...props}>\n        <EmojiIcon {...props}>&nbsp;</EmojiIcon>\n      </StyledDynamicIcon>\n    }\n    key={props.iconValue}\n  >\n    <DynamicIconDispatcher {...props} />\n  </Suspense>\n)\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AAIvC,SAASC,SAAS;AAClB,OAAOC,gBAAgB;AACvB,SAASC,iBAAiB,EAAEC,eAAe;AAA6B,SAAAC,GAAA,IAAAC,IAAA;AAOxE,SAASC,kBAAkBA,CAACC,QAAgB,EAAiB;EAC3D;EACA;EACA,MAAMC,WAAW,GAAGD,QAAQ,CAACE,KAAK,CAAC,gBAAgB,CAAC;EACpD,IAAID,WAAW,KAAK,IAAI,EAAE;IACxB,OAAO;MAAEE,IAAI,EAAE,OAAO;MAAEC,IAAI,EAAEJ;IAAS,CAAC;EAC1C;EACA,MAAMK,QAAQ,GAAGJ,WAAW,CAAC,CAAC,CAAC;EAC/B,MAAMK,cAAc,GAAGL,WAAW,CAAC,CAAC,CAAC;EACrC,OAAO;IAAEE,IAAI,EAAEE,QAAQ;IAAED,IAAI,EAAEE;EAAe,CAAC;AACjD;;AAEA;AACA;AACA;AACA;AACA,OAAO,SAASC,oBAAoBA,CAAA,EAAW;EAC7C,OAAO,w5BAAw5B;AACj6B;AAWA,MAAMC,qBAAqB,GAAGC,IAAA,IAGc;EAAA,IAHb;IAC7BC,SAAS;IACT,GAAGC;EACa,CAAC,GAAAF,IAAA;EACjB,MAAM;IAAEN,IAAI;IAAEC;EAAK,CAAC,GAAGL,kBAAkB,CAACW,SAAS,CAAC;EACpD,QAAQP,IAAI;IACV,KAAK,UAAU;MACb,QAAQC,IAAI;QACV,KAAK,aAAa;UAChB,oBACEN,IAAA,CAACH,iBAAiB;YAAA,GAAKgB,KAAK;YAAAC,QAAA,eAC1Bd,IAAA,CAACF,eAAe;cACdiB,GAAG,EAAEN,oBAAoB,CAAC,CAAE;cAC5B,eAAaI,KAAK,CAACG,MAAM,IAAI;YAAc,CAC5C;UAAC,CACe,CAAC;QAExB;UACE,oBACEhB,IAAA,CAACH,iBAAiB;YAAA,GAAKgB,KAAK;YAAAC,QAAA,eAC1Bd,IAAA,CAACJ,gBAAgB;cAACS,IAAI,EAAEA,IAAK;cAACH,QAAQ,EAAEI,IAAK;cAAA,GAAKO;YAAK,CAAG;UAAC,CAC1C,CAAC;MAE1B;IACF,KAAK,OAAO;IACZ;MACE,oBACEb,IAAA,CAACH,iBAAiB;QAAA,GAAKgB,KAAK;QAAAC,QAAA,eAC1Bd,IAAA,CAACL,SAAS;UAAA,GAAKkB,KAAK;UAAAC,QAAA,EAAGR;QAAI,CAAY;MAAC,CACvB,CAAC;EAE1B;AACF,CAAC;AAED,OAAO,MAAMW,WAAW,GAAIJ,KAAuB,iBACjDb,IAAA,CAACN,QAAQ;EACPwB,QAAQ,eACNlB,IAAA,CAACH,iBAAiB;IAAA,GAAKgB,KAAK;IAAAC,QAAA,eAC1Bd,IAAA,CAACL,SAAS;MAAA,GAAKkB,KAAK;MAAAC,QAAA,EAAE;IAAM,CAAW;EAAC,CACvB,CACpB;EAAAA,QAAA,eAGDd,IAAA,CAACU,qBAAqB;IAAA,GAAKG;EAAK,CAAG;AAAC,GAF/BA,KAAK,CAACD,SAGH,CACX"}