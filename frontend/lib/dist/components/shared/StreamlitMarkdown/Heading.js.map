{"version":3,"file":"Heading.js","names":["React","Fragment","IsSidebarContext","StyledStreamlitMarkdown","StyledDivider","HeadingWithActionElements","RenderedMarkdown","Tags","jsx","_jsx","jsxs","_jsxs","makeMarkdownHeading","tag","markdown","toLowerCase","H1","concat","H2","H3","Error","Heading","props","width","element","anchor","body","help","hideAnchor","divider","isInSidebar","useContext","heading","rest","split","style","children","isCaption","Boolean","allowHTML","source","overrideComponents","p","h1","h2","h3","h4","h5","h6","length","join","rainbow","includes","color"],"sources":["../../../../src/components/shared/StreamlitMarkdown/Heading.tsx"],"sourcesContent":["/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { Fragment, ReactElement } from \"react\"\nimport { Heading as HeadingProto } from \"@streamlit/lib/src/proto\"\nimport IsSidebarContext from \"@streamlit/lib/src/components/core/IsSidebarContext\"\n\nimport { StyledStreamlitMarkdown, StyledDivider } from \"./styled-components\"\n\nimport \"katex/dist/katex.min.css\"\nimport {\n  HeadingWithActionElements,\n  RenderedMarkdown,\n  Tags,\n} from \"./StreamlitMarkdown\"\n\nexport interface HeadingProtoProps {\n  width: number\n  element: HeadingProto\n}\n\nfunction makeMarkdownHeading(tag: string, markdown: string): string {\n  switch (tag.toLowerCase()) {\n    case Tags.H1: {\n      return `# ${markdown}`\n    }\n    case Tags.H2: {\n      return `## ${markdown}`\n    }\n    case Tags.H3: {\n      return `### ${markdown}`\n    }\n    default: {\n      throw new Error(`Unrecognized tag for header: ${tag}`)\n    }\n  }\n}\n\nfunction Heading(props: HeadingProtoProps): ReactElement {\n  const { width, element } = props\n  const { tag, anchor, body, help, hideAnchor, divider } = element\n  const isInSidebar = React.useContext(IsSidebarContext)\n  // st.header can contain new lines which are just interpreted as new\n  // markdown to be rendered as such.\n  const [heading, ...rest] = body.split(\"\\n\")\n\n  return (\n    <div style={{ width }} data-testid=\"stHeading\">\n      <StyledStreamlitMarkdown\n        isCaption={Boolean(false)}\n        isInSidebar={isInSidebar}\n        style={{ width }}\n        data-testid=\"stMarkdownContainer\"\n      >\n        <HeadingWithActionElements\n          anchor={anchor}\n          help={help}\n          hideAnchor={hideAnchor}\n          tag={tag}\n        >\n          <RenderedMarkdown\n            allowHTML={false}\n            source={makeMarkdownHeading(tag, heading)}\n            // this is purely an inline string\n            overrideComponents={{\n              p: Fragment,\n              h1: Fragment,\n              h2: Fragment,\n              h3: Fragment,\n              h4: Fragment,\n              h5: Fragment,\n              h6: Fragment,\n            }}\n          />\n        </HeadingWithActionElements>\n        {/* Only the first line of the body is used as a heading, the remaining text is added as regular mardkown below. */}\n        {rest.length > 0 && (\n          <RenderedMarkdown source={rest.join(\"\\n\")} allowHTML={false} />\n        )}\n      </StyledStreamlitMarkdown>\n      {divider && (\n        <StyledDivider\n          data-testid=\"stHeadingDivider\"\n          rainbow={divider.includes(\"linear\")}\n          color={divider}\n        />\n      )}\n    </div>\n  )\n}\n\nexport default Heading\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAOA,KAAK,IAAIC,QAAQ,QAAsB,OAAO;AAErD,OAAOC,gBAAgB;AAEvB,SAASC,uBAAuB,EAAEC,aAAa;AAE/C,OAAO,0BAA0B;AACjC,SACEC,yBAAyB,EACzBC,gBAAgB,EAChBC,IAAI;AACsB,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAO5B,SAASC,mBAAmBA,CAACC,GAAW,EAAEC,QAAgB,EAAU;EAClE,QAAQD,GAAG,CAACE,WAAW,CAAC,CAAC;IACvB,KAAKR,IAAI,CAACS,EAAE;MAAE;QACZ,YAAAC,MAAA,CAAYH,QAAQ;MACtB;IACA,KAAKP,IAAI,CAACW,EAAE;MAAE;QACZ,aAAAD,MAAA,CAAaH,QAAQ;MACvB;IACA,KAAKP,IAAI,CAACY,EAAE;MAAE;QACZ,cAAAF,MAAA,CAAcH,QAAQ;MACxB;IACA;MAAS;QACP,MAAM,IAAIM,KAAK,iCAAAH,MAAA,CAAiCJ,GAAG,CAAE,CAAC;MACxD;EACF;AACF;AAEA,SAASQ,OAAOA,CAACC,KAAwB,EAAgB;EACvD,MAAM;IAAEC,KAAK;IAAEC;EAAQ,CAAC,GAAGF,KAAK;EAChC,MAAM;IAAET,GAAG;IAAEY,MAAM;IAAEC,IAAI;IAAEC,IAAI;IAAEC,UAAU;IAAEC;EAAQ,CAAC,GAAGL,OAAO;EAChE,MAAMM,WAAW,GAAG9B,KAAK,CAAC+B,UAAU,CAAC7B,gBAAgB,CAAC;EACtD;EACA;EACA,MAAM,CAAC8B,OAAO,EAAE,GAAGC,IAAI,CAAC,GAAGP,IAAI,CAACQ,KAAK,CAAC,IAAI,CAAC;EAE3C,oBACEvB,KAAA;IAAKwB,KAAK,EAAE;MAAEZ;IAAM,CAAE;IAAC,eAAY,WAAW;IAAAa,QAAA,gBAC5CzB,KAAA,CAACR,uBAAuB;MACtBkC,SAAS,EAAEC,OAAO,CAAC,KAAK,CAAE;MAC1BR,WAAW,EAAEA,WAAY;MACzBK,KAAK,EAAE;QAAEZ;MAAM,CAAE;MACjB,eAAY,qBAAqB;MAAAa,QAAA,gBAEjC3B,IAAA,CAACJ,yBAAyB;QACxBoB,MAAM,EAAEA,MAAO;QACfE,IAAI,EAAEA,IAAK;QACXC,UAAU,EAAEA,UAAW;QACvBf,GAAG,EAAEA,GAAI;QAAAuB,QAAA,eAET3B,IAAA,CAACH,gBAAgB;UACfiC,SAAS,EAAE,KAAM;UACjBC,MAAM,EAAE5B,mBAAmB,CAACC,GAAG,EAAEmB,OAAO;UACxC;UAAA;UACAS,kBAAkB,EAAE;YAClBC,CAAC,EAAEzC,QAAQ;YACX0C,EAAE,EAAE1C,QAAQ;YACZ2C,EAAE,EAAE3C,QAAQ;YACZ4C,EAAE,EAAE5C,QAAQ;YACZ6C,EAAE,EAAE7C,QAAQ;YACZ8C,EAAE,EAAE9C,QAAQ;YACZ+C,EAAE,EAAE/C;UACN;QAAE,CACH;MAAC,CACuB,CAAC,EAE3BgC,IAAI,CAACgB,MAAM,GAAG,CAAC,iBACdxC,IAAA,CAACH,gBAAgB;QAACkC,MAAM,EAAEP,IAAI,CAACiB,IAAI,CAAC,IAAI,CAAE;QAACX,SAAS,EAAE;MAAM,CAAE,CAC/D;IAAA,CACsB,CAAC,EACzBV,OAAO,iBACNpB,IAAA,CAACL,aAAa;MACZ,eAAY,kBAAkB;MAC9B+C,OAAO,EAAEtB,OAAO,CAACuB,QAAQ,CAAC,QAAQ,CAAE;MACpCC,KAAK,EAAExB;IAAQ,CAChB,CACF;EAAA,CACE,CAAC;AAEV;AAEA,eAAeR,OAAO"}