{"version":3,"file":"Modal.js","names":["React","useTheme","Modal","UIModal","ModalHeader","UIModalHeader","ModalBody","UIModalBody","ModalFooter","UIModalFooter","BaseButton","merge","StyledModalButton","jsx","_jsx","_ref","children","genericFonts","fontSizes","spacing","style","marginTop","none","marginLeft","marginRight","marginBottom","paddingTop","twoXL","paddingRight","paddingBottom","md","paddingLeft","fontFamily","bodyFont","fontSize","xl","fontWeight","margin","lineHeight","textTransform","display","alignItems","maxHeight","flexDirection","_ref2","colors","color","bodyText","overflowY","_ref3","className","ModalButton","buttonProps","props","radii","defaultOverrides","Root","background","darkenedBgMix25","DialogContainer","Dialog","borderBottomRightRadius","xxl","borderBottomLeftRadius","borderTopRightRadius","borderTopLeftRadius","minWidth","Close","top","concat","right","mergedOverrides","overrides"],"sources":["../../../../src/components/shared/Modal/Modal.tsx"],"sourcesContent":["/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { ReactNode, ReactElement, FunctionComponent } from \"react\"\nimport { useTheme } from \"@emotion/react\"\nimport {\n  Modal as UIModal,\n  ModalHeader as UIModalHeader,\n  ModalBody as UIModalBody,\n  ModalFooter as UIModalFooter,\n  ModalProps,\n} from \"baseui/modal\"\nimport BaseButton, {\n  BaseButtonProps,\n} from \"@streamlit/lib/src/components/shared/BaseButton\"\nimport merge from \"lodash/merge\"\nimport { EmotionTheme } from \"@streamlit/lib/src/theme\"\nimport { StyledModalButton } from \"./styled-components\"\n\nexport interface ModalHeaderProps {\n  children: ReactNode\n}\n\nfunction ModalHeader({ children }: ModalHeaderProps): ReactElement {\n  const { genericFonts, fontSizes, spacing }: EmotionTheme = useTheme()\n\n  return (\n    <UIModalHeader\n      style={{\n        marginTop: spacing.none,\n        marginLeft: spacing.none,\n        marginRight: spacing.none,\n        marginBottom: spacing.none,\n        paddingTop: spacing.twoXL,\n        paddingRight: spacing.twoXL,\n        paddingBottom: spacing.md,\n        paddingLeft: spacing.twoXL,\n        fontFamily: genericFonts.bodyFont,\n        fontSize: fontSizes.xl,\n        fontWeight: 600,\n        margin: spacing.none,\n        lineHeight: 1.5,\n        textTransform: \"none\",\n        display: \"flex\",\n        alignItems: \"center\",\n        maxHeight: \"80vh\",\n        flexDirection: \"row\",\n      }}\n    >\n      {children}\n    </UIModalHeader>\n  )\n}\n\nexport interface ModalBodyProps {\n  children: ReactNode\n}\n\nfunction ModalBody({ children }: ModalBodyProps): ReactElement {\n  const { colors, fontSizes, spacing }: EmotionTheme = useTheme()\n\n  return (\n    <UIModalBody\n      style={{\n        marginTop: spacing.none,\n        marginLeft: spacing.none,\n        marginRight: spacing.none,\n        marginBottom: spacing.none,\n        paddingTop: spacing.md,\n        paddingRight: spacing.twoXL,\n        paddingBottom: spacing.twoXL,\n        paddingLeft: spacing.twoXL,\n        color: colors.bodyText,\n        fontSize: fontSizes.md,\n        overflowY: \"auto\",\n      }}\n    >\n      {children}\n    </UIModalBody>\n  )\n}\n\nexport interface ModalFooterProps {\n  children: ReactNode\n}\n\nfunction ModalFooter({ children }: ModalFooterProps): ReactElement {\n  const { spacing }: EmotionTheme = useTheme()\n\n  return (\n    <UIModalFooter\n      style={{\n        marginTop: spacing.none,\n        marginLeft: spacing.none,\n        marginRight: spacing.none,\n        marginBottom: spacing.none,\n        paddingTop: spacing.md,\n        paddingRight: spacing.md,\n        paddingBottom: spacing.md,\n        paddingLeft: spacing.md,\n      }}\n    >\n      <div className=\"ModalBody\">{children}</div>\n    </UIModalFooter>\n  )\n}\n\nconst ModalButton: FunctionComponent<\n  React.PropsWithChildren<BaseButtonProps>\n> = buttonProps => (\n  <StyledModalButton>\n    <BaseButton {...buttonProps} />\n  </StyledModalButton>\n)\n\nfunction Modal(props: ModalProps): ReactElement {\n  const { spacing, radii, colors }: EmotionTheme = useTheme()\n\n  const defaultOverrides = {\n    Root: {\n      style: {\n        background: colors.darkenedBgMix25,\n      },\n      props: {\n        \"data-testid\": \"stModal\",\n      },\n    },\n    DialogContainer: {\n      style: {\n        alignItems: \"start\",\n        paddingTop: \"3rem\",\n      },\n    },\n    Dialog: {\n      style: {\n        borderBottomRightRadius: radii.xxl,\n        borderBottomLeftRadius: radii.xxl,\n        borderTopRightRadius: radii.xxl,\n        borderTopLeftRadius: radii.xxl,\n        // make sure the modal is not too small on mobile\n        minWidth: \"20rem\",\n      },\n    },\n    Close: {\n      style: {\n        top: `calc(${spacing.twoXL} + .375rem)`, // Trying to center the button on the available space.\n        right: spacing.twoXL,\n      },\n    },\n  }\n\n  const mergedOverrides = merge(defaultOverrides, props.overrides)\n\n  return <UIModal {...props} overrides={mergedOverrides} />\n}\n\nexport default Modal\nexport { ModalHeader, ModalBody, ModalFooter, ModalButton }\n"],"mappings":"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"}