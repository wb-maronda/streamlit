{"version":3,"file":"Popover.test.js","names":["React","fireEvent","screen","render","Block","BlockProto","Popover","jsx","_jsx","getProps","elementProps","arguments","length","undefined","props","element","create","label","useContainerWidth","disabled","help","empty","width","describe","it","children","popoverButton","getByTestId","expect","toBeInTheDocument","toHaveClass","popover","getByRole","name","click","getByText","queryByText","toBeVisible"],"sources":["../../../../src/components/elements/Popover/Popover.test.tsx"],"sourcesContent":["/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\"\n\nimport { fireEvent, screen } from \"@testing-library/react\"\nimport \"@testing-library/jest-dom\"\n\nimport { render } from \"@streamlit/lib/src/test_util\"\nimport { Block as BlockProto } from \"@streamlit/lib/src/proto\"\n\nimport Popover, { PopoverProps } from \"./Popover\"\n\nconst getProps = (\n  elementProps: Partial<BlockProto.Popover> = {},\n  props: Partial<PopoverProps> = {}\n): PopoverProps => ({\n  element: BlockProto.Popover.create({\n    label: \"label\",\n    useContainerWidth: false,\n    disabled: false,\n    help: \"\",\n    ...elementProps,\n  }),\n  empty: false,\n  width: 100,\n  ...props,\n})\n\ndescribe(\"Popover container\", () => {\n  it(\"renders without crashing\", () => {\n    const props = getProps()\n    render(\n      <Popover {...props}>\n        <div>test</div>\n      </Popover>\n    )\n    const popoverButton = screen.getByTestId(\"stPopover\")\n    expect(popoverButton).toBeInTheDocument()\n    expect(popoverButton).toHaveClass(\"stPopover\")\n  })\n\n  it(\"renders label on the popover\", () => {\n    const props = getProps()\n    render(\n      <Popover {...props}>\n        <div>test</div>\n      </Popover>\n    )\n\n    const popover = screen.getByRole(\"button\", {\n      name: `${props.element.label}`,\n    })\n    expect(popover).toBeInTheDocument()\n  })\n\n  it(\"should render the text when opened\", () => {\n    const props = getProps()\n    render(\n      <Popover {...props}>\n        <div>test</div>\n      </Popover>\n    )\n\n    fireEvent.click(screen.getByText(\"label\"))\n    // Text should be visible now\n    expect(screen.queryByText(\"test\")).toBeVisible()\n  })\n})\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAOA,KAAK,MAAM,OAAO;AAEzB,SAASC,SAAS,EAAEC,MAAM,QAAQ,wBAAwB;AAC1D,OAAO,2BAA2B;AAElC,SAASC,MAAM;AACf,SAASC,KAAK,IAAIC,UAAU;AAE5B,OAAOC,OAAO;AAAmC,SAAAC,GAAA,IAAAC,IAAA;AAEjD,MAAMC,QAAQ,GAAG,SAAAA,CAAA;EAAA,IACfC,YAAyC,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EAAA,IAC9CG,KAA4B,GAAAH,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EAAA,OACf;IAClBI,OAAO,EAAEV,UAAU,CAACC,OAAO,CAACU,MAAM,CAAC;MACjCC,KAAK,EAAE,OAAO;MACdC,iBAAiB,EAAE,KAAK;MACxBC,QAAQ,EAAE,KAAK;MACfC,IAAI,EAAE,EAAE;MACR,GAAGV;IACL,CAAC,CAAC;IACFW,KAAK,EAAE,KAAK;IACZC,KAAK,EAAE,GAAG;IACV,GAAGR;EACL,CAAC;AAAA,CAAC;AAEFS,QAAQ,CAAC,mBAAmB,EAAE,MAAM;EAClCC,EAAE,CAAC,0BAA0B,EAAE,MAAM;IACnC,MAAMV,KAAK,GAAGL,QAAQ,CAAC,CAAC;IACxBN,MAAM,eACJK,IAAA,CAACF,OAAO;MAAA,GAAKQ,KAAK;MAAAW,QAAA,eAChBjB,IAAA;QAAAiB,QAAA,EAAK;MAAI,CAAK;IAAC,CACR,CACX,CAAC;IACD,MAAMC,aAAa,GAAGxB,MAAM,CAACyB,WAAW,CAAC,WAAW,CAAC;IACrDC,MAAM,CAACF,aAAa,CAAC,CAACG,iBAAiB,CAAC,CAAC;IACzCD,MAAM,CAACF,aAAa,CAAC,CAACI,WAAW,CAAC,WAAW,CAAC;EAChD,CAAC,CAAC;EAEFN,EAAE,CAAC,8BAA8B,EAAE,MAAM;IACvC,MAAMV,KAAK,GAAGL,QAAQ,CAAC,CAAC;IACxBN,MAAM,eACJK,IAAA,CAACF,OAAO;MAAA,GAAKQ,KAAK;MAAAW,QAAA,eAChBjB,IAAA;QAAAiB,QAAA,EAAK;MAAI,CAAK;IAAC,CACR,CACX,CAAC;IAED,MAAMM,OAAO,GAAG7B,MAAM,CAAC8B,SAAS,CAAC,QAAQ,EAAE;MACzCC,IAAI,EAAG,GAAEnB,KAAK,CAACC,OAAO,CAACE,KAAM;IAC/B,CAAC,CAAC;IACFW,MAAM,CAACG,OAAO,CAAC,CAACF,iBAAiB,CAAC,CAAC;EACrC,CAAC,CAAC;EAEFL,EAAE,CAAC,oCAAoC,EAAE,MAAM;IAC7C,MAAMV,KAAK,GAAGL,QAAQ,CAAC,CAAC;IACxBN,MAAM,eACJK,IAAA,CAACF,OAAO;MAAA,GAAKQ,KAAK;MAAAW,QAAA,eAChBjB,IAAA;QAAAiB,QAAA,EAAK;MAAI,CAAK;IAAC,CACR,CACX,CAAC;IAEDxB,SAAS,CAACiC,KAAK,CAAChC,MAAM,CAACiC,SAAS,CAAC,OAAO,CAAC,CAAC;IAC1C;IACAP,MAAM,CAAC1B,MAAM,CAACkC,WAAW,CAAC,MAAM,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;EAClD,CAAC,CAAC;AACJ,CAAC,CAAC"}