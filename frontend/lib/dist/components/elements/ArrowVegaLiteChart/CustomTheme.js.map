{"version":3,"file":"CustomTheme.js","names":["merge","mergeWith","getGray30","getGray70","hasLightBackgroundColor","getCategoricalColorsArray","getDivergingColorsArray","getSequentialColorsArray","applyStreamlitTheme","config","theme","streamlitTheme","font","genericFonts","bodyFont","background","colors","bgColor","fieldTitle","autosize","type","contains","title","align","anchor","color","headingColor","titleFontStyle","fontWeight","fontWeights","bold","fontSize","fontSizes","smPx","orient","offset","header","titleFontWeight","normal","titleFontSize","mdPx","titleColor","labelFontSize","twoSmPx","labelFontWeight","labelColor","labelFontStyle","axis","ticks","gridColor","domain","domainWidth","domainColor","labelFlush","labelFlushOffset","labelBound","labelLimit","titlePadding","spacing","lgPx","labelPadding","labelSeparation","twoXSPx","labelOverlap","legend","columnPadding","rowPadding","padding","symbolStrokeWidth","range","category","diverging","ramp","heatmap","view","columns","strokeWidth","stroke","continuousHeight","continuousWidth","concat","facet","mark","tooltip","bar","binSpacing","discreteBandSize","band","axisDiscrete","grid","axisXPoint","axisTemporal","axisXBand","_","b","Array","isArray","undefined","applyThemeDefaults","themeFonts","labelFont","titleFont","themeDefaults","bodyText","subtitleColor"],"sources":["../../../../src/components/elements/ArrowVegaLiteChart/CustomTheme.tsx"],"sourcesContent":["/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport merge from \"lodash/merge\"\nimport mergeWith from \"lodash/mergeWith\"\n\nimport {\n  getGray30,\n  getGray70,\n  hasLightBackgroundColor,\n  getCategoricalColorsArray,\n  getDivergingColorsArray,\n  getSequentialColorsArray,\n  EmotionTheme,\n} from \"@streamlit/lib/src/theme\"\n\nexport function applyStreamlitTheme(config: any, theme: EmotionTheme): any {\n  // This theming config contains multiple hard coded spacing values.\n  // The reason is that we currently only have rem values in our spacing\n  // definitions and vega lite requires numerical (pixel) values.\n\n  const streamlitTheme = {\n    font: theme.genericFonts.bodyFont,\n    background: theme.colors.bgColor,\n    fieldTitle: \"verbal\",\n    autosize: { type: \"fit\", contains: \"padding\" },\n    title: {\n      align: \"left\",\n      anchor: \"start\",\n      color: theme.colors.headingColor,\n      titleFontStyle: \"normal\",\n      fontWeight: theme.fontWeights.bold,\n      fontSize: theme.fontSizes.smPx + 2,\n      orient: \"top\",\n      offset: 26,\n    },\n    header: {\n      titleFontWeight: theme.fontWeights.normal,\n      titleFontSize: theme.fontSizes.mdPx,\n      titleColor: getGray70(theme),\n      titleFontStyle: \"normal\",\n      labelFontSize: theme.fontSizes.twoSmPx,\n      labelFontWeight: theme.fontWeights.normal,\n      labelColor: getGray70(theme),\n      labelFontStyle: \"normal\",\n    },\n    axis: {\n      labelFontSize: theme.fontSizes.twoSmPx,\n      labelFontWeight: theme.fontWeights.normal,\n      labelColor: getGray70(theme),\n      labelFontStyle: \"normal\",\n      titleFontWeight: theme.fontWeights.normal,\n      titleFontSize: theme.fontSizes.smPx,\n      titleColor: getGray70(theme),\n      titleFontStyle: \"normal\",\n      ticks: false,\n      gridColor: getGray30(theme),\n      domain: false,\n      domainWidth: 1,\n      domainColor: getGray30(theme),\n      labelFlush: true,\n      labelFlushOffset: 1,\n      labelBound: false,\n      labelLimit: 100,\n      titlePadding: theme.spacing.lgPx,\n      labelPadding: theme.spacing.lgPx,\n      labelSeparation: theme.spacing.twoXSPx,\n      labelOverlap: true,\n    },\n    legend: {\n      labelFontSize: theme.fontSizes.smPx,\n      labelFontWeight: theme.fontWeights.normal,\n      labelColor: getGray70(theme),\n      titleFontSize: theme.fontSizes.smPx,\n      titleFontWeight: theme.fontWeights.normal,\n      titleFontStyle: \"normal\",\n      titleColor: getGray70(theme),\n      titlePadding: 5,\n      labelPadding: theme.spacing.lgPx,\n      columnPadding: theme.spacing.smPx,\n      rowPadding: theme.spacing.twoXSPx,\n      padding: 7,\n      symbolStrokeWidth: 4,\n    },\n    range: {\n      category: getCategoricalColorsArray(theme),\n      diverging: getDivergingColorsArray(theme),\n      ramp: getSequentialColorsArray(theme),\n      heatmap: getSequentialColorsArray(theme),\n    },\n    view: {\n      columns: 1,\n      strokeWidth: 0,\n      stroke: \"transparent\",\n      continuousHeight: 350,\n      continuousWidth: 400,\n    },\n    concat: {\n      columns: 1,\n    },\n    facet: {\n      columns: 1,\n    },\n    mark: {\n      tooltip: true,\n      ...(hasLightBackgroundColor(theme)\n        ? { color: \"#0068C9\" }\n        : { color: \"#83C9FF\" }),\n    },\n    bar: {\n      binSpacing: theme.spacing.twoXSPx,\n      discreteBandSize: { band: 0.85 },\n    },\n    axisDiscrete: {\n      grid: false,\n    },\n    axisXPoint: {\n      grid: false,\n    },\n    axisTemporal: {\n      grid: false,\n    },\n    axisXBand: {\n      grid: false,\n    },\n  }\n\n  if (!config) {\n    return streamlitTheme\n  }\n\n  // Fill in theme defaults where the user didn't specify config options.\n  return mergeWith({}, streamlitTheme, config, (_, b) =>\n    Array.isArray(b) ? b : undefined\n  )\n}\n\nexport function applyThemeDefaults(config: any, theme: EmotionTheme): any {\n  const { colors, fontSizes, genericFonts } = theme\n  const themeFonts = {\n    labelFont: genericFonts.bodyFont,\n    titleFont: genericFonts.bodyFont,\n    labelFontSize: fontSizes.twoSmPx,\n    titleFontSize: fontSizes.twoSmPx,\n  }\n  const themeDefaults = {\n    background: colors.bgColor,\n    axis: {\n      labelColor: colors.bodyText,\n      titleColor: colors.bodyText,\n      gridColor: getGray30(theme),\n      ...themeFonts,\n    },\n    legend: {\n      labelColor: colors.bodyText,\n      titleColor: colors.bodyText,\n      ...themeFonts,\n    },\n    title: {\n      color: colors.bodyText,\n      subtitleColor: colors.bodyText,\n      ...themeFonts,\n    },\n    header: {\n      labelColor: colors.bodyText,\n      titleColor: colors.bodyText,\n      ...themeFonts,\n    },\n    view: {\n      stroke: getGray30(theme),\n      continuousHeight: 350,\n      continuousWidth: 400,\n    },\n    mark: {\n      tooltip: true,\n    },\n  }\n\n  if (!config) {\n    return themeDefaults\n  }\n\n  // Fill in theme defaults where the user didn't specify config options.\n  return merge({}, themeDefaults, config)\n}\n"],"mappings":"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"}