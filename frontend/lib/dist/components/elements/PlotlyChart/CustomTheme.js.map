{"version":3,"file":"CustomTheme.js","names":["merge","getCategoricalColorsArray","getDecreasingRed","getDivergingColorsArray","getGray30","getGray70","getGray90","getIncreasingGreen","getSequentialColorsArray","hasLightBackgroundColor","ensureError","logError","applyStreamlitThemeTemplateLayout","layout","theme","genericFonts","colors","fontSizes","streamlitTheme","font","color","family","bodyFont","size","twoSmPx","title","headingColor","subtitleColor","bodyText","headingFont","mdPx","pad","l","spacing","twoXSPx","xanchor","x","legend","side","valign","bordercolor","transparent","borderwidth","nonePx","paper_bgcolor","bgColor","plot_bgcolor","yaxis","ticklabelposition","zerolinecolor","smPx","standoff","twoXLPx","tickcolor","tickfont","gridcolor","minor","automargin","xaxis","showgrid","xlPx","zeroline","rangeselector","bgcolor","margin","r","hoverlabel","borderColor","coloraxis","colorbar","thickness","xpad","outlinecolor","outlinewidth","len","y","ternary","aaxis","linecolor","baxis","caxis","replaceCategoricalColors","spec","elementTheme","CATEGORY_0","CATEGORY_1","CATEGORY_2","CATEGORY_3","CATEGORY_4","CATEGORY_5","CATEGORY_6","CATEGORY_7","CATEGORY_8","CATEGORY_9","categoryColors","replaceAll","replaceSequentialColors","SEQUENTIAL_0","SEQUENTIAL_1","SEQUENTIAL_2","SEQUENTIAL_3","SEQUENTIAL_4","SEQUENTIAL_5","SEQUENTIAL_6","SEQUENTIAL_7","SEQUENTIAL_8","SEQUENTIAL_9","sequentialColors","replaceDivergingColors","DIVERGING_0","DIVERGING_1","DIVERGING_2","DIVERGING_3","DIVERGING_4","DIVERGING_5","DIVERGING_6","DIVERGING_7","DIVERGING_8","DIVERGING_9","DIVERGING_10","divergingColors","replaceGOSpecificColors","INCREASING","DECREASING","TOTAL","GRAY_30","GRAY_70","GRAY_90","BG_COLOR","FADED_TEXT_05","BG_MIX","blue80","blue40","fadedText05","bgMix","replaceTemporaryColors","applyStreamlitTheme","template","e","err","text","layoutWithThemeDefaults","themeDefaults","secondaryBg"],"sources":["../../../../src/components/elements/PlotlyChart/CustomTheme.tsx"],"sourcesContent":["/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport merge from \"lodash/merge\"\n\nimport {\n  EmotionTheme,\n  getCategoricalColorsArray,\n  getDecreasingRed,\n  getDivergingColorsArray,\n  getGray30,\n  getGray70,\n  getGray90,\n  getIncreasingGreen,\n  getSequentialColorsArray,\n  hasLightBackgroundColor,\n} from \"@streamlit/lib/src/theme\"\nimport { ensureError } from \"@streamlit/lib/src/util/ErrorHandling\"\nimport { logError } from \"@streamlit/lib/src/util/log\"\n\n/**\n * This applies general layout changes to things such as x axis,\n * y axis, legends, titles, grid changes, background, etc.\n * @param layout - spec.layout.template.layout\n * @param theme - Theme from useTheme()\n */\nexport function applyStreamlitThemeTemplateLayout(\n  layout: any,\n  theme: EmotionTheme\n): void {\n  const { genericFonts, colors, fontSizes } = theme\n\n  const streamlitTheme = {\n    font: {\n      color: getGray70(theme),\n      family: genericFonts.bodyFont,\n      size: fontSizes.twoSmPx,\n    },\n    title: {\n      color: colors.headingColor,\n      subtitleColor: colors.bodyText,\n      font: {\n        family: genericFonts.headingFont,\n        size: fontSizes.mdPx,\n        color: colors.headingColor,\n      },\n      pad: {\n        l: theme.spacing.twoXSPx,\n      },\n      xanchor: \"left\",\n      x: 0,\n    },\n    legend: {\n      title: {\n        font: {\n          size: fontSizes.twoSmPx,\n          color: getGray70(theme),\n        },\n        side: \"top\",\n      },\n      valign: \"top\",\n      bordercolor: colors.transparent,\n      borderwidth: theme.spacing.nonePx,\n      font: {\n        size: fontSizes.twoSmPx,\n        color: getGray90(theme),\n      },\n    },\n    paper_bgcolor: colors.bgColor,\n    plot_bgcolor: colors.bgColor,\n    yaxis: {\n      ticklabelposition: \"outside\",\n      zerolinecolor: getGray30(theme),\n      title: {\n        font: {\n          color: getGray70(theme),\n          size: fontSizes.smPx,\n        },\n        standoff: theme.spacing.twoXLPx,\n      },\n      tickcolor: getGray30(theme),\n      tickfont: {\n        color: getGray70(theme),\n        size: fontSizes.twoSmPx,\n      },\n      gridcolor: getGray30(theme),\n      minor: {\n        gridcolor: getGray30(theme),\n      },\n      automargin: true,\n    },\n    xaxis: {\n      zerolinecolor: getGray30(theme),\n      gridcolor: getGray30(theme),\n      showgrid: false,\n      tickfont: {\n        color: getGray70(theme),\n        size: fontSizes.twoSmPx,\n      },\n      tickcolor: getGray30(theme),\n      title: {\n        font: {\n          color: getGray70(theme),\n          size: fontSizes.smPx,\n        },\n        standoff: theme.spacing.xlPx,\n      },\n      minor: {\n        gridcolor: getGray30(theme),\n      },\n      zeroline: false,\n      automargin: true,\n      rangeselector: {\n        bgcolor: colors.bgColor,\n        bordercolor: getGray30(theme),\n        borderwidth: 1,\n        x: 0,\n      },\n    },\n    margin: {\n      pad: theme.spacing.smPx,\n      r: theme.spacing.nonePx,\n      l: theme.spacing.nonePx,\n    },\n    hoverlabel: {\n      bgcolor: colors.bgColor,\n      bordercolor: colors.borderColor,\n      font: {\n        color: getGray70(theme),\n        family: genericFonts.bodyFont,\n        size: fontSizes.twoSmPx,\n      },\n    },\n    coloraxis: {\n      colorbar: {\n        thickness: 16,\n        xpad: theme.spacing.twoXLPx,\n        ticklabelposition: \"outside\",\n        outlinecolor: colors.transparent,\n        outlinewidth: 8,\n        len: 0.75,\n        y: 0.5745,\n        title: {\n          font: {\n            color: getGray70(theme),\n            size: fontSizes.smPx,\n          },\n        },\n        tickfont: {\n          color: getGray70(theme),\n          size: fontSizes.twoSmPx,\n        },\n      },\n    },\n    // specifically for the ternary graph\n    ternary: {\n      gridcolor: getGray70(theme),\n      bgcolor: colors.bgColor,\n      title: {\n        font: {\n          family: genericFonts.bodyFont,\n          size: fontSizes.smPx,\n        },\n      },\n      color: getGray70(theme),\n      aaxis: {\n        gridcolor: getGray70(theme),\n        linecolor: getGray70(theme),\n        tickfont: {\n          family: genericFonts.bodyFont,\n          size: fontSizes.twoSmPx,\n        },\n      },\n      baxis: {\n        linecolor: getGray70(theme),\n        gridcolor: getGray70(theme),\n        tickfont: {\n          family: genericFonts.bodyFont,\n          size: fontSizes.twoSmPx,\n        },\n      },\n      caxis: {\n        linecolor: getGray70(theme),\n        gridcolor: getGray70(theme),\n        tickfont: {\n          family: genericFonts.bodyFont,\n          size: fontSizes.twoSmPx,\n        },\n      },\n    },\n  }\n\n  merge(layout, streamlitTheme)\n}\n\n/**\n * Replace the colors that we are using from streamlit_plotly_theme.py.\n * This is done so that we change colors based on the background color\n * as the backend has no idea of the background color.\n * @param spec the spec that we want to update\n * @param theme\n * @param elementTheme element.theme\n * @returns the updated spec with the correct theme colors\n */\nfunction replaceCategoricalColors(\n  spec: string,\n  theme: EmotionTheme,\n  elementTheme: string\n): string {\n  // All the placeholder constants defined here are matching the placeholders in the python implementation.\n  const CATEGORY_0 = \"#000001\"\n  const CATEGORY_1 = \"#000002\"\n  const CATEGORY_2 = \"#000003\"\n  const CATEGORY_3 = \"#000004\"\n  const CATEGORY_4 = \"#000005\"\n  const CATEGORY_5 = \"#000006\"\n  const CATEGORY_6 = \"#000007\"\n  const CATEGORY_7 = \"#000008\"\n  const CATEGORY_8 = \"#000009\"\n  const CATEGORY_9 = \"#000010\"\n\n  if (elementTheme === \"streamlit\") {\n    const categoryColors = getCategoricalColorsArray(theme)\n    spec = spec.replaceAll(CATEGORY_0, categoryColors[0])\n    spec = spec.replaceAll(CATEGORY_1, categoryColors[1])\n    spec = spec.replaceAll(CATEGORY_2, categoryColors[2])\n    spec = spec.replaceAll(CATEGORY_3, categoryColors[3])\n    spec = spec.replaceAll(CATEGORY_4, categoryColors[4])\n    spec = spec.replaceAll(CATEGORY_5, categoryColors[5])\n    spec = spec.replaceAll(CATEGORY_6, categoryColors[6])\n    spec = spec.replaceAll(CATEGORY_7, categoryColors[7])\n    spec = spec.replaceAll(CATEGORY_8, categoryColors[8])\n    spec = spec.replaceAll(CATEGORY_9, categoryColors[9])\n  } else {\n    // Default plotly colors\n    spec = spec.replaceAll(CATEGORY_0, \"#636efa\")\n    spec = spec.replaceAll(CATEGORY_1, \"#EF553B\")\n    spec = spec.replaceAll(CATEGORY_2, \"#00cc96\")\n    spec = spec.replaceAll(CATEGORY_3, \"#ab63fa\")\n    spec = spec.replaceAll(CATEGORY_4, \"#FFA15A\")\n    spec = spec.replaceAll(CATEGORY_5, \"#19d3f3\")\n    spec = spec.replaceAll(CATEGORY_6, \"#FF6692\")\n    spec = spec.replaceAll(CATEGORY_7, \"#B6E880\")\n    spec = spec.replaceAll(CATEGORY_8, \"#FF97FF\")\n    spec = spec.replaceAll(CATEGORY_9, \"#FECB52\")\n  }\n  return spec\n}\n\nfunction replaceSequentialColors(\n  spec: string,\n  theme: EmotionTheme,\n  elementTheme: string\n): string {\n  // All the placeholder constants defined here are matching the placeholders in the python implementation.\n  const SEQUENTIAL_0 = \"#000011\"\n  const SEQUENTIAL_1 = \"#000012\"\n  const SEQUENTIAL_2 = \"#000013\"\n  const SEQUENTIAL_3 = \"#000014\"\n  const SEQUENTIAL_4 = \"#000015\"\n  const SEQUENTIAL_5 = \"#000016\"\n  const SEQUENTIAL_6 = \"#000017\"\n  const SEQUENTIAL_7 = \"#000018\"\n  const SEQUENTIAL_8 = \"#000019\"\n  const SEQUENTIAL_9 = \"#000020\"\n\n  if (elementTheme === \"streamlit\") {\n    const sequentialColors = getSequentialColorsArray(theme)\n    spec = spec.replaceAll(SEQUENTIAL_0, sequentialColors[0])\n    spec = spec.replaceAll(SEQUENTIAL_1, sequentialColors[1])\n    spec = spec.replaceAll(SEQUENTIAL_2, sequentialColors[2])\n    spec = spec.replaceAll(SEQUENTIAL_3, sequentialColors[3])\n    spec = spec.replaceAll(SEQUENTIAL_4, sequentialColors[4])\n    spec = spec.replaceAll(SEQUENTIAL_5, sequentialColors[5])\n    spec = spec.replaceAll(SEQUENTIAL_6, sequentialColors[6])\n    spec = spec.replaceAll(SEQUENTIAL_7, sequentialColors[7])\n    spec = spec.replaceAll(SEQUENTIAL_8, sequentialColors[8])\n    spec = spec.replaceAll(SEQUENTIAL_9, sequentialColors[9])\n  } else {\n    // Default plotly colors\n    spec = spec.replaceAll(SEQUENTIAL_0, \"#0d0887\")\n    spec = spec.replaceAll(SEQUENTIAL_1, \"#46039f\")\n    spec = spec.replaceAll(SEQUENTIAL_2, \"#7201a8\")\n    spec = spec.replaceAll(SEQUENTIAL_3, \"#9c179e\")\n    spec = spec.replaceAll(SEQUENTIAL_4, \"#bd3786\")\n    spec = spec.replaceAll(SEQUENTIAL_5, \"#d8576b\")\n    spec = spec.replaceAll(SEQUENTIAL_6, \"#ed7953\")\n    spec = spec.replaceAll(SEQUENTIAL_7, \"#fb9f3a\")\n    spec = spec.replaceAll(SEQUENTIAL_8, \"#fdca26\")\n    spec = spec.replaceAll(SEQUENTIAL_9, \"#f0f921\")\n  }\n  return spec\n}\n\nfunction replaceDivergingColors(\n  spec: string,\n  theme: EmotionTheme,\n  elementTheme: string\n): string {\n  // All the placeholder constants defined here are matching the placeholders in the python implementation.\n  const DIVERGING_0 = \"#000021\"\n  const DIVERGING_1 = \"#000022\"\n  const DIVERGING_2 = \"#000023\"\n  const DIVERGING_3 = \"#000024\"\n  const DIVERGING_4 = \"#000025\"\n  const DIVERGING_5 = \"#000026\"\n  const DIVERGING_6 = \"#000027\"\n  const DIVERGING_7 = \"#000028\"\n  const DIVERGING_8 = \"#000029\"\n  const DIVERGING_9 = \"#000030\"\n  const DIVERGING_10 = \"#000031\"\n\n  if (elementTheme === \"streamlit\") {\n    const divergingColors = getDivergingColorsArray(theme)\n    spec = spec.replaceAll(DIVERGING_0, divergingColors[0])\n    spec = spec.replaceAll(DIVERGING_1, divergingColors[1])\n    spec = spec.replaceAll(DIVERGING_2, divergingColors[2])\n    spec = spec.replaceAll(DIVERGING_3, divergingColors[3])\n    spec = spec.replaceAll(DIVERGING_4, divergingColors[4])\n    spec = spec.replaceAll(DIVERGING_5, divergingColors[5])\n    spec = spec.replaceAll(DIVERGING_6, divergingColors[6])\n    spec = spec.replaceAll(DIVERGING_7, divergingColors[7])\n    spec = spec.replaceAll(DIVERGING_8, divergingColors[8])\n    spec = spec.replaceAll(DIVERGING_9, divergingColors[9])\n    spec = spec.replaceAll(DIVERGING_10, divergingColors[10])\n  } else {\n    // Default plotly colors\n    spec = spec.replaceAll(DIVERGING_0, \"#8e0152\")\n    spec = spec.replaceAll(DIVERGING_1, \"#c51b7d\")\n    spec = spec.replaceAll(DIVERGING_2, \"#de77ae\")\n    spec = spec.replaceAll(DIVERGING_3, \"#f1b6da\")\n    spec = spec.replaceAll(DIVERGING_4, \"#fde0ef\")\n    spec = spec.replaceAll(DIVERGING_5, \"#f7f7f7\")\n    spec = spec.replaceAll(DIVERGING_6, \"#e6f5d0\")\n    spec = spec.replaceAll(DIVERGING_7, \"#b8e186\")\n    spec = spec.replaceAll(DIVERGING_8, \"#7fbc41\")\n    spec = spec.replaceAll(DIVERGING_9, \"#4d9221\")\n    spec = spec.replaceAll(DIVERGING_10, \"#276419\")\n  }\n  return spec\n}\n\n/**\n * Because Template.layout doesn't affect the go(plotly.graph_objects) graphs,\n * we use this method to specifically replace these graph properties.\n * */\nfunction replaceGOSpecificColors(spec: string, theme: EmotionTheme): string {\n  // All the placeholder constants defined here are matching the placeholders in the python implementation.\n  const INCREASING = \"#000032\"\n  const DECREASING = \"#000033\"\n  const TOTAL = \"#000034\"\n\n  const GRAY_30 = \"#000035\"\n  const GRAY_70 = \"#000036\"\n  const GRAY_90 = \"#000037\"\n  const BG_COLOR = \"#000038\"\n  const FADED_TEXT_05 = \"#000039\"\n  const BG_MIX = \"#000040\"\n\n  spec = spec.replaceAll(INCREASING, getIncreasingGreen(theme))\n  spec = spec.replaceAll(DECREASING, getDecreasingRed(theme))\n  spec = spec.replaceAll(\n    TOTAL,\n    hasLightBackgroundColor(theme) ? theme.colors.blue80 : theme.colors.blue40\n  )\n\n  spec = spec.replaceAll(GRAY_30, getGray30(theme))\n  spec = spec.replaceAll(GRAY_70, getGray70(theme))\n  spec = spec.replaceAll(GRAY_90, getGray90(theme))\n\n  spec = spec.replaceAll(BG_COLOR, theme.colors.bgColor)\n  spec = spec.replaceAll(FADED_TEXT_05, theme.colors.fadedText05)\n  spec = spec.replaceAll(BG_MIX, theme.colors.bgMix)\n  return spec\n}\n\nexport function replaceTemporaryColors(\n  spec: string,\n  theme: EmotionTheme,\n  elementTheme: string\n): string {\n  spec = replaceGOSpecificColors(spec, theme)\n  spec = replaceCategoricalColors(spec, theme, elementTheme)\n  spec = replaceSequentialColors(spec, theme, elementTheme)\n  spec = replaceDivergingColors(spec, theme, elementTheme)\n  return spec\n}\n\n/**\n * Applies the Streamlit theme by overriding properties in\n * spec.data, spec.layout.template.data, and spec.layout.template.layout\n * @param spec - spec\n */\nexport function applyStreamlitTheme(spec: any, theme: EmotionTheme): void {\n  try {\n    applyStreamlitThemeTemplateLayout(spec.layout.template.layout, theme)\n  } catch (e) {\n    const err = ensureError(e)\n    logError(err)\n  }\n  if (\"title\" in spec.layout) {\n    spec.layout.title = merge(spec.layout.title, {\n      text: `<b>${spec.layout.title.text}</b>`,\n    })\n  }\n}\n\n/**\n * Apply minimum changes to graph to fit streamlit\n * @param layout - spec.layout\n * @param theme - theme from useTheme()\n * @returns modified spec.layout\n */\nexport function layoutWithThemeDefaults(\n  layout: any,\n  theme: EmotionTheme\n): any {\n  const { colors, genericFonts } = theme\n\n  const themeDefaults = {\n    font: {\n      color: colors.bodyText,\n      family: genericFonts.bodyFont,\n    },\n    paper_bgcolor: colors.bgColor,\n    plot_bgcolor: colors.secondaryBg,\n  }\n\n  // Fill in theme defaults where the user didn't specify layout options.\n  return {\n    ...layout,\n    font: {\n      ...themeDefaults.font,\n      ...layout.font,\n    },\n    paper_bgcolor: layout.paper_bgcolor || themeDefaults.paper_bgcolor,\n    plot_bgcolor: layout.plot_bgcolor || themeDefaults.plot_bgcolor,\n  }\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAOA,KAAK,MAAM,cAAc;AAEhC,SAEEC,yBAAyB,EACzBC,gBAAgB,EAChBC,uBAAuB,EACvBC,SAAS,EACTC,SAAS,EACTC,SAAS,EACTC,kBAAkB,EAClBC,wBAAwB,EACxBC,uBAAuB;AAEzB,SAASC,WAAW;AACpB,SAASC,QAAQ;;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,iCAAiCA,CAC/CC,MAAW,EACXC,KAAmB,EACb;EACN,MAAM;IAAEC,YAAY;IAAEC,MAAM;IAAEC;EAAU,CAAC,GAAGH,KAAK;EAEjD,MAAMI,cAAc,GAAG;IACrBC,IAAI,EAAE;MACJC,KAAK,EAAEf,SAAS,CAACS,KAAK,CAAC;MACvBO,MAAM,EAAEN,YAAY,CAACO,QAAQ;MAC7BC,IAAI,EAAEN,SAAS,CAACO;IAClB,CAAC;IACDC,KAAK,EAAE;MACLL,KAAK,EAAEJ,MAAM,CAACU,YAAY;MAC1BC,aAAa,EAAEX,MAAM,CAACY,QAAQ;MAC9BT,IAAI,EAAE;QACJE,MAAM,EAAEN,YAAY,CAACc,WAAW;QAChCN,IAAI,EAAEN,SAAS,CAACa,IAAI;QACpBV,KAAK,EAAEJ,MAAM,CAACU;MAChB,CAAC;MACDK,GAAG,EAAE;QACHC,CAAC,EAAElB,KAAK,CAACmB,OAAO,CAACC;MACnB,CAAC;MACDC,OAAO,EAAE,MAAM;MACfC,CAAC,EAAE;IACL,CAAC;IACDC,MAAM,EAAE;MACNZ,KAAK,EAAE;QACLN,IAAI,EAAE;UACJI,IAAI,EAAEN,SAAS,CAACO,OAAO;UACvBJ,KAAK,EAAEf,SAAS,CAACS,KAAK;QACxB,CAAC;QACDwB,IAAI,EAAE;MACR,CAAC;MACDC,MAAM,EAAE,KAAK;MACbC,WAAW,EAAExB,MAAM,CAACyB,WAAW;MAC/BC,WAAW,EAAE5B,KAAK,CAACmB,OAAO,CAACU,MAAM;MACjCxB,IAAI,EAAE;QACJI,IAAI,EAAEN,SAAS,CAACO,OAAO;QACvBJ,KAAK,EAAEd,SAAS,CAACQ,KAAK;MACxB;IACF,CAAC;IACD8B,aAAa,EAAE5B,MAAM,CAAC6B,OAAO;IAC7BC,YAAY,EAAE9B,MAAM,CAAC6B,OAAO;IAC5BE,KAAK,EAAE;MACLC,iBAAiB,EAAE,SAAS;MAC5BC,aAAa,EAAE7C,SAAS,CAACU,KAAK,CAAC;MAC/BW,KAAK,EAAE;QACLN,IAAI,EAAE;UACJC,KAAK,EAAEf,SAAS,CAACS,KAAK,CAAC;UACvBS,IAAI,EAAEN,SAAS,CAACiC;QAClB,CAAC;QACDC,QAAQ,EAAErC,KAAK,CAACmB,OAAO,CAACmB;MAC1B,CAAC;MACDC,SAAS,EAAEjD,SAAS,CAACU,KAAK,CAAC;MAC3BwC,QAAQ,EAAE;QACRlC,KAAK,EAAEf,SAAS,CAACS,KAAK,CAAC;QACvBS,IAAI,EAAEN,SAAS,CAACO;MAClB,CAAC;MACD+B,SAAS,EAAEnD,SAAS,CAACU,KAAK,CAAC;MAC3B0C,KAAK,EAAE;QACLD,SAAS,EAAEnD,SAAS,CAACU,KAAK;MAC5B,CAAC;MACD2C,UAAU,EAAE;IACd,CAAC;IACDC,KAAK,EAAE;MACLT,aAAa,EAAE7C,SAAS,CAACU,KAAK,CAAC;MAC/ByC,SAAS,EAAEnD,SAAS,CAACU,KAAK,CAAC;MAC3B6C,QAAQ,EAAE,KAAK;MACfL,QAAQ,EAAE;QACRlC,KAAK,EAAEf,SAAS,CAACS,KAAK,CAAC;QACvBS,IAAI,EAAEN,SAAS,CAACO;MAClB,CAAC;MACD6B,SAAS,EAAEjD,SAAS,CAACU,KAAK,CAAC;MAC3BW,KAAK,EAAE;QACLN,IAAI,EAAE;UACJC,KAAK,EAAEf,SAAS,CAACS,KAAK,CAAC;UACvBS,IAAI,EAAEN,SAAS,CAACiC;QAClB,CAAC;QACDC,QAAQ,EAAErC,KAAK,CAACmB,OAAO,CAAC2B;MAC1B,CAAC;MACDJ,KAAK,EAAE;QACLD,SAAS,EAAEnD,SAAS,CAACU,KAAK;MAC5B,CAAC;MACD+C,QAAQ,EAAE,KAAK;MACfJ,UAAU,EAAE,IAAI;MAChBK,aAAa,EAAE;QACbC,OAAO,EAAE/C,MAAM,CAAC6B,OAAO;QACvBL,WAAW,EAAEpC,SAAS,CAACU,KAAK,CAAC;QAC7B4B,WAAW,EAAE,CAAC;QACdN,CAAC,EAAE;MACL;IACF,CAAC;IACD4B,MAAM,EAAE;MACNjC,GAAG,EAAEjB,KAAK,CAACmB,OAAO,CAACiB,IAAI;MACvBe,CAAC,EAAEnD,KAAK,CAACmB,OAAO,CAACU,MAAM;MACvBX,CAAC,EAAElB,KAAK,CAACmB,OAAO,CAACU;IACnB,CAAC;IACDuB,UAAU,EAAE;MACVH,OAAO,EAAE/C,MAAM,CAAC6B,OAAO;MACvBL,WAAW,EAAExB,MAAM,CAACmD,WAAW;MAC/BhD,IAAI,EAAE;QACJC,KAAK,EAAEf,SAAS,CAACS,KAAK,CAAC;QACvBO,MAAM,EAAEN,YAAY,CAACO,QAAQ;QAC7BC,IAAI,EAAEN,SAAS,CAACO;MAClB;IACF,CAAC;IACD4C,SAAS,EAAE;MACTC,QAAQ,EAAE;QACRC,SAAS,EAAE,EAAE;QACbC,IAAI,EAAEzD,KAAK,CAACmB,OAAO,CAACmB,OAAO;QAC3BJ,iBAAiB,EAAE,SAAS;QAC5BwB,YAAY,EAAExD,MAAM,CAACyB,WAAW;QAChCgC,YAAY,EAAE,CAAC;QACfC,GAAG,EAAE,IAAI;QACTC,CAAC,EAAE,MAAM;QACTlD,KAAK,EAAE;UACLN,IAAI,EAAE;YACJC,KAAK,EAAEf,SAAS,CAACS,KAAK,CAAC;YACvBS,IAAI,EAAEN,SAAS,CAACiC;UAClB;QACF,CAAC;QACDI,QAAQ,EAAE;UACRlC,KAAK,EAAEf,SAAS,CAACS,KAAK,CAAC;UACvBS,IAAI,EAAEN,SAAS,CAACO;QAClB;MACF;IACF,CAAC;IACD;IACAoD,OAAO,EAAE;MACPrB,SAAS,EAAElD,SAAS,CAACS,KAAK,CAAC;MAC3BiD,OAAO,EAAE/C,MAAM,CAAC6B,OAAO;MACvBpB,KAAK,EAAE;QACLN,IAAI,EAAE;UACJE,MAAM,EAAEN,YAAY,CAACO,QAAQ;UAC7BC,IAAI,EAAEN,SAAS,CAACiC;QAClB;MACF,CAAC;MACD9B,KAAK,EAAEf,SAAS,CAACS,KAAK,CAAC;MACvB+D,KAAK,EAAE;QACLtB,SAAS,EAAElD,SAAS,CAACS,KAAK,CAAC;QAC3BgE,SAAS,EAAEzE,SAAS,CAACS,KAAK,CAAC;QAC3BwC,QAAQ,EAAE;UACRjC,MAAM,EAAEN,YAAY,CAACO,QAAQ;UAC7BC,IAAI,EAAEN,SAAS,CAACO;QAClB;MACF,CAAC;MACDuD,KAAK,EAAE;QACLD,SAAS,EAAEzE,SAAS,CAACS,KAAK,CAAC;QAC3ByC,SAAS,EAAElD,SAAS,CAACS,KAAK,CAAC;QAC3BwC,QAAQ,EAAE;UACRjC,MAAM,EAAEN,YAAY,CAACO,QAAQ;UAC7BC,IAAI,EAAEN,SAAS,CAACO;QAClB;MACF,CAAC;MACDwD,KAAK,EAAE;QACLF,SAAS,EAAEzE,SAAS,CAACS,KAAK,CAAC;QAC3ByC,SAAS,EAAElD,SAAS,CAACS,KAAK,CAAC;QAC3BwC,QAAQ,EAAE;UACRjC,MAAM,EAAEN,YAAY,CAACO,QAAQ;UAC7BC,IAAI,EAAEN,SAAS,CAACO;QAClB;MACF;IACF;EACF,CAAC;EAEDxB,KAAK,CAACa,MAAM,EAAEK,cAAc,CAAC;AAC/B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS+D,wBAAwBA,CAC/BC,IAAY,EACZpE,KAAmB,EACnBqE,YAAoB,EACZ;EACR;EACA,MAAMC,UAAU,GAAG,SAAS;EAC5B,MAAMC,UAAU,GAAG,SAAS;EAC5B,MAAMC,UAAU,GAAG,SAAS;EAC5B,MAAMC,UAAU,GAAG,SAAS;EAC5B,MAAMC,UAAU,GAAG,SAAS;EAC5B,MAAMC,UAAU,GAAG,SAAS;EAC5B,MAAMC,UAAU,GAAG,SAAS;EAC5B,MAAMC,UAAU,GAAG,SAAS;EAC5B,MAAMC,UAAU,GAAG,SAAS;EAC5B,MAAMC,UAAU,GAAG,SAAS;EAE5B,IAAIV,YAAY,KAAK,WAAW,EAAE;IAChC,MAAMW,cAAc,GAAG7F,yBAAyB,CAACa,KAAK,CAAC;IACvDoE,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACX,UAAU,EAAEU,cAAc,CAAC,CAAC,CAAC,CAAC;IACrDZ,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACV,UAAU,EAAES,cAAc,CAAC,CAAC,CAAC,CAAC;IACrDZ,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACT,UAAU,EAAEQ,cAAc,CAAC,CAAC,CAAC,CAAC;IACrDZ,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACR,UAAU,EAAEO,cAAc,CAAC,CAAC,CAAC,CAAC;IACrDZ,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACP,UAAU,EAAEM,cAAc,CAAC,CAAC,CAAC,CAAC;IACrDZ,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACN,UAAU,EAAEK,cAAc,CAAC,CAAC,CAAC,CAAC;IACrDZ,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACL,UAAU,EAAEI,cAAc,CAAC,CAAC,CAAC,CAAC;IACrDZ,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACJ,UAAU,EAAEG,cAAc,CAAC,CAAC,CAAC,CAAC;IACrDZ,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACH,UAAU,EAAEE,cAAc,CAAC,CAAC,CAAC,CAAC;IACrDZ,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACF,UAAU,EAAEC,cAAc,CAAC,CAAC,CAAC,CAAC;EACvD,CAAC,MAAM;IACL;IACAZ,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACX,UAAU,EAAE,SAAS,CAAC;IAC7CF,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACV,UAAU,EAAE,SAAS,CAAC;IAC7CH,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACT,UAAU,EAAE,SAAS,CAAC;IAC7CJ,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACR,UAAU,EAAE,SAAS,CAAC;IAC7CL,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACP,UAAU,EAAE,SAAS,CAAC;IAC7CN,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACN,UAAU,EAAE,SAAS,CAAC;IAC7CP,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACL,UAAU,EAAE,SAAS,CAAC;IAC7CR,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACJ,UAAU,EAAE,SAAS,CAAC;IAC7CT,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACH,UAAU,EAAE,SAAS,CAAC;IAC7CV,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACF,UAAU,EAAE,SAAS,CAAC;EAC/C;EACA,OAAOX,IAAI;AACb;AAEA,SAASc,uBAAuBA,CAC9Bd,IAAY,EACZpE,KAAmB,EACnBqE,YAAoB,EACZ;EACR;EACA,MAAMc,YAAY,GAAG,SAAS;EAC9B,MAAMC,YAAY,GAAG,SAAS;EAC9B,MAAMC,YAAY,GAAG,SAAS;EAC9B,MAAMC,YAAY,GAAG,SAAS;EAC9B,MAAMC,YAAY,GAAG,SAAS;EAC9B,MAAMC,YAAY,GAAG,SAAS;EAC9B,MAAMC,YAAY,GAAG,SAAS;EAC9B,MAAMC,YAAY,GAAG,SAAS;EAC9B,MAAMC,YAAY,GAAG,SAAS;EAC9B,MAAMC,YAAY,GAAG,SAAS;EAE9B,IAAIvB,YAAY,KAAK,WAAW,EAAE;IAChC,MAAMwB,gBAAgB,GAAGnG,wBAAwB,CAACM,KAAK,CAAC;IACxDoE,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACE,YAAY,EAAEU,gBAAgB,CAAC,CAAC,CAAC,CAAC;IACzDzB,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACG,YAAY,EAAES,gBAAgB,CAAC,CAAC,CAAC,CAAC;IACzDzB,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACI,YAAY,EAAEQ,gBAAgB,CAAC,CAAC,CAAC,CAAC;IACzDzB,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACK,YAAY,EAAEO,gBAAgB,CAAC,CAAC,CAAC,CAAC;IACzDzB,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACM,YAAY,EAAEM,gBAAgB,CAAC,CAAC,CAAC,CAAC;IACzDzB,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACO,YAAY,EAAEK,gBAAgB,CAAC,CAAC,CAAC,CAAC;IACzDzB,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACQ,YAAY,EAAEI,gBAAgB,CAAC,CAAC,CAAC,CAAC;IACzDzB,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACS,YAAY,EAAEG,gBAAgB,CAAC,CAAC,CAAC,CAAC;IACzDzB,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACU,YAAY,EAAEE,gBAAgB,CAAC,CAAC,CAAC,CAAC;IACzDzB,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACW,YAAY,EAAEC,gBAAgB,CAAC,CAAC,CAAC,CAAC;EAC3D,CAAC,MAAM;IACL;IACAzB,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACE,YAAY,EAAE,SAAS,CAAC;IAC/Cf,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACG,YAAY,EAAE,SAAS,CAAC;IAC/ChB,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACI,YAAY,EAAE,SAAS,CAAC;IAC/CjB,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACK,YAAY,EAAE,SAAS,CAAC;IAC/ClB,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACM,YAAY,EAAE,SAAS,CAAC;IAC/CnB,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACO,YAAY,EAAE,SAAS,CAAC;IAC/CpB,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACQ,YAAY,EAAE,SAAS,CAAC;IAC/CrB,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACS,YAAY,EAAE,SAAS,CAAC;IAC/CtB,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACU,YAAY,EAAE,SAAS,CAAC;IAC/CvB,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACW,YAAY,EAAE,SAAS,CAAC;EACjD;EACA,OAAOxB,IAAI;AACb;AAEA,SAAS0B,sBAAsBA,CAC7B1B,IAAY,EACZpE,KAAmB,EACnBqE,YAAoB,EACZ;EACR;EACA,MAAM0B,WAAW,GAAG,SAAS;EAC7B,MAAMC,WAAW,GAAG,SAAS;EAC7B,MAAMC,WAAW,GAAG,SAAS;EAC7B,MAAMC,WAAW,GAAG,SAAS;EAC7B,MAAMC,WAAW,GAAG,SAAS;EAC7B,MAAMC,WAAW,GAAG,SAAS;EAC7B,MAAMC,WAAW,GAAG,SAAS;EAC7B,MAAMC,WAAW,GAAG,SAAS;EAC7B,MAAMC,WAAW,GAAG,SAAS;EAC7B,MAAMC,WAAW,GAAG,SAAS;EAC7B,MAAMC,YAAY,GAAG,SAAS;EAE9B,IAAIpC,YAAY,KAAK,WAAW,EAAE;IAChC,MAAMqC,eAAe,GAAGrH,uBAAuB,CAACW,KAAK,CAAC;IACtDoE,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACc,WAAW,EAAEW,eAAe,CAAC,CAAC,CAAC,CAAC;IACvDtC,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACe,WAAW,EAAEU,eAAe,CAAC,CAAC,CAAC,CAAC;IACvDtC,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACgB,WAAW,EAAES,eAAe,CAAC,CAAC,CAAC,CAAC;IACvDtC,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACiB,WAAW,EAAEQ,eAAe,CAAC,CAAC,CAAC,CAAC;IACvDtC,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACkB,WAAW,EAAEO,eAAe,CAAC,CAAC,CAAC,CAAC;IACvDtC,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACmB,WAAW,EAAEM,eAAe,CAAC,CAAC,CAAC,CAAC;IACvDtC,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACoB,WAAW,EAAEK,eAAe,CAAC,CAAC,CAAC,CAAC;IACvDtC,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACqB,WAAW,EAAEI,eAAe,CAAC,CAAC,CAAC,CAAC;IACvDtC,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACsB,WAAW,EAAEG,eAAe,CAAC,CAAC,CAAC,CAAC;IACvDtC,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACuB,WAAW,EAAEE,eAAe,CAAC,CAAC,CAAC,CAAC;IACvDtC,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACwB,YAAY,EAAEC,eAAe,CAAC,EAAE,CAAC,CAAC;EAC3D,CAAC,MAAM;IACL;IACAtC,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACc,WAAW,EAAE,SAAS,CAAC;IAC9C3B,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACe,WAAW,EAAE,SAAS,CAAC;IAC9C5B,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACgB,WAAW,EAAE,SAAS,CAAC;IAC9C7B,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACiB,WAAW,EAAE,SAAS,CAAC;IAC9C9B,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACkB,WAAW,EAAE,SAAS,CAAC;IAC9C/B,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACmB,WAAW,EAAE,SAAS,CAAC;IAC9ChC,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACoB,WAAW,EAAE,SAAS,CAAC;IAC9CjC,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACqB,WAAW,EAAE,SAAS,CAAC;IAC9ClC,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACsB,WAAW,EAAE,SAAS,CAAC;IAC9CnC,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACuB,WAAW,EAAE,SAAS,CAAC;IAC9CpC,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACwB,YAAY,EAAE,SAAS,CAAC;EACjD;EACA,OAAOrC,IAAI;AACb;;AAEA;AACA;AACA;AACA;AACA,SAASuC,uBAAuBA,CAACvC,IAAY,EAAEpE,KAAmB,EAAU;EAC1E;EACA,MAAM4G,UAAU,GAAG,SAAS;EAC5B,MAAMC,UAAU,GAAG,SAAS;EAC5B,MAAMC,KAAK,GAAG,SAAS;EAEvB,MAAMC,OAAO,GAAG,SAAS;EACzB,MAAMC,OAAO,GAAG,SAAS;EACzB,MAAMC,OAAO,GAAG,SAAS;EACzB,MAAMC,QAAQ,GAAG,SAAS;EAC1B,MAAMC,aAAa,GAAG,SAAS;EAC/B,MAAMC,MAAM,GAAG,SAAS;EAExBhD,IAAI,GAAGA,IAAI,CAACa,UAAU,CAAC2B,UAAU,EAAEnH,kBAAkB,CAACO,KAAK,CAAC,CAAC;EAC7DoE,IAAI,GAAGA,IAAI,CAACa,UAAU,CAAC4B,UAAU,EAAEzH,gBAAgB,CAACY,KAAK,CAAC,CAAC;EAC3DoE,IAAI,GAAGA,IAAI,CAACa,UAAU,CACpB6B,KAAK,EACLnH,uBAAuB,CAACK,KAAK,CAAC,GAAGA,KAAK,CAACE,MAAM,CAACmH,MAAM,GAAGrH,KAAK,CAACE,MAAM,CAACoH,MACtE,CAAC;EAEDlD,IAAI,GAAGA,IAAI,CAACa,UAAU,CAAC8B,OAAO,EAAEzH,SAAS,CAACU,KAAK,CAAC,CAAC;EACjDoE,IAAI,GAAGA,IAAI,CAACa,UAAU,CAAC+B,OAAO,EAAEzH,SAAS,CAACS,KAAK,CAAC,CAAC;EACjDoE,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACgC,OAAO,EAAEzH,SAAS,CAACQ,KAAK,CAAC,CAAC;EAEjDoE,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACiC,QAAQ,EAAElH,KAAK,CAACE,MAAM,CAAC6B,OAAO,CAAC;EACtDqC,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACkC,aAAa,EAAEnH,KAAK,CAACE,MAAM,CAACqH,WAAW,CAAC;EAC/DnD,IAAI,GAAGA,IAAI,CAACa,UAAU,CAACmC,MAAM,EAAEpH,KAAK,CAACE,MAAM,CAACsH,KAAK,CAAC;EAClD,OAAOpD,IAAI;AACb;AAEA,OAAO,SAASqD,sBAAsBA,CACpCrD,IAAY,EACZpE,KAAmB,EACnBqE,YAAoB,EACZ;EACRD,IAAI,GAAGuC,uBAAuB,CAACvC,IAAI,EAAEpE,KAAK,CAAC;EAC3CoE,IAAI,GAAGD,wBAAwB,CAACC,IAAI,EAAEpE,KAAK,EAAEqE,YAAY,CAAC;EAC1DD,IAAI,GAAGc,uBAAuB,CAACd,IAAI,EAAEpE,KAAK,EAAEqE,YAAY,CAAC;EACzDD,IAAI,GAAG0B,sBAAsB,CAAC1B,IAAI,EAAEpE,KAAK,EAAEqE,YAAY,CAAC;EACxD,OAAOD,IAAI;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASsD,mBAAmBA,CAACtD,IAAS,EAAEpE,KAAmB,EAAQ;EACxE,IAAI;IACFF,iCAAiC,CAACsE,IAAI,CAACrE,MAAM,CAAC4H,QAAQ,CAAC5H,MAAM,EAAEC,KAAK,CAAC;EACvE,CAAC,CAAC,OAAO4H,CAAC,EAAE;IACV,MAAMC,GAAG,GAAGjI,WAAW,CAACgI,CAAC,CAAC;IAC1B/H,QAAQ,CAACgI,GAAG,CAAC;EACf;EACA,IAAI,OAAO,IAAIzD,IAAI,CAACrE,MAAM,EAAE;IAC1BqE,IAAI,CAACrE,MAAM,CAACY,KAAK,GAAGzB,KAAK,CAACkF,IAAI,CAACrE,MAAM,CAACY,KAAK,EAAE;MAC3CmH,IAAI,EAAG,MAAK1D,IAAI,CAACrE,MAAM,CAACY,KAAK,CAACmH,IAAK;IACrC,CAAC,CAAC;EACJ;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,uBAAuBA,CACrChI,MAAW,EACXC,KAAmB,EACd;EACL,MAAM;IAAEE,MAAM;IAAED;EAAa,CAAC,GAAGD,KAAK;EAEtC,MAAMgI,aAAa,GAAG;IACpB3H,IAAI,EAAE;MACJC,KAAK,EAAEJ,MAAM,CAACY,QAAQ;MACtBP,MAAM,EAAEN,YAAY,CAACO;IACvB,CAAC;IACDsB,aAAa,EAAE5B,MAAM,CAAC6B,OAAO;IAC7BC,YAAY,EAAE9B,MAAM,CAAC+H;EACvB,CAAC;;EAED;EACA,OAAO;IACL,GAAGlI,MAAM;IACTM,IAAI,EAAE;MACJ,GAAG2H,aAAa,CAAC3H,IAAI;MACrB,GAAGN,MAAM,CAACM;IACZ,CAAC;IACDyB,aAAa,EAAE/B,MAAM,CAAC+B,aAAa,IAAIkG,aAAa,CAAClG,aAAa;IAClEE,YAAY,EAAEjC,MAAM,CAACiC,YAAY,IAAIgG,aAAa,CAAChG;EACrD,CAAC;AACH"}