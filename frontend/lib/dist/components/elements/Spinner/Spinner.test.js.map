{"version":3,"file":"Spinner.test.js","names":["React","BaseProvider","LightTheme","screen","Spinner","SpinnerProto","render","jsx","_jsx","getProps","propOverrides","arguments","length","undefined","elementOverrides","element","create","text","width","describe","it","theme","children","spinnerContainer","getByTestId","expect","toBeInTheDocument","markdownText","getByText","spinnerElement","toHaveStyle","cache","toHaveClass"],"sources":["../../../../src/components/elements/Spinner/Spinner.test.tsx"],"sourcesContent":["/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\"\nimport { BaseProvider, LightTheme } from \"baseui\"\nimport { screen } from \"@testing-library/react\"\n\nimport \"@testing-library/jest-dom\"\n\nimport { Spinner as SpinnerProto } from \"@streamlit/lib/src/proto\"\nimport { render } from \"@streamlit/lib/src/test_util\"\n\nimport Spinner, { SpinnerProps } from \"./Spinner\"\n\nconst getProps = (\n  propOverrides: Partial<SpinnerProps> = {},\n  elementOverrides: Partial<SpinnerProto> = {}\n): SpinnerProps => ({\n  element: SpinnerProto.create({\n    text: \"Loading...\",\n    ...elementOverrides,\n  }),\n  width: 0,\n  ...propOverrides,\n})\n\ndescribe(\"Spinner component\", () => {\n  it(\"renders without crashing\", () => {\n    render(\n      <BaseProvider theme={LightTheme}>\n        <Spinner {...getProps()} />\n      </BaseProvider>\n    )\n\n    const spinnerContainer = screen.getByTestId(\"stSpinner\")\n    expect(spinnerContainer).toBeInTheDocument()\n  })\n\n  it(\"sets the text and width correctly\", () => {\n    render(\n      <BaseProvider theme={LightTheme}>\n        <Spinner {...getProps({ width: 100 })} />\n      </BaseProvider>\n    )\n\n    const markdownText = screen.getByText(\"Loading...\")\n    expect(markdownText).toBeInTheDocument()\n\n    // For the width, as it's a style attribute, we can test it this way:\n    const spinnerElement = screen.getByTestId(\"stSpinner\")\n    expect(spinnerElement).toHaveStyle(`width: 100px`)\n  })\n\n  it(\"sets additional className/CSS for caching spinner\", () => {\n    render(\n      <BaseProvider theme={LightTheme}>\n        <Spinner {...getProps({}, { cache: true })} />\n      </BaseProvider>\n    )\n\n    const spinnerContainer = screen.getByTestId(\"stSpinner\")\n    expect(spinnerContainer).toBeInTheDocument()\n\n    expect(spinnerContainer).toHaveClass(\"stSpinner\")\n    expect(spinnerContainer).toHaveClass(\"cacheSpinner\")\n    expect(spinnerContainer).toHaveStyle(\"paddingBottom: 1rem\")\n  })\n})\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,YAAY,EAAEC,UAAU,QAAQ,QAAQ;AACjD,SAASC,MAAM,QAAQ,wBAAwB;AAE/C,OAAO,2BAA2B;AAElC,SAASC,OAAO,IAAIC,YAAY;AAChC,SAASC,MAAM;AAEf,OAAOF,OAAO;AAAmC,SAAAG,GAAA,IAAAC,IAAA;AAEjD,MAAMC,QAAQ,GAAG,SAAAA,CAAA;EAAA,IACfC,aAAoC,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EAAA,IACzCG,gBAAuC,GAAAH,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EAAA,OAC1B;IAClBI,OAAO,EAAEV,YAAY,CAACW,MAAM,CAAC;MAC3BC,IAAI,EAAE,YAAY;MAClB,GAAGH;IACL,CAAC,CAAC;IACFI,KAAK,EAAE,CAAC;IACR,GAAGR;EACL,CAAC;AAAA,CAAC;AAEFS,QAAQ,CAAC,mBAAmB,EAAE,MAAM;EAClCC,EAAE,CAAC,0BAA0B,EAAE,MAAM;IACnCd,MAAM,eACJE,IAAA,CAACP,YAAY;MAACoB,KAAK,EAAEnB,UAAW;MAAAoB,QAAA,eAC9Bd,IAAA,CAACJ,OAAO;QAAA,GAAKK,QAAQ,CAAC;MAAC,CAAG;IAAC,CACf,CAChB,CAAC;IAED,MAAMc,gBAAgB,GAAGpB,MAAM,CAACqB,WAAW,CAAC,WAAW,CAAC;IACxDC,MAAM,CAACF,gBAAgB,CAAC,CAACG,iBAAiB,CAAC,CAAC;EAC9C,CAAC,CAAC;EAEFN,EAAE,CAAC,mCAAmC,EAAE,MAAM;IAC5Cd,MAAM,eACJE,IAAA,CAACP,YAAY;MAACoB,KAAK,EAAEnB,UAAW;MAAAoB,QAAA,eAC9Bd,IAAA,CAACJ,OAAO;QAAA,GAAKK,QAAQ,CAAC;UAAES,KAAK,EAAE;QAAI,CAAC;MAAC,CAAG;IAAC,CAC7B,CAChB,CAAC;IAED,MAAMS,YAAY,GAAGxB,MAAM,CAACyB,SAAS,CAAC,YAAY,CAAC;IACnDH,MAAM,CAACE,YAAY,CAAC,CAACD,iBAAiB,CAAC,CAAC;;IAExC;IACA,MAAMG,cAAc,GAAG1B,MAAM,CAACqB,WAAW,CAAC,WAAW,CAAC;IACtDC,MAAM,CAACI,cAAc,CAAC,CAACC,WAAW,eAAe,CAAC;EACpD,CAAC,CAAC;EAEFV,EAAE,CAAC,mDAAmD,EAAE,MAAM;IAC5Dd,MAAM,eACJE,IAAA,CAACP,YAAY;MAACoB,KAAK,EAAEnB,UAAW;MAAAoB,QAAA,eAC9Bd,IAAA,CAACJ,OAAO;QAAA,GAAKK,QAAQ,CAAC,CAAC,CAAC,EAAE;UAAEsB,KAAK,EAAE;QAAK,CAAC;MAAC,CAAG;IAAC,CAClC,CAChB,CAAC;IAED,MAAMR,gBAAgB,GAAGpB,MAAM,CAACqB,WAAW,CAAC,WAAW,CAAC;IACxDC,MAAM,CAACF,gBAAgB,CAAC,CAACG,iBAAiB,CAAC,CAAC;IAE5CD,MAAM,CAACF,gBAAgB,CAAC,CAACS,WAAW,CAAC,WAAW,CAAC;IACjDP,MAAM,CAACF,gBAAgB,CAAC,CAACS,WAAW,CAAC,cAAc,CAAC;IACpDP,MAAM,CAACF,gBAAgB,CAAC,CAACO,WAAW,CAAC,qBAAqB,CAAC;EAC7D,CAAC,CAAC;AACJ,CAAC,CAAC"}