{"version":3,"file":"Tabs.test.js","names":["React","screen","within","render","BlockNode","Block","BlockProto","Tabs","jsx","_jsx","FAKE_SCRIPT_HASH","makeTab","label","children","arguments","length","undefined","allowEmpty","tab","makeTabsNode","tabs","Array","from","_element","index","getProps","props","Object","widgetsDisabled","node","isStale","renderTabContent","jest","fn","describe","it","tabsElement","getByTestId","expect","toBeInTheDocument","toHaveClass","tabsContainer","getByRole","getAllByRole","toHaveLength","forEach","toHaveTextContent","_","toBeDisabled"],"sources":["../../../../src/components/elements/Tabs/Tabs.test.tsx"],"sourcesContent":["/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\"\nimport \"@testing-library/jest-dom\"\n\nimport { screen, within } from \"@testing-library/react\"\n\nimport { render } from \"@streamlit/lib/src/test_util\"\nimport { BlockNode } from \"@streamlit/lib/src/AppNode\"\nimport { Block as BlockProto } from \"@streamlit/lib/src/proto\"\n\nimport Tabs, { TabProps } from \"./Tabs\"\n\nconst FAKE_SCRIPT_HASH = \"fake_script_hash\"\n\nfunction makeTab(label: string, children: BlockNode[] = []): BlockNode {\n  return new BlockNode(\n    FAKE_SCRIPT_HASH,\n    children,\n    new BlockProto({ allowEmpty: true, tab: { label } })\n  )\n}\n\nfunction makeTabsNode(tabs: number): BlockNode {\n  return new BlockNode(\n    FAKE_SCRIPT_HASH,\n    Array.from({ length: tabs }, (_element, index) => makeTab(`Tab ${index}`)),\n    new BlockProto({ allowEmpty: true })\n  )\n}\n\nconst getProps = (props?: Partial<TabProps>): TabProps =>\n  Object({\n    widgetsDisabled: false,\n    node: makeTabsNode(5),\n    isStale: false,\n    ...props,\n    renderTabContent: jest.fn(),\n  })\n\ndescribe(\"st.tabs\", () => {\n  it(\"renders without crashing\", () => {\n    render(<Tabs {...getProps()} />)\n\n    const tabsElement = screen.getByTestId(\"stTabs\")\n    expect(tabsElement).toBeInTheDocument()\n    expect(tabsElement).toHaveClass(\"stTabs\")\n\n    const tabsContainer = screen.getByRole(\"tablist\")\n    expect(tabsContainer).toBeInTheDocument()\n    const tabs = within(tabsContainer).getAllByRole(\"tab\")\n    expect(tabs).toHaveLength(5)\n  })\n\n  it(\"sets the tab labels correctly\", () => {\n    render(<Tabs {...getProps()} />)\n    const tabs = screen.getAllByRole(\"tab\")\n    expect(tabs).toHaveLength(5)\n\n    tabs.forEach((tab, index) => {\n      expect(tab).toHaveTextContent(`Tab ${index}`)\n    })\n  })\n\n  it(\"can be disabled\", () => {\n    render(<Tabs {...getProps({ widgetsDisabled: true })} />)\n    const tabs = screen.getAllByRole(\"tab\")\n\n    tabs.forEach((_, index) => {\n      // the selected tab does not have the disabled prop as true in baseweb\n      if (index == 0) {\n        return\n      }\n      expect(tabs[index]).toBeDisabled()\n    })\n  })\n})\n"],"mappings":"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"}