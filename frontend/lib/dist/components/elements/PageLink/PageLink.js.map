{"version":3,"file":"PageLink.js","names":["React","useTheme","DynamicIcon","Placement","BaseButtonTooltip","StreamlitMarkdown","LibContext","IsSidebarContext","StyledNavLink","StyledNavLinkContainer","StyledNavLinkText","jsx","_jsx","jsxs","_jsxs","shouldUseContainerWidth","useContainerWidth","isInSidebar","PageLink","props","onPageChange","currentPageScriptHash","useContext","colors","disabled","element","width","style","isCurrentPage","pageScriptHash","handleClick","e","external","preventDefault","className","children","help","placement","TOP_RIGHT","fluidWidth","href","page","target","rel","onClick","icon","size","color","bodyText","iconValue","source","label","allowHTML","isLabel","boldLabel","largerLabel","disableLinks"],"sources":["../../../../src/components/elements/PageLink/PageLink.tsx"],"sourcesContent":["/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { ReactElement } from \"react\"\n\nimport { useTheme } from \"@emotion/react\"\n\nimport { DynamicIcon } from \"@streamlit/lib/src/components/shared/Icon\"\nimport { Placement } from \"@streamlit/lib/src/components/shared/Tooltip\"\nimport { PageLink as PageLinkProto } from \"@streamlit/lib/src/proto\"\nimport { BaseButtonTooltip } from \"@streamlit/lib/src/components/shared/BaseButton\"\nimport StreamlitMarkdown from \"@streamlit/lib/src/components/shared/StreamlitMarkdown\"\nimport { EmotionTheme } from \"@streamlit/lib/src/theme\"\nimport { LibContext } from \"@streamlit/lib/src/components/core/LibContext\"\nimport IsSidebarContext from \"@streamlit/lib/src/components/core/IsSidebarContext\"\n\nimport {\n  StyledNavLink,\n  StyledNavLinkContainer,\n  StyledNavLinkText,\n} from \"./styled-components\"\n\nexport interface Props {\n  disabled: boolean\n  element: PageLinkProto\n  width: number\n}\n\nfunction shouldUseContainerWidth(\n  useContainerWidth: boolean | null | undefined,\n  isInSidebar: boolean\n): boolean {\n  if (useContainerWidth === null && isInSidebar) {\n    return true\n  } else if (useContainerWidth === null && !isInSidebar) {\n    return false\n  }\n  return useContainerWidth === true ? true : false\n}\n\nfunction PageLink(props: Readonly<Props>): ReactElement {\n  const { onPageChange, currentPageScriptHash } = React.useContext(LibContext)\n  const isInSidebar = React.useContext(IsSidebarContext)\n\n  const { colors }: EmotionTheme = useTheme()\n\n  const { disabled, element, width } = props\n  const style = { width }\n\n  const useContainerWidth = shouldUseContainerWidth(\n    element.useContainerWidth,\n    isInSidebar\n  )\n\n  const isCurrentPage = currentPageScriptHash === element.pageScriptHash\n\n  const handleClick = (e: React.MouseEvent<HTMLAnchorElement>): void => {\n    if (element.external) {\n      // External Page Link\n      if (disabled) {\n        e.preventDefault()\n      }\n    } else {\n      // MPA Page Link\n      e.preventDefault()\n      if (!disabled) {\n        onPageChange(element.pageScriptHash)\n      }\n    }\n  }\n\n  return (\n    <div className=\"stPageLink\" data-testid=\"stPageLink\" style={style}>\n      <BaseButtonTooltip help={element.help} placement={Placement.TOP_RIGHT}>\n        <StyledNavLinkContainer>\n          <StyledNavLink\n            data-testid=\"stPageLink-NavLink\"\n            disabled={disabled}\n            isCurrentPage={isCurrentPage}\n            fluidWidth={useContainerWidth ? width : false}\n            href={element.page}\n            target={element.external ? \"_blank\" : \"\"}\n            rel=\"noreferrer\"\n            onClick={handleClick}\n          >\n            {element.icon && (\n              <DynamicIcon\n                size=\"lg\"\n                color={colors.bodyText}\n                iconValue={element.icon}\n              />\n            )}\n            <StyledNavLinkText disabled={disabled}>\n              <StreamlitMarkdown\n                source={element.label}\n                allowHTML={false}\n                isLabel\n                boldLabel={isCurrentPage}\n                largerLabel\n                disableLinks\n              />\n            </StyledNavLinkText>\n          </StyledNavLink>\n        </StyledNavLinkContainer>\n      </BaseButtonTooltip>\n    </div>\n  )\n}\n\nexport default PageLink\n"],"mappings":"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"}