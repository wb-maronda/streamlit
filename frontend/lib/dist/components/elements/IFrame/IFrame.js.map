{"version":3,"file":"IFrame.js","names":["React","DEFAULT_IFRAME_FEATURE_POLICY","DEFAULT_IFRAME_SANDBOX_POLICY","jsx","_jsx","IFrame","_ref","element","width","propWidth","hasWidth","scrolling","style","overflow","colorScheme","src","getNonEmptyString","srcDoc","undefined","srcdoc","allow","height","sandbox","title","value"],"sources":["../../../../src/components/elements/IFrame/IFrame.tsx"],"sourcesContent":["/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React, { CSSProperties, ReactElement } from \"react\"\n\nimport { IFrame as IFrameProto } from \"@streamlit/lib/src/proto\"\nimport {\n  DEFAULT_IFRAME_FEATURE_POLICY,\n  DEFAULT_IFRAME_SANDBOX_POLICY,\n} from \"@streamlit/lib/src/util/IFrameUtil\"\n\nexport interface IFrameProps {\n  element: IFrameProto\n  width: number\n}\n\nexport default function IFrame({\n  element,\n  width: propWidth,\n}: IFrameProps): ReactElement {\n  const width = element.hasWidth ? element.width : propWidth\n\n  // Handle scrollbar visibility. Chrome and other WebKit browsers still\n  // seem to use the deprecated \"scrolling\" attribute, whereas the standard\n  // says to use a CSS style.\n  let scrolling: string\n  let style: CSSProperties\n  if (element.scrolling) {\n    scrolling = \"auto\"\n    style = {}\n  } else {\n    scrolling = \"no\"\n    style = { overflow: \"hidden\" }\n  }\n\n  style.colorScheme = \"normal\"\n\n  // Either 'src' or 'srcDoc' will be set in our element. If 'src'\n  // is set, we're loading a remote URL in the iframe.\n  const src = getNonEmptyString(element.src)\n  const srcDoc = src != null ? undefined : getNonEmptyString(element.srcdoc)\n\n  return (\n    <iframe\n      data-testid=\"stIFrame\"\n      allow={DEFAULT_IFRAME_FEATURE_POLICY}\n      style={style}\n      src={src}\n      srcDoc={srcDoc}\n      width={width}\n      height={element.height}\n      scrolling={scrolling}\n      sandbox={DEFAULT_IFRAME_SANDBOX_POLICY}\n      title=\"st.iframe\"\n    />\n  )\n}\n\n/**\n * Return a string property from an element. If the string is\n * null or empty, return undefined instead.\n */\nfunction getNonEmptyString(\n  value: string | null | undefined\n): string | undefined {\n  return value == null || value === \"\" ? undefined : value\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,KAAK,MAAuC,OAAO;AAG1D,SACEC,6BAA6B,EAC7BC,6BAA6B;AACY,SAAAC,GAAA,IAAAC,IAAA;AAO3C,eAAe,SAASC,MAAMA,CAAAC,IAAA,EAGA;EAAA,IAHC;IAC7BC,OAAO;IACPC,KAAK,EAAEC;EACI,CAAC,GAAAH,IAAA;EACZ,MAAME,KAAK,GAAGD,OAAO,CAACG,QAAQ,GAAGH,OAAO,CAACC,KAAK,GAAGC,SAAS;;EAE1D;EACA;EACA;EACA,IAAIE,SAAiB;EACrB,IAAIC,KAAoB;EACxB,IAAIL,OAAO,CAACI,SAAS,EAAE;IACrBA,SAAS,GAAG,MAAM;IAClBC,KAAK,GAAG,CAAC,CAAC;EACZ,CAAC,MAAM;IACLD,SAAS,GAAG,IAAI;IAChBC,KAAK,GAAG;MAAEC,QAAQ,EAAE;IAAS,CAAC;EAChC;EAEAD,KAAK,CAACE,WAAW,GAAG,QAAQ;;EAE5B;EACA;EACA,MAAMC,GAAG,GAAGC,iBAAiB,CAACT,OAAO,CAACQ,GAAG,CAAC;EAC1C,MAAME,MAAM,GAAGF,GAAG,IAAI,IAAI,GAAGG,SAAS,GAAGF,iBAAiB,CAACT,OAAO,CAACY,MAAM,CAAC;EAE1E,oBACEf,IAAA;IACE,eAAY,UAAU;IACtBgB,KAAK,EAAEnB,6BAA8B;IACrCW,KAAK,EAAEA,KAAM;IACbG,GAAG,EAAEA,GAAI;IACTE,MAAM,EAAEA,MAAO;IACfT,KAAK,EAAEA,KAAM;IACba,MAAM,EAAEd,OAAO,CAACc,MAAO;IACvBV,SAAS,EAAEA,SAAU;IACrBW,OAAO,EAAEpB,6BAA8B;IACvCqB,KAAK,EAAC;EAAW,CAClB,CAAC;AAEN;;AAEA;AACA;AACA;AACA;AACA,SAASP,iBAAiBA,CACxBQ,KAAgC,EACZ;EACpB,OAAOA,KAAK,IAAI,IAAI,IAAIA,KAAK,KAAK,EAAE,GAAGN,SAAS,GAAGM,KAAK;AAC1D"}