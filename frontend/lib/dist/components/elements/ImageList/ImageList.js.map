{"version":3,"file":"ImageList.js","names":["React","withFullScreenWrapper","StyledCaption","StyledImageContainer","StyledImageList","jsx","_jsx","jsxs","_jsxs","WidthBehavior","ImageList","_ref","width","isFullScreen","element","height","endpoints","containerWidth","protoWidth","OriginalWidth","AutoWidth","undefined","ColumnWidth","Error","imgStyle","maxHeight","objectFit","maxWidth","className","style","children","imgs","map","iimage","idx","image","src","buildMediaURL","url","alt","toString","caption"],"sources":["../../../../src/components/elements/ImageList/ImageList.tsx"],"sourcesContent":["/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { ReactElement } from \"react\"\n\nimport {\n  IImage,\n  ImageList as ImageListProto,\n  Image as ImageProto,\n} from \"@streamlit/lib/src/proto\"\nimport { withFullScreenWrapper } from \"@streamlit/lib/src/components/shared/FullScreenWrapper\"\nimport { StreamlitEndpoints } from \"@streamlit/lib/src/StreamlitEndpoints\"\n\nimport {\n  StyledCaption,\n  StyledImageContainer,\n  StyledImageList,\n} from \"./styled-components\"\n\nexport interface ImageListProps {\n  endpoints: StreamlitEndpoints\n  width: number\n  isFullScreen: boolean\n  element: ImageListProto\n  height?: number\n}\n\nenum WidthBehavior {\n  OriginalWidth = -1,\n  ColumnWidth = -2,\n  AutoWidth = -3,\n}\n\n/**\n * Functional element for a horizontal list of images.\n */\nexport function ImageList({\n  width,\n  isFullScreen,\n  element,\n  height,\n  endpoints,\n}: Readonly<ImageListProps>): ReactElement {\n  // The width field in the proto sets the image width, but has special\n  // cases for -1, -2, and -3.\n  let containerWidth: number | undefined\n  const protoWidth = element.width\n\n  if (\n    protoWidth === WidthBehavior.OriginalWidth ||\n    protoWidth === WidthBehavior.AutoWidth\n  ) {\n    // Use the original image width.\n    containerWidth = undefined\n  } else if (protoWidth === WidthBehavior.ColumnWidth) {\n    // Use the column width\n    containerWidth = width\n  } else if (protoWidth > 0) {\n    // Set the image width explicitly.\n    containerWidth = protoWidth\n  } else {\n    throw Error(`Invalid image width: ${protoWidth}`)\n  }\n\n  const imgStyle: any = {}\n\n  if (height && isFullScreen) {\n    imgStyle.maxHeight = height\n    imgStyle.objectFit = \"contain\"\n  } else {\n    imgStyle.width = containerWidth\n\n    if (protoWidth === WidthBehavior.AutoWidth) {\n      // Cap the image width, so it doesn't exceed the column width\n      imgStyle.maxWidth = \"100%\"\n    }\n  }\n\n  return (\n    <StyledImageList\n      className=\"stImage\"\n      data-testid=\"stImage\"\n      style={{ width }}\n    >\n      {element.imgs.map((iimage: IImage, idx: number): ReactElement => {\n        const image = iimage as ImageProto\n        return (\n          <StyledImageContainer data-testid=\"stImageContainer\" key={idx}>\n            <img\n              style={imgStyle}\n              src={endpoints.buildMediaURL(image.url)}\n              alt={idx.toString()}\n            />\n            {image.caption && (\n              <StyledCaption data-testid=\"stImageCaption\" style={imgStyle}>\n                {` ${image.caption} `}\n              </StyledCaption>\n            )}\n          </StyledImageContainer>\n        )\n      })}\n    </StyledImageList>\n  )\n}\n\nexport default withFullScreenWrapper(ImageList)\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAOA,KAAK,MAAwB,OAAO;AAO3C,SAASC,qBAAqB;AAG9B,SACEC,aAAa,EACbC,oBAAoB,EACpBC,eAAe;AACW,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAAA,IAUvBC,aAAa;AAMlB;AACA;AACA;AAFA,WANKA,aAAa;EAAbA,aAAa,CAAbA,aAAa;EAAbA,aAAa,CAAbA,aAAa;EAAbA,aAAa,CAAbA,aAAa;AAAA,GAAbA,aAAa,KAAbA,aAAa;AASlB,OAAO,SAASC,SAASA,CAAAC,IAAA,EAMkB;EAAA,IANjB;IACxBC,KAAK;IACLC,YAAY;IACZC,OAAO;IACPC,MAAM;IACNC;EACwB,CAAC,GAAAL,IAAA;EACzB;EACA;EACA,IAAIM,cAAkC;EACtC,MAAMC,UAAU,GAAGJ,OAAO,CAACF,KAAK;EAEhC,IACEM,UAAU,KAAKT,aAAa,CAACU,aAAa,IAC1CD,UAAU,KAAKT,aAAa,CAACW,SAAS,EACtC;IACA;IACAH,cAAc,GAAGI,SAAS;EAC5B,CAAC,MAAM,IAAIH,UAAU,KAAKT,aAAa,CAACa,WAAW,EAAE;IACnD;IACAL,cAAc,GAAGL,KAAK;EACxB,CAAC,MAAM,IAAIM,UAAU,GAAG,CAAC,EAAE;IACzB;IACAD,cAAc,GAAGC,UAAU;EAC7B,CAAC,MAAM;IACL,MAAMK,KAAK,CAAE,wBAAuBL,UAAW,EAAC,CAAC;EACnD;EAEA,MAAMM,QAAa,GAAG,CAAC,CAAC;EAExB,IAAIT,MAAM,IAAIF,YAAY,EAAE;IAC1BW,QAAQ,CAACC,SAAS,GAAGV,MAAM;IAC3BS,QAAQ,CAACE,SAAS,GAAG,SAAS;EAChC,CAAC,MAAM;IACLF,QAAQ,CAACZ,KAAK,GAAGK,cAAc;IAE/B,IAAIC,UAAU,KAAKT,aAAa,CAACW,SAAS,EAAE;MAC1C;MACAI,QAAQ,CAACG,QAAQ,GAAG,MAAM;IAC5B;EACF;EAEA,oBACErB,IAAA,CAACF,eAAe;IACdwB,SAAS,EAAC,SAAS;IACnB,eAAY,SAAS;IACrBC,KAAK,EAAE;MAAEjB;IAAM,CAAE;IAAAkB,QAAA,EAEhBhB,OAAO,CAACiB,IAAI,CAACC,GAAG,CAAC,CAACC,MAAc,EAAEC,GAAW,KAAmB;MAC/D,MAAMC,KAAK,GAAGF,MAAoB;MAClC,oBACEzB,KAAA,CAACL,oBAAoB;QAAC,eAAY,kBAAkB;QAAA2B,QAAA,gBAClDxB,IAAA;UACEuB,KAAK,EAAEL,QAAS;UAChBY,GAAG,EAAEpB,SAAS,CAACqB,aAAa,CAACF,KAAK,CAACG,GAAG,CAAE;UACxCC,GAAG,EAAEL,GAAG,CAACM,QAAQ,CAAC;QAAE,CACrB,CAAC,EACDL,KAAK,CAACM,OAAO,iBACZnC,IAAA,CAACJ,aAAa;UAAC,eAAY,gBAAgB;UAAC2B,KAAK,EAAEL,QAAS;UAAAM,QAAA,EACxD,IAAGK,KAAK,CAACM,OAAQ;QAAE,CACR,CAChB;MAAA,GAVuDP,GAWpC,CAAC;IAE3B,CAAC;EAAC,CACa,CAAC;AAEtB;AAEA,eAAejC,qBAAqB,CAACS,SAAS,CAAC"}