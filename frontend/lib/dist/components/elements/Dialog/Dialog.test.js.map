{"version":3,"file":"Dialog.test.js","names":["React","fireEvent","screen","render","Block","BlockProto","Dialog","jsx","_jsx","getProps","elementProps","arguments","length","undefined","props","element","create","title","isOpen","dismissible","describe","it","children","dialogContainer","getByTestId","expect","toBeInTheDocument","getByText","toBeVisible","toThrow","click","getByLabelText"],"sources":["../../../../src/components/elements/Dialog/Dialog.test.tsx"],"sourcesContent":["/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\"\n\nimport { fireEvent, screen } from \"@testing-library/react\"\nimport \"@testing-library/jest-dom\"\n\nimport { render } from \"@streamlit/lib/src/test_util\"\n\nimport { Block as BlockProto } from \"@streamlit/lib/src/proto\"\n\nimport Dialog, { Props as DialogProps } from \"./Dialog\"\n\nconst getProps = (\n  elementProps: Partial<BlockProto.Dialog> = {},\n  props: Partial<DialogProps> = {}\n): DialogProps => ({\n  element: BlockProto.Dialog.create({\n    title: \"StreamlitDialog\",\n    isOpen: true,\n    dismissible: true,\n    ...elementProps,\n  }),\n  ...props,\n})\n\ndescribe(\"Dialog container\", () => {\n  it(\"renders without crashing\", () => {\n    const props = getProps()\n    render(\n      <Dialog {...props}>\n        <div>test</div>\n      </Dialog>\n    )\n\n    const dialogContainer = screen.getByTestId(\"stModal\")\n    expect(dialogContainer).toBeInTheDocument()\n  })\n\n  it(\"should render the text when open\", () => {\n    const props = getProps()\n    render(\n      <Dialog {...props}>\n        <div>test</div>\n      </Dialog>\n    )\n\n    expect(screen.getByText(\"test\")).toBeVisible()\n  })\n\n  it(\"should not render the text when closed\", () => {\n    const props = getProps({ isOpen: false })\n    render(\n      <Dialog {...props}>\n        <div>test</div>\n      </Dialog>\n    )\n\n    expect(() => screen.getByText(\"test\")).toThrow()\n  })\n\n  it(\"should close when dismissible\", () => {\n    const props = getProps()\n    render(\n      <Dialog {...props}>\n        <div>test</div>\n      </Dialog>\n    )\n\n    expect(screen.getByText(\"test\")).toBeVisible()\n    fireEvent.click(screen.getByLabelText(\"Close\"))\n    // dialog should be closed by clicking outside and, thus, the content should be gone\n    expect(() => screen.getByText(\"test\")).toThrow()\n  })\n\n  it(\"should not close when not dismissible\", () => {\n    const props = getProps({ dismissible: false })\n    render(\n      <Dialog {...props}>\n        <div>test</div>\n      </Dialog>\n    )\n\n    expect(screen.getByText(\"test\")).toBeVisible()\n    // close button - and hence dismiss - does not exist\n    expect(() => screen.getByLabelText(\"Close\")).toThrow()\n  })\n})\n"],"mappings":"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"}