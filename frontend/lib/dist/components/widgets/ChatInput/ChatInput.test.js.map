{"version":3,"file":"ChatInput.test.js","names":["React","fireEvent","screen","render","ChatInput","ChatInputProto","WidgetStateManager","jsx","_jsx","getProps","elementProps","arguments","length","undefined","widgetProps","element","create","id","placeholder","disabled","default","width","widgetMgr","sendRerunBackMsg","jest","fn","formsDataChanged","describe","afterEach","restoreAllMocks","it","props","chatInput","getByTestId","expect","toBeInTheDocument","toHaveAttribute","toHaveTextContent","change","target","value","maxChars","spy","spyOn","keyDown","key","toHaveBeenCalledWith","fromUi","toHaveFocus","chatButton","click","fragmentId","not","instructions","shiftKey","toHaveBeenCalled","ctrlKey","metaKey","setValue","toBeDisabled","button","getByRole"],"sources":["../../../../src/components/widgets/ChatInput/ChatInput.test.tsx"],"sourcesContent":["/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\"\n\nimport \"@testing-library/jest-dom\"\nimport { fireEvent, screen } from \"@testing-library/react\"\n\nimport { render } from \"@streamlit/lib/src/test_util\"\nimport { ChatInput as ChatInputProto } from \"@streamlit/lib/src/proto\"\nimport { WidgetStateManager } from \"@streamlit/lib/src/WidgetStateManager\"\n\nimport ChatInput, { Props } from \"./ChatInput\"\n\nconst getProps = (\n  elementProps: Partial<ChatInputProto> = {},\n  widgetProps: Partial<Props> = {}\n): Props => ({\n  element: ChatInputProto.create({\n    id: \"123\",\n    placeholder: \"Enter Text Here\",\n    disabled: false,\n    default: \"\",\n    ...elementProps,\n  }),\n  width: 300,\n  disabled: false,\n  widgetMgr: new WidgetStateManager({\n    sendRerunBackMsg: jest.fn(),\n    formsDataChanged: jest.fn(),\n  }),\n  ...widgetProps,\n})\n\ndescribe(\"ChatInput widget\", () => {\n  afterEach(() => {\n    jest.restoreAllMocks()\n  })\n\n  it(\"renders without crashing\", () => {\n    const props = getProps()\n    render(<ChatInput {...props} />)\n\n    const chatInput = screen.getByTestId(\"stChatInputTextArea\")\n    expect(chatInput).toBeInTheDocument()\n  })\n\n  it(\"shows a placeholder\", () => {\n    const props = getProps()\n    render(<ChatInput {...props} />)\n\n    const chatInput = screen.getByTestId(\"stChatInputTextArea\")\n    expect(chatInput).toHaveAttribute(\"placeholder\", props.element.placeholder)\n  })\n\n  it(\"sets the aria label to the placeholder\", () => {\n    const props = getProps()\n    render(<ChatInput {...props} />)\n\n    const chatInput = screen.getByTestId(\"stChatInputTextArea\")\n    expect(chatInput).toHaveAttribute(\"aria-label\", props.element.placeholder)\n  })\n\n  it(\"sets the value intially to the element default\", () => {\n    const props = getProps()\n    render(<ChatInput {...props} />)\n\n    const chatInput = screen.getByTestId(\"stChatInputTextArea\")\n    expect(chatInput).toHaveTextContent(props.element.default)\n  })\n\n  it(\"sets the value when values are typed in\", () => {\n    const props = getProps()\n    render(<ChatInput {...props} />)\n\n    const chatInput = screen.getByTestId(\"stChatInputTextArea\")\n    fireEvent.change(chatInput, { target: { value: \"Sample text\" } })\n    expect(chatInput).toHaveTextContent(\"Sample text\")\n  })\n\n  it(\"does not increase text value when maxChars is set\", () => {\n    const props = getProps({ maxChars: 10 })\n    render(<ChatInput {...props} />)\n\n    const chatInput = screen.getByTestId(\"stChatInputTextArea\")\n    fireEvent.change(chatInput, { target: { value: \"1234567890\" } })\n    expect(chatInput).toHaveTextContent(\"1234567890\")\n    fireEvent.change(chatInput, { target: { value: \"12345678901\" } })\n    expect(chatInput).toHaveTextContent(\"1234567890\")\n  })\n\n  it(\"sends and resets the value on enter\", () => {\n    const props = getProps()\n    const spy = jest.spyOn(props.widgetMgr, \"setStringTriggerValue\")\n    render(<ChatInput {...props} />)\n\n    const chatInput = screen.getByTestId(\"stChatInputTextArea\")\n    fireEvent.change(chatInput, { target: { value: \"1234567890\" } })\n    expect(chatInput).toHaveTextContent(\"1234567890\")\n    fireEvent.keyDown(chatInput, { key: \"Enter\" })\n    expect(spy).toHaveBeenCalledWith(\n      props.element,\n      \"1234567890\",\n      {\n        fromUi: true,\n      },\n      undefined\n    )\n    expect(chatInput).toHaveTextContent(\"\")\n  })\n\n  it(\"ensures chat input has focus on submit by keyboard\", () => {\n    const props = getProps()\n    render(<ChatInput {...props} />)\n\n    const chatInput = screen.getByTestId(\"stChatInputTextArea\")\n    fireEvent.change(chatInput, { target: { value: \"1234567890\" } })\n    expect(chatInput).toHaveTextContent(\"1234567890\")\n    fireEvent.keyDown(chatInput, { key: \"Enter\" })\n    expect(chatInput).toHaveFocus()\n  })\n\n  it(\"ensures chat input has focus on submit by button click\", () => {\n    const props = getProps()\n    render(<ChatInput {...props} />)\n\n    const chatInput = screen.getByTestId(\"stChatInputTextArea\")\n    const chatButton = screen.getByTestId(\"stChatInputSubmitButton\")\n    fireEvent.change(chatInput, { target: { value: \"1234567890\" } })\n    expect(chatInput).toHaveTextContent(\"1234567890\")\n    fireEvent.click(chatButton)\n    expect(chatInput).toHaveFocus()\n  })\n\n  it(\"can set fragmentId when sending value\", () => {\n    const props = getProps(undefined, { fragmentId: \"myFragmentId\" })\n    const spy = jest.spyOn(props.widgetMgr, \"setStringTriggerValue\")\n    render(<ChatInput {...props} />)\n\n    const chatInput = screen.getByTestId(\"stChatInputTextArea\")\n    fireEvent.change(chatInput, { target: { value: \"1234567890\" } })\n    fireEvent.keyDown(chatInput, { key: \"Enter\" })\n    expect(spy).toHaveBeenCalledWith(\n      props.element,\n      \"1234567890\",\n      {\n        fromUi: true,\n      },\n      \"myFragmentId\"\n    )\n  })\n\n  it(\"will not send an empty value on enter if empty\", () => {\n    const props = getProps()\n    const spy = jest.spyOn(props.widgetMgr, \"setStringTriggerValue\")\n    render(<ChatInput {...props} />)\n\n    const chatInput = screen.getByTestId(\"stChatInputTextArea\")\n    fireEvent.keyDown(chatInput, { key: \"Enter\" })\n    expect(spy).not.toHaveBeenCalledWith(props.element, \"\", {\n      fromUi: true,\n    })\n    expect(chatInput).toHaveTextContent(\"\")\n  })\n\n  it(\"will not show instructions when the text has changed\", () => {\n    const props = getProps()\n    render(<ChatInput {...props} />)\n\n    const chatInput = screen.getByTestId(\"stChatInputTextArea\")\n    const instructions = screen.getByTestId(\"InputInstructions\")\n    expect(instructions).toHaveTextContent(\"\")\n\n    fireEvent.change(chatInput, { target: { value: \"1234567890\" } })\n    expect(instructions).toHaveTextContent(\"\")\n  })\n\n  it(\"does not send/clear on shift + enter\", () => {\n    const props = getProps()\n    const spy = jest.spyOn(props.widgetMgr, \"setStringTriggerValue\")\n    render(<ChatInput {...props} />)\n    const chatInput = screen.getByTestId(\"stChatInputTextArea\")\n\n    fireEvent.change(chatInput, { target: { value: \"1234567890\" } })\n    expect(chatInput).toHaveTextContent(\"1234567890\")\n    fireEvent.keyDown(chatInput, { key: \"Enter\", shiftKey: true })\n    // We cannot test the value to be changed cause that is essentially a\n    // change event.\n    expect(chatInput).not.toHaveTextContent(\"\")\n    expect(spy).not.toHaveBeenCalled()\n  })\n\n  it(\"does not send/clear on ctrl + enter\", () => {\n    const props = getProps()\n    const spy = jest.spyOn(props.widgetMgr, \"setStringTriggerValue\")\n    render(<ChatInput {...props} />)\n\n    const chatInput = screen.getByTestId(\"stChatInputTextArea\")\n    fireEvent.change(chatInput, { target: { value: \"1234567890\" } })\n    expect(chatInput).toHaveTextContent(\"1234567890\")\n    fireEvent.keyDown(chatInput, { key: \"Enter\", ctrlKey: true })\n    // We cannot test the value to be changed cause that is essentially a\n    // change event.\n    expect(chatInput).not.toHaveTextContent(\"\")\n    expect(spy).not.toHaveBeenCalled()\n  })\n\n  it(\"does not send/clear on meta + enter\", () => {\n    const props = getProps()\n    const spy = jest.spyOn(props.widgetMgr, \"setStringTriggerValue\")\n    render(<ChatInput {...props} />)\n\n    const chatInput = screen.getByTestId(\"stChatInputTextArea\")\n    fireEvent.change(chatInput, { target: { value: \"1234567890\" } })\n    expect(chatInput).toHaveTextContent(\"1234567890\")\n    fireEvent.keyDown(chatInput, { key: \"Enter\", metaKey: true })\n    // We cannot test the value to be changed cause that is essentially a\n    // change event.\n    expect(chatInput).not.toHaveTextContent(\"\")\n    expect(spy).not.toHaveBeenCalled()\n  })\n\n  it(\"does sets the value if specified from protobuf to set it\", () => {\n    const props = getProps({ value: \"12345\", setValue: true })\n    render(<ChatInput {...props} />)\n\n    const chatInput = screen.getByTestId(\"stChatInputTextArea\")\n    expect(chatInput).toHaveTextContent(\"12345\")\n  })\n\n  it(\"does not set the value if protobuf does not specify to set it\", () => {\n    const props = getProps({ value: \"12345\", setValue: false })\n    render(<ChatInput {...props} />)\n\n    const chatInput = screen.getByTestId(\"stChatInputTextArea\")\n    expect(chatInput).toHaveTextContent(\"\")\n  })\n\n  it(\"disables the textarea and button\", () => {\n    const props = getProps({ disabled: true })\n    render(<ChatInput {...props} />)\n\n    const chatInput = screen.getByTestId(\"stChatInputTextArea\")\n    expect(chatInput).toBeDisabled()\n\n    const button = screen.getByRole(\"button\")\n    expect(button).toBeDisabled()\n  })\n\n  it(\"not disable the textarea by default\", () => {\n    const props = getProps()\n    render(<ChatInput {...props} />)\n\n    const chatInput = screen.getByTestId(\"stChatInputTextArea\")\n    expect(chatInput).not.toBeDisabled()\n\n    const button = screen.getByRole(\"button\")\n    expect(button).toBeDisabled()\n  })\n\n  it(\"disables the send button by default since there's no text\", () => {\n    const props = getProps()\n    render(<ChatInput {...props} />)\n\n    const button = screen.getByRole(\"button\")\n    expect(button).toBeDisabled()\n  })\n\n  it(\"enables the send button when text is set, disables it when removed\", () => {\n    const props = getProps()\n    render(<ChatInput {...props} />)\n\n    const chatInput = screen.getByTestId(\"stChatInputTextArea\")\n    fireEvent.change(chatInput, { target: { value: \"Sample text\" } })\n\n    const button = screen.getByRole(\"button\")\n    expect(button).not.toBeDisabled()\n\n    fireEvent.change(chatInput, { target: { value: \"\" } })\n    expect(button).toBeDisabled()\n  })\n})\n"],"mappings":"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"}