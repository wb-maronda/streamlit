{"version":3,"file":"FileDropzone.js","names":["React","Dropzone","BaseButton","BaseButtonKind","BaseButtonSize","StyledFileDropzoneSection","FileDropzoneInstructions","jsx","_jsx","jsxs","_jsxs","FileDropzone","_ref","onDrop","multiple","acceptedExtensions","maxSizeBytes","disabled","label","accept","length","undefined","maxSize","useFsAccessApi","children","_ref2","getRootProps","getInputProps","isDisabled","kind","SECONDARY","size","SMALL"],"sources":["../../../../src/components/widgets/FileUploader/FileDropzone.tsx"],"sourcesContent":["/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\"\n\nimport Dropzone, { FileRejection } from \"react-dropzone\"\n\nimport BaseButton, {\n  BaseButtonKind,\n  BaseButtonSize,\n} from \"@streamlit/lib/src/components/shared/BaseButton\"\n\nimport { StyledFileDropzoneSection } from \"./styled-components\"\nimport FileDropzoneInstructions from \"./FileDropzoneInstructions\"\n\nexport interface Props {\n  disabled: boolean\n  onDrop: (acceptedFiles: File[], rejectedFiles: FileRejection[]) => void\n  multiple: boolean\n  acceptedExtensions: string[]\n  maxSizeBytes: number\n  label: string\n}\n\nconst FileDropzone = ({\n  onDrop,\n  multiple,\n  acceptedExtensions,\n  maxSizeBytes,\n  disabled,\n  label,\n}: Props): React.ReactElement => (\n  <Dropzone\n    onDrop={onDrop}\n    multiple={multiple}\n    accept={acceptedExtensions.length ? acceptedExtensions : undefined}\n    maxSize={maxSizeBytes}\n    disabled={disabled}\n    // react-dropzone v12+ uses the File System Access API by default,\n    // causing the bug described in https://github.com/streamlit/streamlit/issues/6176.\n    useFsAccessApi={false}\n  >\n    {({ getRootProps, getInputProps }) => (\n      <StyledFileDropzoneSection\n        {...getRootProps()}\n        data-testid=\"stFileUploaderDropzone\"\n        isDisabled={disabled}\n        aria-label={label}\n      >\n        <input\n          data-testid=\"stFileUploaderDropzoneInput\"\n          {...getInputProps()}\n        />\n        <FileDropzoneInstructions\n          multiple={multiple}\n          acceptedExtensions={acceptedExtensions}\n          maxSizeBytes={maxSizeBytes}\n        />\n        <BaseButton\n          kind={BaseButtonKind.SECONDARY}\n          disabled={disabled}\n          size={BaseButtonSize.SMALL}\n        >\n          Browse files\n        </BaseButton>\n      </StyledFileDropzoneSection>\n    )}\n  </Dropzone>\n)\n\nexport default FileDropzone\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAOC,QAAQ,MAAyB,gBAAgB;AAExD,OAAOC,UAAU,IACfC,cAAc,EACdC,cAAc;AAGhB,SAASC,yBAAyB;AAClC,OAAOC,wBAAwB;AAAkC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAWjE,MAAMC,YAAY,GAAGC,IAAA;EAAA,IAAC;IACpBC,MAAM;IACNC,QAAQ;IACRC,kBAAkB;IAClBC,YAAY;IACZC,QAAQ;IACRC;EACK,CAAC,GAAAN,IAAA;EAAA,oBACNJ,IAAA,CAACP,QAAQ;IACPY,MAAM,EAAEA,MAAO;IACfC,QAAQ,EAAEA,QAAS;IACnBK,MAAM,EAAEJ,kBAAkB,CAACK,MAAM,GAAGL,kBAAkB,GAAGM,SAAU;IACnEC,OAAO,EAAEN,YAAa;IACtBC,QAAQ,EAAEA;IACV;IACA;IAAA;IACAM,cAAc,EAAE,KAAM;IAAAC,QAAA,EAErBC,KAAA;MAAA,IAAC;QAAEC,YAAY;QAAEC;MAAc,CAAC,GAAAF,KAAA;MAAA,oBAC/Bf,KAAA,CAACL,yBAAyB;QAAA,GACpBqB,YAAY,CAAC,CAAC;QAClB,eAAY,wBAAwB;QACpCE,UAAU,EAAEX,QAAS;QACrB,cAAYC,KAAM;QAAAM,QAAA,gBAElBhB,IAAA;UACE,eAAY,6BAA6B;UAAA,GACrCmB,aAAa,CAAC;QAAC,CACpB,CAAC,eACFnB,IAAA,CAACF,wBAAwB;UACvBQ,QAAQ,EAAEA,QAAS;UACnBC,kBAAkB,EAAEA,kBAAmB;UACvCC,YAAY,EAAEA;QAAa,CAC5B,CAAC,eACFR,IAAA,CAACN,UAAU;UACT2B,IAAI,EAAE1B,cAAc,CAAC2B,SAAU;UAC/Bb,QAAQ,EAAEA,QAAS;UACnBc,IAAI,EAAE3B,cAAc,CAAC4B,KAAM;UAAAR,QAAA,EAC5B;QAED,CAAY,CAAC;MAAA,CACY,CAAC;IAAA;EAC7B,CACO,CAAC;AAAA,CACZ;AAED,eAAeb,YAAY"}