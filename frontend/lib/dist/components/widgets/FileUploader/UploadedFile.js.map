{"version":3,"file":"UploadedFile.js","names":["React","Clear","Error","InsertDriveFile","BaseButton","BaseButtonKind","Icon","ProgressBar","Size","Small","FileSize","getSizeDisplay","StyledErrorMessage","StyledFileError","StyledFileErrorIcon","StyledFileIcon","StyledUploadedFile","StyledUploadedFileData","StyledUploadedFileName","jsx","_jsx","jsxs","_jsxs","UploadedFileStatus","_ref","fileInfo","status","type","value","progress","size","SMALL","overrides","Bar","style","marginLeft","marginTop","children","errorMessage","content","Byte","UploadedFile","_ref2","onDelete","className","title","name","onClick","id","kind","MINIMAL"],"sources":["../../../../src/components/widgets/FileUploader/UploadedFile.tsx"],"sourcesContent":["/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\"\n\nimport {\n  Clear,\n  Error,\n  InsertDriveFile,\n} from \"@emotion-icons/material-outlined\"\n\nimport BaseButton, {\n  BaseButtonKind,\n} from \"@streamlit/lib/src/components/shared/BaseButton\"\nimport Icon from \"@streamlit/lib/src/components/shared/Icon\"\nimport ProgressBar, {\n  Size,\n} from \"@streamlit/lib/src/components/shared/ProgressBar\"\nimport { Small } from \"@streamlit/lib/src/components/shared/TextElements\"\nimport { FileSize, getSizeDisplay } from \"@streamlit/lib/src/util/FileHelper\"\n\nimport {\n  StyledErrorMessage,\n  StyledFileError,\n  StyledFileErrorIcon,\n  StyledFileIcon,\n  StyledUploadedFile,\n  StyledUploadedFileData,\n  StyledUploadedFileName,\n} from \"./styled-components\"\nimport { UploadFileInfo } from \"./UploadFileInfo\"\n\nexport interface Props {\n  fileInfo: UploadFileInfo\n  onDelete: (id: number) => void\n}\n\nexport interface UploadedFileStatusProps {\n  fileInfo: UploadFileInfo\n}\n\nexport const UploadedFileStatus = ({\n  fileInfo,\n}: UploadedFileStatusProps): React.ReactElement | null => {\n  if (fileInfo.status.type === \"uploading\") {\n    return (\n      <ProgressBar\n        value={fileInfo.status.progress}\n        size={Size.SMALL}\n        overrides={{\n          Bar: {\n            style: {\n              marginLeft: 0,\n              marginTop: \"4px\",\n            },\n          },\n        }}\n      />\n    )\n  }\n\n  if (fileInfo.status.type === \"error\") {\n    return (\n      <StyledFileError>\n        <StyledErrorMessage data-testid=\"stFileUploaderFileErrorMessage\">\n          {fileInfo.status.errorMessage}\n        </StyledErrorMessage>\n        <StyledFileErrorIcon>\n          <Icon content={Error} size=\"lg\" />\n        </StyledFileErrorIcon>\n      </StyledFileError>\n    )\n  }\n\n  if (fileInfo.status.type === \"uploaded\") {\n    return <Small>{getSizeDisplay(fileInfo.size, FileSize.Byte)}</Small>\n  }\n\n  return null\n}\n\nconst UploadedFile = ({ fileInfo, onDelete }: Props): React.ReactElement => {\n  return (\n    <StyledUploadedFile\n      className=\"stFileUploaderFile\"\n      data-testid=\"stFileUploaderFile\"\n    >\n      <StyledFileIcon>\n        <Icon content={InsertDriveFile} size=\"twoXL\" />\n      </StyledFileIcon>\n      <StyledUploadedFileData className=\"stFileUploaderFileData\">\n        <StyledUploadedFileName\n          className=\"stFileUploaderFileName\"\n          data-testid=\"stFileUploaderFileName\"\n          title={fileInfo.name}\n        >\n          {fileInfo.name}\n        </StyledUploadedFileName>\n        <UploadedFileStatus fileInfo={fileInfo} />\n      </StyledUploadedFileData>\n      <div data-testid=\"stFileUploaderDeleteBtn\">\n        <BaseButton\n          onClick={() => onDelete(fileInfo.id)}\n          kind={BaseButtonKind.MINIMAL}\n        >\n          <Icon content={Clear} size=\"lg\" />\n        </BaseButton>\n      </div>\n    </StyledUploadedFile>\n  )\n}\n\nexport default UploadedFile\n"],"mappings":"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"}