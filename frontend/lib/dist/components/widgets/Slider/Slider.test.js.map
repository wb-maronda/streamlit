{"version":3,"file":"Slider.test.js","names":["React","screen","fireEvent","TimezoneMock","LabelVisibilityMessage","LabelVisibilityMessageProto","Slider","SliderProto","render","WidgetStateManager","mockTheme","jsx","_jsx","getProps","elementProps","arguments","length","undefined","props","element","create","id","label","format","default","min","max","step","options","width","disabled","widgetMgr","sendRerunBackMsg","jest","fn","formsDataChanged","theme","emotion","triggerChangeEvent","key","focus","keyDown","keyUp","describe","useFakeTimers","beforeEach","clearAllMocks","clearAllTimers","it","widgetLabel","queryByText","concat","expect","toBeInTheDocument","labelVisibility","value","LabelVisibilityOptions","HIDDEN","getByTestId","toHaveStyle","COLLAPSED","spyOn","runAllTimers","setDoubleArrayValue","toHaveBeenCalledWith","fromUi","fragmentId","toHaveTextContent","slider","getByRole","getAllByTestId","toHaveLength","toHaveAttribute","formId","setFormClearOnSubmit","toHaveBeenLastCalledWith","submitForm","sliders","getAllByRole","firstSlider","secondSlider","register","Date","getTimezoneOffset","toBeTruthy","DAYS_IN_MICROS","WEEK_IN_MICROS","dataType","DataType","DATETIME","toBeDefined","originalProps"],"sources":["../../../../src/components/widgets/Slider/Slider.test.tsx"],"sourcesContent":["/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\"\nimport \"@testing-library/jest-dom\"\nimport { screen, fireEvent } from \"@testing-library/react\"\n\nimport TimezoneMock from \"timezone-mock\"\n\nimport {\n  LabelVisibilityMessage as LabelVisibilityMessageProto,\n  Slider as SliderProto,\n} from \"@streamlit/lib/src/proto\"\nimport { render } from \"@streamlit/lib/src/test_util\"\nimport { WidgetStateManager } from \"@streamlit/lib/src/WidgetStateManager\"\nimport { mockTheme } from \"@streamlit/lib/src/mocks/mockTheme\"\nimport Slider, { Props } from \"./Slider\"\n\nconst getProps = (\n  elementProps: Partial<SliderProto> = {},\n  props: Partial<Props> = {}\n): Props => ({\n  element: SliderProto.create({\n    id: \"1\",\n    label: \"Label\",\n    format: \"%d\",\n    default: [5],\n    min: 0,\n    max: 10,\n    step: 1,\n    options: [],\n    ...elementProps,\n  }),\n  width: 600,\n  disabled: false,\n  widgetMgr: new WidgetStateManager({\n    sendRerunBackMsg: jest.fn(),\n    formsDataChanged: jest.fn(),\n  }),\n  theme: mockTheme.emotion,\n  ...props,\n})\n\nconst triggerChangeEvent = (\n  element: Element,\n  key: \"ArrowLeft\" | \"ArrowRight\"\n): void => {\n  fireEvent.focus(element)\n  fireEvent.keyDown(element, { key })\n  fireEvent.keyUp(element, { key })\n}\n\ndescribe(\"Slider widget\", () => {\n  jest.useFakeTimers()\n\n  beforeEach(() => {\n    jest.clearAllMocks()\n    jest.clearAllTimers()\n  })\n\n  it(\"shows a label\", () => {\n    const props = getProps()\n    render(<Slider {...props} />)\n\n    const widgetLabel = screen.queryByText(`${props.element.label}`)\n    expect(widgetLabel).toBeInTheDocument()\n  })\n\n  it(\"pass labelVisibility prop to StyledWidgetLabel correctly when hidden\", () => {\n    const props = getProps({\n      labelVisibility: {\n        value: LabelVisibilityMessageProto.LabelVisibilityOptions.HIDDEN,\n      },\n    })\n    render(<Slider {...props} />)\n    expect(screen.getByTestId(\"stWidgetLabel\")).toHaveStyle(\n      \"visibility: hidden\"\n    )\n  })\n\n  it(\"pass labelVisibility prop to StyledWidgetLabel correctly when collapsed\", () => {\n    const props = getProps({\n      labelVisibility: {\n        value: LabelVisibilityMessageProto.LabelVisibilityOptions.COLLAPSED,\n      },\n    })\n    render(<Slider {...props} />)\n    expect(screen.getByTestId(\"stWidgetLabel\")).toHaveStyle(\"display: none\")\n  })\n\n  it(\"sets widget value on mount\", () => {\n    const props = getProps()\n    jest.spyOn(props.widgetMgr, \"setDoubleArrayValue\")\n\n    render(<Slider {...props} />)\n\n    // We need to do this as we are using a debounce when the widget value is set\n    jest.runAllTimers()\n\n    expect(props.widgetMgr.setDoubleArrayValue).toHaveBeenCalledWith(\n      props.element,\n      [5],\n      { fromUi: false },\n      undefined\n    )\n  })\n\n  it(\"can pass fragmentId to setDoubleArrayValue\", () => {\n    const props = getProps(undefined, { fragmentId: \"myFragmentId\" })\n    jest.spyOn(props.widgetMgr, \"setDoubleArrayValue\")\n\n    render(<Slider {...props} />)\n\n    // We need to do this as we are using a debounce when the widget value is set\n    jest.runAllTimers()\n\n    expect(props.widgetMgr.setDoubleArrayValue).toHaveBeenCalledWith(\n      props.element,\n      [5],\n      { fromUi: false },\n      \"myFragmentId\"\n    )\n  })\n\n  it(\"renders tick bar with min and max\", () => {\n    const props = getProps()\n    render(<Slider {...props} />)\n\n    const min = screen.getByTestId(\"stTickBarMin\")\n    const max = screen.getByTestId(\"stTickBarMax\")\n    expect(min).toHaveTextContent(\"0\")\n    expect(max).toHaveTextContent(\"10\")\n  })\n\n  describe(\"Single value\", () => {\n    it(\"renders without crashing\", () => {\n      const props = getProps()\n      render(<Slider {...props} />)\n\n      const slider = screen.getByRole(\"slider\")\n      expect(slider).toBeInTheDocument()\n    })\n\n    it(\"displays a thumb value\", () => {\n      const props = getProps()\n      render(<Slider {...props} />)\n\n      expect(screen.getAllByTestId(\"stThumbValue\")).toHaveLength(1)\n    })\n\n    it(\"has the correct value\", () => {\n      const props = getProps()\n      render(<Slider {...props} />)\n\n      const slider = screen.getByRole(\"slider\")\n      expect(slider).toHaveAttribute(\n        \"aria-valuetext\",\n        `${props.element.default}`\n      )\n      expect(slider).toHaveAttribute(\"aria-valuemin\", `${props.element.min}`)\n      expect(slider).toHaveAttribute(\"aria-valuemax\", `${props.element.max}`)\n    })\n\n    it(\"handles value changes\", async () => {\n      const props = getProps()\n\n      render(<Slider {...props} />)\n      jest.spyOn(props.widgetMgr, \"setDoubleArrayValue\")\n\n      const slider = screen.getByRole(\"slider\")\n      triggerChangeEvent(slider, \"ArrowRight\")\n      // We need to do this as we are using a debounce when the widget value is set\n      jest.runAllTimers()\n\n      expect(props.widgetMgr.setDoubleArrayValue).toHaveBeenCalledWith(\n        props.element,\n        [6],\n        { fromUi: true },\n        undefined\n      )\n\n      expect(slider).toHaveAttribute(\"aria-valuenow\", \"6\")\n    })\n\n    it(\"resets its value when form is cleared\", async () => {\n      // Create a widget in a clearOnSubmit form\n      const props = getProps({ formId: \"form\" })\n      props.widgetMgr.setFormClearOnSubmit(\"form\", true)\n\n      render(<Slider {...props} />)\n\n      jest.spyOn(props.widgetMgr, \"setDoubleArrayValue\")\n\n      const slider = screen.getByRole(\"slider\")\n      triggerChangeEvent(slider, \"ArrowRight\")\n\n      jest.runAllTimers()\n\n      expect(props.widgetMgr.setDoubleArrayValue).toHaveBeenLastCalledWith(\n        props.element,\n        [6],\n        { fromUi: true },\n        undefined\n      )\n\n      expect(slider).toHaveAttribute(\"aria-valuenow\", \"6\")\n\n      // \"Submit\" the form\n      props.widgetMgr.submitForm(\"form\", undefined)\n\n      // Our widget should be reset, and the widgetMgr should be updated\n      expect(props.widgetMgr.setDoubleArrayValue).toHaveBeenLastCalledWith(\n        props.element,\n        props.element.default,\n        {\n          fromUi: true,\n        },\n        undefined\n      )\n\n      expect(slider).toHaveAttribute(\"aria-valuenow\", \"5\")\n    })\n  })\n\n  describe(\"Range value\", () => {\n    it(\"renders without crashing\", () => {\n      const props = getProps({ default: [1, 9] })\n      render(<Slider {...props} />)\n\n      const sliders = screen.getAllByRole(\"slider\")\n      expect(sliders).toHaveLength(2)\n    })\n\n    it(\"displays 2 thumb values\", () => {\n      const props = getProps({ default: [1, 9] })\n      render(<Slider {...props} />)\n\n      expect(screen.getAllByTestId(\"stThumbValue\")).toHaveLength(2)\n    })\n\n    it(\"has the correct value\", () => {\n      const props = getProps({ default: [1, 9] })\n      render(<Slider {...props} />)\n\n      const sliders = screen.getAllByRole(\"slider\")\n      // First slider - max is the current value of second slider\n      expect(sliders[0]).toHaveAttribute(\n        \"aria-valuetext\",\n        `${props.element.default[0]}`\n      )\n      expect(sliders[0]).toHaveAttribute(\n        \"aria-valuemin\",\n        `${props.element.min}`\n      )\n      expect(sliders[0]).toHaveAttribute(\n        \"aria-valuemax\",\n        `${props.element.default[1]}`\n      )\n\n      // Second slider - min is the current value of first slider\n      expect(sliders[1]).toHaveAttribute(\n        \"aria-valuetext\",\n        `${props.element.default[1]}`\n      )\n      expect(sliders[1]).toHaveAttribute(\n        \"aria-valuemin\",\n        `${props.element.default[0]}`\n      )\n      expect(sliders[1]).toHaveAttribute(\n        \"aria-valuemax\",\n        `${props.element.max}`\n      )\n    })\n\n    describe(\"value should be within bounds\", () => {\n      it(\"start > end\", () => {\n        const props = getProps({ default: [5, 5] })\n        render(<Slider {...props} />)\n\n        const firstSlider = screen.getAllByRole(\"slider\")[0]\n        triggerChangeEvent(firstSlider, \"ArrowRight\")\n\n        expect(screen.getAllByRole(\"slider\")[0]).toHaveAttribute(\n          \"aria-valuenow\",\n          \"5\"\n        )\n      })\n\n      it(\"start < min\", () => {\n        const props = getProps({ default: [0, 10] })\n        render(<Slider {...props} />)\n\n        const firstSlider = screen.getAllByRole(\"slider\")[0]\n        triggerChangeEvent(firstSlider, \"ArrowLeft\")\n\n        expect(firstSlider).toHaveAttribute(\"aria-valuenow\", \"0\")\n      })\n\n      it(\"start > max\", () => {\n        const props = getProps({ default: [10] })\n        render(<Slider {...props} />)\n\n        const slider = screen.getByRole(\"slider\")\n        triggerChangeEvent(slider, \"ArrowRight\")\n\n        expect(slider).toHaveAttribute(\"aria-valuenow\", \"10\")\n      })\n\n      it(\"end < min\", () => {\n        const props = getProps({ default: [0] })\n        render(<Slider {...props} />)\n\n        const slider = screen.getByRole(\"slider\")\n        triggerChangeEvent(slider, \"ArrowLeft\")\n\n        expect(slider).toHaveAttribute(\"aria-valuenow\", \"0\")\n      })\n\n      it(\"end > max\", () => {\n        const props = getProps({ default: [0, 10] })\n        render(<Slider {...props} />)\n\n        const secondSlider = screen.getAllByRole(\"slider\")[1]\n        triggerChangeEvent(secondSlider, \"ArrowRight\")\n\n        expect(secondSlider).toHaveAttribute(\"aria-valuenow\", \"10\")\n      })\n    })\n\n    it(\"handles value changes\", async () => {\n      const props = getProps({ default: [1, 9] })\n\n      render(<Slider {...props} />)\n      jest.spyOn(props.widgetMgr, \"setDoubleArrayValue\")\n\n      const sliders = screen.getAllByRole(\"slider\")\n      triggerChangeEvent(sliders[1], \"ArrowRight\")\n\n      // We need to do this as we are using a debounce when the widget value is set\n      jest.runAllTimers()\n\n      expect(props.widgetMgr.setDoubleArrayValue).toHaveBeenCalledWith(\n        props.element,\n        [1, 10],\n        {\n          fromUi: true,\n        },\n        undefined\n      )\n      expect(sliders[0]).toHaveAttribute(\"aria-valuenow\", \"1\")\n      expect(sliders[1]).toHaveAttribute(\"aria-valuenow\", \"10\")\n    })\n  })\n\n  describe(\"Datetime slider\", () => {\n    TimezoneMock.register(\"UTC\")\n\n    it(\"should be in UTC\", () => {\n      // We use a less idiomiatic Jest call, since getTimezoneOffset can return\n      // -0, and Object.is(-0, 0) is false: https://stackoverflow.com/a/59343755\n      expect(new Date().getTimezoneOffset() === 0).toBeTruthy()\n    })\n\n    it(\"formats min and max as dates\", () => {\n      const DAYS_IN_MICROS = 24 * 60 * 60 * 1000 * 1000\n      const WEEK_IN_MICROS = 7 * DAYS_IN_MICROS\n\n      const props = getProps({\n        // The default value should be divisible by step.\n        // Otherwise, we get a warning from `react-range`.\n        default: [0],\n        min: 0,\n        max: 4 * WEEK_IN_MICROS,\n        step: DAYS_IN_MICROS,\n        format: \"YYYY-MM-DD\",\n        dataType: SliderProto.DataType.DATETIME,\n      })\n      render(<Slider {...props} />)\n\n      const min = screen.getByTestId(\"stTickBarMin\")\n      const max = screen.getByTestId(\"stTickBarMax\")\n\n      expect(min).toHaveTextContent(\"1970-01-01\")\n      expect(max).toHaveTextContent(\"1970-01-29\")\n    })\n  })\n\n  describe(\"Options prop\", () => {\n    it(\"renders without crashing\", () => {\n      const props = getProps({\n        default: [1],\n        min: 0,\n        max: 6,\n        format: \"%s\",\n        options: [\n          \"red\",\n          \"orange\",\n          \"yellow\",\n          \"green\",\n          \"blue\",\n          \"indigo\",\n          \"violet\",\n        ],\n      })\n      render(<Slider {...props} />)\n\n      expect(screen.getByRole(\"slider\")).toBeDefined()\n    })\n\n    it(\"sets aria-valuetext correctly\", () => {\n      const props = getProps({\n        default: [1],\n        min: 0,\n        max: 6,\n        format: \"%s\",\n        options: [\n          \"red\",\n          \"orange\",\n          \"yellow\",\n          \"green\",\n          \"blue\",\n          \"indigo\",\n          \"violet\",\n        ],\n      })\n      render(<Slider {...props} />)\n      const slider = screen.getByRole(\"slider\")\n      expect(slider).toHaveAttribute(\"aria-valuetext\", \"orange\")\n    })\n\n    it(\"updates aria-valuetext correctly\", () => {\n      const originalProps = {\n        default: [1],\n        min: 0,\n        max: 6,\n        format: \"%s\",\n        options: [\n          \"red\",\n          \"orange\",\n          \"yellow\",\n          \"green\",\n          \"blue\",\n          \"indigo\",\n          \"violet\",\n        ],\n      }\n      const props = getProps(originalProps)\n      render(<Slider {...props} />)\n\n      const slider = screen.getByRole(\"slider\")\n      triggerChangeEvent(slider, \"ArrowRight\")\n\n      expect(slider).toHaveAttribute(\"aria-valuetext\", \"yellow\")\n    })\n\n    it(\"sets aria-valuetext correctly for a range\", () => {\n      const props = getProps({\n        default: [1, 4],\n        min: 0,\n        max: 6,\n        format: \"%s\",\n        options: [\n          \"red\",\n          \"orange\",\n          \"yellow\",\n          \"green\",\n          \"blue\",\n          \"indigo\",\n          \"violet\",\n        ],\n      })\n      render(<Slider {...props} />)\n      const sliders = screen.getAllByRole(\"slider\")\n      expect(sliders[0]).toHaveAttribute(\"aria-valuetext\", \"orange\")\n      expect(sliders[1]).toHaveAttribute(\"aria-valuetext\", \"blue\")\n    })\n  })\n})\n"],"mappings":"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"}