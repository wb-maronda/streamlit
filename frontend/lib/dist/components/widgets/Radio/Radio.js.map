{"version":3,"file":"Radio.js","names":["React","memo","useCallback","UIRadio","useBasicWidgetState","labelVisibilityProtoValueToEnum","jsx","_jsx","Radio","_ref","disabled","element","widgetMgr","width","fragmentId","value","setValueWSource","getStateFromWidgetMgr","getDefaultStateFromProto","getCurrStateFromProto","updateWidgetMgrState","onChange","selectedIndex","fromUi","horizontal","options","captions","label","labelVisibility","help","getIntValue","default","vws","setIntValue"],"sources":["../../../../src/components/widgets/Radio/Radio.tsx"],"sourcesContent":["/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { memo, ReactElement, useCallback } from \"react\"\n\nimport UIRadio from \"@streamlit/lib/src/components/shared/Radio\"\nimport { Radio as RadioProto } from \"@streamlit/lib/src/proto\"\nimport { WidgetStateManager } from \"@streamlit/lib/src/WidgetStateManager\"\nimport {\n  useBasicWidgetState,\n  ValueWSource,\n} from \"@streamlit/lib/src/useBasicWidgetState\"\nimport { labelVisibilityProtoValueToEnum } from \"@streamlit/lib/src/util/utils\"\n\nexport interface Props {\n  disabled: boolean\n  element: RadioProto\n  widgetMgr: WidgetStateManager\n  width: number\n  fragmentId?: string\n}\n\ntype RadioValue = number | null | undefined\n\nfunction Radio({\n  disabled,\n  element,\n  widgetMgr,\n  width,\n  fragmentId,\n}: Readonly<Props>): ReactElement {\n  const [value, setValueWSource] = useBasicWidgetState<RadioValue, RadioProto>(\n    {\n      getStateFromWidgetMgr,\n      getDefaultStateFromProto,\n      getCurrStateFromProto,\n      updateWidgetMgrState,\n      element,\n      widgetMgr,\n      fragmentId,\n    }\n  )\n\n  const onChange = useCallback(\n    (selectedIndex: number): void => {\n      setValueWSource({ value: selectedIndex, fromUi: true })\n    },\n    [setValueWSource]\n  )\n\n  const { horizontal, options, captions, label, labelVisibility, help } =\n    element\n\n  return (\n    <UIRadio\n      label={label}\n      onChange={onChange}\n      options={options}\n      captions={captions}\n      width={width}\n      disabled={disabled}\n      horizontal={horizontal}\n      labelVisibility={labelVisibilityProtoValueToEnum(labelVisibility?.value)}\n      value={value ?? null}\n      help={help}\n    />\n  )\n}\n\nfunction getStateFromWidgetMgr(\n  widgetMgr: WidgetStateManager,\n  element: RadioProto\n): RadioValue {\n  return widgetMgr.getIntValue(element)\n}\n\nfunction getDefaultStateFromProto(element: RadioProto): RadioValue {\n  return element.default ?? null\n}\n\nfunction getCurrStateFromProto(element: RadioProto): RadioValue {\n  return element.value ?? null\n}\n\nfunction updateWidgetMgrState(\n  element: RadioProto,\n  widgetMgr: WidgetStateManager,\n  vws: ValueWSource<RadioValue>,\n  fragmentId?: string\n): void {\n  widgetMgr.setIntValue(\n    element,\n    vws.value ?? null,\n    { fromUi: vws.fromUi },\n    fragmentId\n  )\n}\n\nexport default memo(Radio)\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAOA,KAAK,IAAIC,IAAI,EAAgBC,WAAW,QAAQ,OAAO;AAE9D,OAAOC,OAAO;AAGd,SACEC,mBAAmB;AAGrB,SAASC,+BAA+B;AAAuC,SAAAC,GAAA,IAAAC,IAAA;AAY/E,SAASC,KAAKA,CAAAC,IAAA,EAMoB;EAAA,IANnB;IACbC,QAAQ;IACRC,OAAO;IACPC,SAAS;IACTC,KAAK;IACLC;EACe,CAAC,GAAAL,IAAA;EAChB,MAAM,CAACM,KAAK,EAAEC,eAAe,CAAC,GAAGZ,mBAAmB,CAClD;IACEa,qBAAqB;IACrBC,wBAAwB;IACxBC,qBAAqB;IACrBC,oBAAoB;IACpBT,OAAO;IACPC,SAAS;IACTE;EACF,CACF,CAAC;EAED,MAAMO,QAAQ,GAAGnB,WAAW,CACzBoB,aAAqB,IAAW;IAC/BN,eAAe,CAAC;MAAED,KAAK,EAAEO,aAAa;MAAEC,MAAM,EAAE;IAAK,CAAC,CAAC;EACzD,CAAC,EACD,CAACP,eAAe,CAClB,CAAC;EAED,MAAM;IAAEQ,UAAU;IAAEC,OAAO;IAAEC,QAAQ;IAAEC,KAAK;IAAEC,eAAe;IAAEC;EAAK,CAAC,GACnElB,OAAO;EAET,oBACEJ,IAAA,CAACJ,OAAO;IACNwB,KAAK,EAAEA,KAAM;IACbN,QAAQ,EAAEA,QAAS;IACnBI,OAAO,EAAEA,OAAQ;IACjBC,QAAQ,EAAEA,QAAS;IACnBb,KAAK,EAAEA,KAAM;IACbH,QAAQ,EAAEA,QAAS;IACnBc,UAAU,EAAEA,UAAW;IACvBI,eAAe,EAAEvB,+BAA+B,CAACuB,eAAe,EAAEb,KAAK,CAAE;IACzEA,KAAK,EAAEA,KAAK,IAAI,IAAK;IACrBc,IAAI,EAAEA;EAAK,CACZ,CAAC;AAEN;AAEA,SAASZ,qBAAqBA,CAC5BL,SAA6B,EAC7BD,OAAmB,EACP;EACZ,OAAOC,SAAS,CAACkB,WAAW,CAACnB,OAAO,CAAC;AACvC;AAEA,SAASO,wBAAwBA,CAACP,OAAmB,EAAc;EACjE,OAAOA,OAAO,CAACoB,OAAO,IAAI,IAAI;AAChC;AAEA,SAASZ,qBAAqBA,CAACR,OAAmB,EAAc;EAC9D,OAAOA,OAAO,CAACI,KAAK,IAAI,IAAI;AAC9B;AAEA,SAASK,oBAAoBA,CAC3BT,OAAmB,EACnBC,SAA6B,EAC7BoB,GAA6B,EAC7BlB,UAAmB,EACb;EACNF,SAAS,CAACqB,WAAW,CACnBtB,OAAO,EACPqB,GAAG,CAACjB,KAAK,IAAI,IAAI,EACjB;IAAEQ,MAAM,EAAES,GAAG,CAACT;EAAO,CAAC,EACtBT,UACF,CAAC;AACH;AAEA,4BAAeb,IAAI,CAACO,KAAK,CAAC"}