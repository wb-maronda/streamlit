{"version":3,"file":"FormSubmitButton.js","names":["React","useEffect","BaseButton","BaseButtonTooltip","BaseButtonKind","BaseButtonSize","StreamlitMarkdown","jsx","_jsx","FormSubmitButton","props","disabled","element","widgetMgr","hasInProgressUpload","width","fragmentId","formId","style","kind","type","PRIMARY_FORM_SUBMIT","SECONDARY_FORM_SUBMIT","addSubmitButton","removeSubmitButton","fluidWidth","help","className","children","size","SMALL","useContainerWidth","onClick","submitForm","source","label","allowHTML","isLabel","largerLabel","disableLinks"],"sources":["../../../../src/components/widgets/Form/FormSubmitButton.tsx"],"sourcesContent":["/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { ReactElement, useEffect } from \"react\"\nimport { Button as ButtonProto } from \"@streamlit/lib/src/proto\"\nimport BaseButton, {\n  BaseButtonTooltip,\n  BaseButtonKind,\n  BaseButtonSize,\n} from \"@streamlit/lib/src/components/shared/BaseButton\"\nimport { WidgetStateManager } from \"@streamlit/lib/src/WidgetStateManager\"\nimport StreamlitMarkdown from \"@streamlit/lib/src/components/shared/StreamlitMarkdown\"\n\nexport interface Props {\n  disabled: boolean\n  element: ButtonProto\n  hasInProgressUpload: boolean\n  widgetMgr: WidgetStateManager\n  width: number\n  fragmentId?: string\n}\n\nexport function FormSubmitButton(props: Props): ReactElement {\n  const {\n    disabled,\n    element,\n    widgetMgr,\n    hasInProgressUpload,\n    width,\n    fragmentId,\n  } = props\n  const { formId } = element\n  const style = { width }\n  const kind =\n    element.type === \"primary\"\n      ? BaseButtonKind.PRIMARY_FORM_SUBMIT\n      : BaseButtonKind.SECONDARY_FORM_SUBMIT\n\n  useEffect(() => {\n    widgetMgr.addSubmitButton(formId, element)\n    return () => widgetMgr.removeSubmitButton(formId, element)\n  }, [widgetMgr, formId, element])\n\n  // When useContainerWidth true & has help tooltip,\n  // we need to pass the container width down to the button\n  const fluidWidth = element.help ? width : true\n\n  return (\n    <div\n      className=\"row-widget stButton\"\n      data-testid=\"stFormSubmitButton\"\n      style={style}\n    >\n      <BaseButtonTooltip help={element.help}>\n        <BaseButton\n          kind={kind}\n          size={BaseButtonSize.SMALL}\n          fluidWidth={element.useContainerWidth ? fluidWidth : false}\n          disabled={disabled || hasInProgressUpload}\n          onClick={() => {\n            widgetMgr.submitForm(element.formId, fragmentId, element)\n          }}\n        >\n          <StreamlitMarkdown\n            source={element.label}\n            allowHTML={false}\n            isLabel\n            largerLabel\n            disableLinks\n          />\n        </BaseButton>\n      </BaseButtonTooltip>\n    </div>\n  )\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAOA,KAAK,IAAkBC,SAAS,QAAQ,OAAO;AAEtD,OAAOC,UAAU,IACfC,iBAAiB,EACjBC,cAAc,EACdC,cAAc;AAGhB,OAAOC,iBAAiB;AAA8D,SAAAC,GAAA,IAAAC,IAAA;AAWtF,OAAO,SAASC,gBAAgBA,CAACC,KAAY,EAAgB;EAC3D,MAAM;IACJC,QAAQ;IACRC,OAAO;IACPC,SAAS;IACTC,mBAAmB;IACnBC,KAAK;IACLC;EACF,CAAC,GAAGN,KAAK;EACT,MAAM;IAAEO;EAAO,CAAC,GAAGL,OAAO;EAC1B,MAAMM,KAAK,GAAG;IAAEH;EAAM,CAAC;EACvB,MAAMI,IAAI,GACRP,OAAO,CAACQ,IAAI,KAAK,SAAS,GACtBhB,cAAc,CAACiB,mBAAmB,GAClCjB,cAAc,CAACkB,qBAAqB;EAE1CrB,SAAS,CAAC,MAAM;IACdY,SAAS,CAACU,eAAe,CAACN,MAAM,EAAEL,OAAO,CAAC;IAC1C,OAAO,MAAMC,SAAS,CAACW,kBAAkB,CAACP,MAAM,EAAEL,OAAO,CAAC;EAC5D,CAAC,EAAE,CAACC,SAAS,EAAEI,MAAM,EAAEL,OAAO,CAAC,CAAC;;EAEhC;EACA;EACA,MAAMa,UAAU,GAAGb,OAAO,CAACc,IAAI,GAAGX,KAAK,GAAG,IAAI;EAE9C,oBACEP,IAAA;IACEmB,SAAS,EAAC,qBAAqB;IAC/B,eAAY,oBAAoB;IAChCT,KAAK,EAAEA,KAAM;IAAAU,QAAA,eAEbpB,IAAA,CAACL,iBAAiB;MAACuB,IAAI,EAAEd,OAAO,CAACc,IAAK;MAAAE,QAAA,eACpCpB,IAAA,CAACN,UAAU;QACTiB,IAAI,EAAEA,IAAK;QACXU,IAAI,EAAExB,cAAc,CAACyB,KAAM;QAC3BL,UAAU,EAAEb,OAAO,CAACmB,iBAAiB,GAAGN,UAAU,GAAG,KAAM;QAC3Dd,QAAQ,EAAEA,QAAQ,IAAIG,mBAAoB;QAC1CkB,OAAO,EAAEA,CAAA,KAAM;UACbnB,SAAS,CAACoB,UAAU,CAACrB,OAAO,CAACK,MAAM,EAAED,UAAU,EAAEJ,OAAO,CAAC;QAC3D,CAAE;QAAAgB,QAAA,eAEFpB,IAAA,CAACF,iBAAiB;UAChB4B,MAAM,EAAEtB,OAAO,CAACuB,KAAM;UACtBC,SAAS,EAAE,KAAM;UACjBC,OAAO;UACPC,WAAW;UACXC,YAAY;QAAA,CACb;MAAC,CACQ;IAAC,CACI;EAAC,CACjB,CAAC;AAEV"}