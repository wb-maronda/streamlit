{"version":3,"file":"TextArea.test.js","names":["React","fireEvent","screen","userEvent","render","LabelVisibilityMessage","LabelVisibilityMessageProto","TextArea","TextAreaProto","WidgetStateManager","mockTheme","jsx","_jsx","getProps","elementProps","arguments","length","undefined","widgetProps","element","create","id","label","default","placeholder","width","disabled","theme","emotion","widgetMgr","sendRerunBackMsg","jest","fn","formsDataChanged","describe","it","props","textArea","getByRole","expect","toBeInTheDocument","spyOn","setStringValue","toHaveBeenCalledWith","fromUi","fragmentId","getByTestId","toHaveClass","toHaveStyle","widgetLabel","getByText","labelVisibility","value","LabelVisibilityOptions","HIDDEN","COLLAPSED","toHaveValue","toHaveAttribute","toBeDisabled","change","target","blur","keyDown","ctrlKey","key","height","maxChars","toHaveBeenLastCalledWith","queryByTestId","not","formId","setFormSubmitBehaviors","submitForm","user","setup","click","keyboard","toHaveTextContent","mockReturnValue","toHaveFocus","Object","defineProperty","navigator","writable","metaKey","textAreaLabel1","forId1","getAttribute","textAreaLabel2","forId2","toBe"],"sources":["../../../../src/components/widgets/TextArea/TextArea.test.tsx"],"sourcesContent":["/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\"\n\nimport \"@testing-library/jest-dom\"\nimport { fireEvent, screen } from \"@testing-library/react\"\nimport userEvent from \"@testing-library/user-event\"\n\nimport { render } from \"@streamlit/lib/src/test_util\"\nimport {\n  LabelVisibilityMessage as LabelVisibilityMessageProto,\n  TextArea as TextAreaProto,\n} from \"@streamlit/lib/src/proto\"\nimport { WidgetStateManager } from \"@streamlit/lib/src/WidgetStateManager\"\nimport { mockTheme } from \"@streamlit/lib/src/mocks/mockTheme\"\n\nimport TextArea, { Props } from \"./TextArea\"\n\nconst getProps = (\n  elementProps: Partial<TextAreaProto> = {},\n  widgetProps: Partial<Props> = {}\n): Props => ({\n  element: TextAreaProto.create({\n    id: \"1\",\n    label: \"Label\",\n    default: \"\",\n    placeholder: \"Placeholder\",\n    ...elementProps,\n  }),\n  width: 300,\n  disabled: false,\n  theme: mockTheme.emotion,\n  widgetMgr: new WidgetStateManager({\n    sendRerunBackMsg: jest.fn(),\n    formsDataChanged: jest.fn(),\n  }),\n\n  ...widgetProps,\n})\n\ndescribe(\"TextArea widget\", () => {\n  it(\"renders without crashing\", () => {\n    const props = getProps()\n    render(<TextArea {...props} />)\n\n    const textArea = screen.getByRole(\"textbox\")\n    expect(textArea).toBeInTheDocument()\n  })\n\n  it(\"sets widget value on mount\", () => {\n    const props = getProps()\n    jest.spyOn(props.widgetMgr, \"setStringValue\")\n    render(<TextArea {...props} />)\n\n    expect(props.widgetMgr.setStringValue).toHaveBeenCalledWith(\n      props.element,\n      props.element.default,\n      { fromUi: false },\n      undefined\n    )\n  })\n\n  it(\"can pass fragmentId to setStringValue\", () => {\n    const props = getProps(undefined, { fragmentId: \"myFragmentId\" })\n    jest.spyOn(props.widgetMgr, \"setStringValue\")\n    render(<TextArea {...props} />)\n\n    expect(props.widgetMgr.setStringValue).toHaveBeenCalledWith(\n      props.element,\n      props.element.default,\n      { fromUi: false },\n      \"myFragmentId\"\n    )\n  })\n\n  it(\"has correct className and style\", () => {\n    const props = getProps()\n    render(<TextArea {...props} />)\n    const textArea = screen.getByTestId(\"stTextArea\")\n\n    expect(textArea).toHaveClass(\"stTextArea\")\n    expect(textArea).toHaveStyle(`width: ${props.width}px`)\n  })\n\n  it(\"renders a label\", () => {\n    const props = getProps()\n    render(<TextArea {...props} />)\n\n    const widgetLabel = screen.getByText(`${props.element.label}`)\n    expect(widgetLabel).toBeInTheDocument()\n  })\n\n  it(\"pass labelVisibility prop to StyledWidgetLabel correctly when hidden\", () => {\n    const props = getProps({\n      labelVisibility: {\n        value: LabelVisibilityMessageProto.LabelVisibilityOptions.HIDDEN,\n      },\n    })\n    render(<TextArea {...props} />)\n    expect(screen.getByTestId(\"stWidgetLabel\")).toHaveStyle(\n      \"visibility: hidden\"\n    )\n  })\n\n  it(\"pass labelVisibility prop to StyledWidgetLabel correctly when collapsed\", () => {\n    const props = getProps({\n      labelVisibility: {\n        value: LabelVisibilityMessageProto.LabelVisibilityOptions.COLLAPSED,\n      },\n    })\n    render(<TextArea {...props} />)\n    expect(screen.getByTestId(\"stWidgetLabel\")).toHaveStyle(\"display: none\")\n  })\n\n  it(\"has a default value\", () => {\n    const props = getProps()\n    render(<TextArea {...props} />)\n\n    const textArea = screen.getByRole(\"textbox\")\n    expect(textArea).toHaveValue(props.element.default)\n  })\n\n  it(\"renders a placeholder\", () => {\n    const props = getProps()\n    render(<TextArea {...props} />)\n\n    const textArea = screen.getByRole(\"textbox\")\n    expect(textArea).toHaveAttribute(\"placeholder\", props.element.placeholder)\n  })\n\n  it(\"can be disabled\", () => {\n    const props = getProps({}, { disabled: true })\n    render(<TextArea {...props} />)\n\n    const textArea = screen.getByRole(\"textbox\")\n    expect(textArea).toBeDisabled()\n  })\n\n  it(\"sets widget value on blur\", () => {\n    const props = getProps()\n    jest.spyOn(props.widgetMgr, \"setStringValue\")\n    render(<TextArea {...props} />)\n\n    const textArea = screen.getByRole(\"textbox\")\n    fireEvent.change(textArea, { target: { value: \"testing\" } })\n    fireEvent.blur(textArea)\n\n    expect(props.widgetMgr.setStringValue).toHaveBeenCalledWith(\n      props.element,\n      \"testing\",\n      {\n        fromUi: true,\n      },\n      undefined\n    )\n  })\n\n  it(\"sets widget value when ctrl+enter is pressed\", () => {\n    const props = getProps()\n    jest.spyOn(props.widgetMgr, \"setStringValue\")\n    render(<TextArea {...props} />)\n\n    const textArea = screen.getByRole(\"textbox\")\n\n    fireEvent.change(textArea, { target: { value: \"testing\" } })\n    fireEvent.keyDown(textArea, { ctrlKey: true, key: \"Enter\" })\n\n    expect(props.widgetMgr.setStringValue).toHaveBeenCalledWith(\n      props.element,\n      \"testing\",\n      {\n        fromUi: true,\n      },\n      undefined\n    )\n  })\n\n  it(\"limits the length if max_chars is passed\", () => {\n    const props = getProps({\n      height: 500,\n      maxChars: 10,\n    })\n    render(<TextArea {...props} />)\n\n    const textArea = screen.getByRole(\"textbox\")\n\n    fireEvent.change(textArea, { target: { value: \"0123456789\" } })\n    expect(textArea).toHaveValue(\"0123456789\")\n\n    fireEvent.change(textArea, { target: { value: \"0123456789a\" } })\n    expect(textArea).toHaveValue(\"0123456789\")\n  })\n\n  it(\"does not update widget value on text changes when outside of a form\", () => {\n    const props = getProps()\n    jest.spyOn(props.widgetMgr, \"setStringValue\")\n    render(<TextArea {...props} />)\n\n    const textArea = screen.getByRole(\"textbox\")\n    fireEvent.change(textArea, { target: { value: \"TEST\" } })\n\n    // Check that the last call was in componentDidMount.\n    expect(props.widgetMgr.setStringValue).toHaveBeenLastCalledWith(\n      props.element,\n      props.element.default,\n      {\n        fromUi: false,\n      },\n      undefined\n    )\n  })\n\n  it(\"hides Please enter to apply text when width is smaller than 180px\", () => {\n    const props = getProps({}, { width: 100 })\n    render(<TextArea {...props} />)\n    expect(screen.queryByTestId(\"InputInstructions\")).not.toBeInTheDocument()\n  })\n\n  it(\"shows Please enter to apply text when width is bigger than 180px\", () => {\n    const props = getProps({}, { width: 190 })\n    render(<TextArea {...props} />)\n    expect(screen.getByTestId(\"InputInstructions\")).toBeInTheDocument()\n  })\n\n  it(\"resets its value when form is cleared\", () => {\n    // Create a widget in a clearOnSubmit form\n    const props = getProps({ formId: \"form\" })\n    props.widgetMgr.setFormSubmitBehaviors(\"form\", true)\n\n    jest.spyOn(props.widgetMgr, \"setStringValue\")\n\n    render(<TextArea {...props} />)\n\n    // Change the widget value\n    const textArea = screen.getByRole(\"textbox\")\n    fireEvent.change(textArea, { target: { value: \"TEST\" } })\n    expect(textArea).toHaveValue(\"TEST\")\n\n    // \"Submit\" the form\n    props.widgetMgr.submitForm(\"form\", undefined)\n\n    // Our widget should be reset, and the widgetMgr should be updated\n    expect(textArea).toHaveValue(props.element.default)\n    expect(props.widgetMgr.setStringValue).toHaveBeenLastCalledWith(\n      props.element,\n      props.element.default,\n      {\n        fromUi: true,\n      },\n      undefined\n    )\n  })\n\n  it(\"shows Input Instructions on dirty state when not in form (by default)\", async () => {\n    const user = userEvent.setup()\n    const props = getProps()\n    render(<TextArea {...props} />)\n\n    // Trigger dirty state\n    const textArea = screen.getByRole(\"textbox\")\n    await user.click(textArea)\n    await user.keyboard(\"TEST\")\n\n    expect(screen.getByTestId(\"InputInstructions\")).toHaveTextContent(\n      \"Press âŒ˜+Enter to apply\"\n    )\n  })\n\n  it(\"shows Input Instructions if in form that allows submit on enter\", async () => {\n    const user = userEvent.setup()\n    const props = getProps({ formId: \"form\" })\n    jest.spyOn(props.widgetMgr, \"allowFormEnterToSubmit\").mockReturnValue(true)\n\n    render(<TextArea {...props} />)\n\n    // Trigger dirty state\n    const textArea = screen.getByRole(\"textbox\")\n    await user.click(textArea)\n    await user.keyboard(\"TEST\")\n\n    expect(screen.getByTestId(\"InputInstructions\")).toHaveTextContent(\n      \"Press âŒ˜+Enter to submit form\"\n    )\n  })\n\n  it(\"hides Input Instructions if in form that doesn't allow submit on enter\", async () => {\n    const user = userEvent.setup()\n    const props = getProps({ formId: \"form\" })\n    jest\n      .spyOn(props.widgetMgr, \"allowFormEnterToSubmit\")\n      .mockReturnValue(false)\n\n    render(<TextArea {...props} />)\n\n    // Trigger dirty state\n    const textArea = screen.getByRole(\"textbox\")\n    await user.click(textArea)\n    await user.keyboard(\"TEST\")\n\n    expect(screen.queryByTestId(\"InputInstructions\")).toHaveTextContent(\"\")\n  })\n\n  it(\"focuses input when clicking label\", async () => {\n    const props = getProps()\n    render(<TextArea {...props} />)\n    const textArea = screen.getByRole(\"textbox\")\n    expect(textArea).not.toHaveFocus()\n    const label = screen.getByText(props.element.label)\n    const user = userEvent.setup()\n    await user.click(label)\n    expect(textArea).toHaveFocus()\n  })\n\n  describe(\"on mac\", () => {\n    Object.defineProperty(navigator, \"platform\", {\n      value: \"MacIntel\",\n      writable: true,\n    })\n\n    it(\"sets widget value when âŒ˜+enter is pressed\", () => {\n      const props = getProps()\n      jest.spyOn(props.widgetMgr, \"setStringValue\")\n      render(<TextArea {...props} />)\n      const textArea = screen.getByRole(\"textbox\")\n      fireEvent.change(textArea, { target: { value: \"testing\" } })\n      fireEvent.keyDown(textArea, { metaKey: true, key: \"Enter\" })\n\n      expect(props.widgetMgr.setStringValue).toHaveBeenCalledWith(\n        props.element,\n        \"testing\",\n        {\n          fromUi: true,\n        },\n        undefined\n      )\n    })\n  })\n\n  it(\"ensures id doesn't change on rerender\", () => {\n    const props = getProps()\n    render(<TextArea {...props} />)\n\n    const textAreaLabel1 = screen.getByTestId(\"stWidgetLabel\")\n    const forId1 = textAreaLabel1.getAttribute(\"for\")\n\n    // Make some change to cause a rerender\n    const textArea = screen.getByRole(\"textbox\")\n    fireEvent.change(textArea, { target: { value: \"testing\" } })\n    fireEvent.blur(textArea)\n\n    const textAreaLabel2 = screen.getByTestId(\"stWidgetLabel\")\n    const forId2 = textAreaLabel2.getAttribute(\"for\")\n\n    expect(forId2).toBe(forId1)\n  })\n})\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAO,2BAA2B;AAClC,SAASC,SAAS,EAAEC,MAAM,QAAQ,wBAAwB;AAC1D,OAAOC,SAAS,MAAM,6BAA6B;AAEnD,SAASC,MAAM;AACf,SACEC,sBAAsB,IAAIC,2BAA2B,EACrDC,QAAQ,IAAIC,aAAa;AAE3B,SAASC,kBAAkB;AAC3B,SAASC,SAAS;AAElB,OAAOH,QAAQ;AAA6B,SAAAI,GAAA,IAAAC,IAAA;AAE5C,MAAMC,QAAQ,GAAG,SAAAA,CAAA;EAAA,IACfC,YAAoC,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EAAA,IACzCG,WAA2B,GAAAH,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EAAA,OACrB;IACXI,OAAO,EAAEX,aAAa,CAACY,MAAM,CAAC;MAC5BC,EAAE,EAAE,GAAG;MACPC,KAAK,EAAE,OAAO;MACdC,OAAO,EAAE,EAAE;MACXC,WAAW,EAAE,aAAa;MAC1B,GAAGV;IACL,CAAC,CAAC;IACFW,KAAK,EAAE,GAAG;IACVC,QAAQ,EAAE,KAAK;IACfC,KAAK,EAAEjB,SAAS,CAACkB,OAAO;IACxBC,SAAS,EAAE,IAAIpB,kBAAkB,CAAC;MAChCqB,gBAAgB,EAAEC,IAAI,CAACC,EAAE,CAAC,CAAC;MAC3BC,gBAAgB,EAAEF,IAAI,CAACC,EAAE,CAAC;IAC5B,CAAC,CAAC;IAEF,GAAGd;EACL,CAAC;AAAA,CAAC;AAEFgB,QAAQ,CAAC,iBAAiB,EAAE,MAAM;EAChCC,EAAE,CAAC,0BAA0B,EAAE,MAAM;IACnC,MAAMC,KAAK,GAAGvB,QAAQ,CAAC,CAAC;IACxBT,MAAM,eAACQ,IAAA,CAACL,QAAQ;MAAA,GAAK6B;IAAK,CAAG,CAAC,CAAC;IAE/B,MAAMC,QAAQ,GAAGnC,MAAM,CAACoC,SAAS,CAAC,SAAS,CAAC;IAC5CC,MAAM,CAACF,QAAQ,CAAC,CAACG,iBAAiB,CAAC,CAAC;EACtC,CAAC,CAAC;EAEFL,EAAE,CAAC,4BAA4B,EAAE,MAAM;IACrC,MAAMC,KAAK,GAAGvB,QAAQ,CAAC,CAAC;IACxBkB,IAAI,CAACU,KAAK,CAACL,KAAK,CAACP,SAAS,EAAE,gBAAgB,CAAC;IAC7CzB,MAAM,eAACQ,IAAA,CAACL,QAAQ;MAAA,GAAK6B;IAAK,CAAG,CAAC,CAAC;IAE/BG,MAAM,CAACH,KAAK,CAACP,SAAS,CAACa,cAAc,CAAC,CAACC,oBAAoB,CACzDP,KAAK,CAACjB,OAAO,EACbiB,KAAK,CAACjB,OAAO,CAACI,OAAO,EACrB;MAAEqB,MAAM,EAAE;IAAM,CAAC,EACjB3B,SACF,CAAC;EACH,CAAC,CAAC;EAEFkB,EAAE,CAAC,uCAAuC,EAAE,MAAM;IAChD,MAAMC,KAAK,GAAGvB,QAAQ,CAACI,SAAS,EAAE;MAAE4B,UAAU,EAAE;IAAe,CAAC,CAAC;IACjEd,IAAI,CAACU,KAAK,CAACL,KAAK,CAACP,SAAS,EAAE,gBAAgB,CAAC;IAC7CzB,MAAM,eAACQ,IAAA,CAACL,QAAQ;MAAA,GAAK6B;IAAK,CAAG,CAAC,CAAC;IAE/BG,MAAM,CAACH,KAAK,CAACP,SAAS,CAACa,cAAc,CAAC,CAACC,oBAAoB,CACzDP,KAAK,CAACjB,OAAO,EACbiB,KAAK,CAACjB,OAAO,CAACI,OAAO,EACrB;MAAEqB,MAAM,EAAE;IAAM,CAAC,EACjB,cACF,CAAC;EACH,CAAC,CAAC;EAEFT,EAAE,CAAC,iCAAiC,EAAE,MAAM;IAC1C,MAAMC,KAAK,GAAGvB,QAAQ,CAAC,CAAC;IACxBT,MAAM,eAACQ,IAAA,CAACL,QAAQ;MAAA,GAAK6B;IAAK,CAAG,CAAC,CAAC;IAC/B,MAAMC,QAAQ,GAAGnC,MAAM,CAAC4C,WAAW,CAAC,YAAY,CAAC;IAEjDP,MAAM,CAACF,QAAQ,CAAC,CAACU,WAAW,CAAC,YAAY,CAAC;IAC1CR,MAAM,CAACF,QAAQ,CAAC,CAACW,WAAW,CAAE,UAASZ,KAAK,CAACX,KAAM,IAAG,CAAC;EACzD,CAAC,CAAC;EAEFU,EAAE,CAAC,iBAAiB,EAAE,MAAM;IAC1B,MAAMC,KAAK,GAAGvB,QAAQ,CAAC,CAAC;IACxBT,MAAM,eAACQ,IAAA,CAACL,QAAQ;MAAA,GAAK6B;IAAK,CAAG,CAAC,CAAC;IAE/B,MAAMa,WAAW,GAAG/C,MAAM,CAACgD,SAAS,CAAE,GAAEd,KAAK,CAACjB,OAAO,CAACG,KAAM,EAAC,CAAC;IAC9DiB,MAAM,CAACU,WAAW,CAAC,CAACT,iBAAiB,CAAC,CAAC;EACzC,CAAC,CAAC;EAEFL,EAAE,CAAC,sEAAsE,EAAE,MAAM;IAC/E,MAAMC,KAAK,GAAGvB,QAAQ,CAAC;MACrBsC,eAAe,EAAE;QACfC,KAAK,EAAE9C,2BAA2B,CAAC+C,sBAAsB,CAACC;MAC5D;IACF,CAAC,CAAC;IACFlD,MAAM,eAACQ,IAAA,CAACL,QAAQ;MAAA,GAAK6B;IAAK,CAAG,CAAC,CAAC;IAC/BG,MAAM,CAACrC,MAAM,CAAC4C,WAAW,CAAC,eAAe,CAAC,CAAC,CAACE,WAAW,CACrD,oBACF,CAAC;EACH,CAAC,CAAC;EAEFb,EAAE,CAAC,yEAAyE,EAAE,MAAM;IAClF,MAAMC,KAAK,GAAGvB,QAAQ,CAAC;MACrBsC,eAAe,EAAE;QACfC,KAAK,EAAE9C,2BAA2B,CAAC+C,sBAAsB,CAACE;MAC5D;IACF,CAAC,CAAC;IACFnD,MAAM,eAACQ,IAAA,CAACL,QAAQ;MAAA,GAAK6B;IAAK,CAAG,CAAC,CAAC;IAC/BG,MAAM,CAACrC,MAAM,CAAC4C,WAAW,CAAC,eAAe,CAAC,CAAC,CAACE,WAAW,CAAC,eAAe,CAAC;EAC1E,CAAC,CAAC;EAEFb,EAAE,CAAC,qBAAqB,EAAE,MAAM;IAC9B,MAAMC,KAAK,GAAGvB,QAAQ,CAAC,CAAC;IACxBT,MAAM,eAACQ,IAAA,CAACL,QAAQ;MAAA,GAAK6B;IAAK,CAAG,CAAC,CAAC;IAE/B,MAAMC,QAAQ,GAAGnC,MAAM,CAACoC,SAAS,CAAC,SAAS,CAAC;IAC5CC,MAAM,CAACF,QAAQ,CAAC,CAACmB,WAAW,CAACpB,KAAK,CAACjB,OAAO,CAACI,OAAO,CAAC;EACrD,CAAC,CAAC;EAEFY,EAAE,CAAC,uBAAuB,EAAE,MAAM;IAChC,MAAMC,KAAK,GAAGvB,QAAQ,CAAC,CAAC;IACxBT,MAAM,eAACQ,IAAA,CAACL,QAAQ;MAAA,GAAK6B;IAAK,CAAG,CAAC,CAAC;IAE/B,MAAMC,QAAQ,GAAGnC,MAAM,CAACoC,SAAS,CAAC,SAAS,CAAC;IAC5CC,MAAM,CAACF,QAAQ,CAAC,CAACoB,eAAe,CAAC,aAAa,EAAErB,KAAK,CAACjB,OAAO,CAACK,WAAW,CAAC;EAC5E,CAAC,CAAC;EAEFW,EAAE,CAAC,iBAAiB,EAAE,MAAM;IAC1B,MAAMC,KAAK,GAAGvB,QAAQ,CAAC,CAAC,CAAC,EAAE;MAAEa,QAAQ,EAAE;IAAK,CAAC,CAAC;IAC9CtB,MAAM,eAACQ,IAAA,CAACL,QAAQ;MAAA,GAAK6B;IAAK,CAAG,CAAC,CAAC;IAE/B,MAAMC,QAAQ,GAAGnC,MAAM,CAACoC,SAAS,CAAC,SAAS,CAAC;IAC5CC,MAAM,CAACF,QAAQ,CAAC,CAACqB,YAAY,CAAC,CAAC;EACjC,CAAC,CAAC;EAEFvB,EAAE,CAAC,2BAA2B,EAAE,MAAM;IACpC,MAAMC,KAAK,GAAGvB,QAAQ,CAAC,CAAC;IACxBkB,IAAI,CAACU,KAAK,CAACL,KAAK,CAACP,SAAS,EAAE,gBAAgB,CAAC;IAC7CzB,MAAM,eAACQ,IAAA,CAACL,QAAQ;MAAA,GAAK6B;IAAK,CAAG,CAAC,CAAC;IAE/B,MAAMC,QAAQ,GAAGnC,MAAM,CAACoC,SAAS,CAAC,SAAS,CAAC;IAC5CrC,SAAS,CAAC0D,MAAM,CAACtB,QAAQ,EAAE;MAAEuB,MAAM,EAAE;QAAER,KAAK,EAAE;MAAU;IAAE,CAAC,CAAC;IAC5DnD,SAAS,CAAC4D,IAAI,CAACxB,QAAQ,CAAC;IAExBE,MAAM,CAACH,KAAK,CAACP,SAAS,CAACa,cAAc,CAAC,CAACC,oBAAoB,CACzDP,KAAK,CAACjB,OAAO,EACb,SAAS,EACT;MACEyB,MAAM,EAAE;IACV,CAAC,EACD3B,SACF,CAAC;EACH,CAAC,CAAC;EAEFkB,EAAE,CAAC,8CAA8C,EAAE,MAAM;IACvD,MAAMC,KAAK,GAAGvB,QAAQ,CAAC,CAAC;IACxBkB,IAAI,CAACU,KAAK,CAACL,KAAK,CAACP,SAAS,EAAE,gBAAgB,CAAC;IAC7CzB,MAAM,eAACQ,IAAA,CAACL,QAAQ;MAAA,GAAK6B;IAAK,CAAG,CAAC,CAAC;IAE/B,MAAMC,QAAQ,GAAGnC,MAAM,CAACoC,SAAS,CAAC,SAAS,CAAC;IAE5CrC,SAAS,CAAC0D,MAAM,CAACtB,QAAQ,EAAE;MAAEuB,MAAM,EAAE;QAAER,KAAK,EAAE;MAAU;IAAE,CAAC,CAAC;IAC5DnD,SAAS,CAAC6D,OAAO,CAACzB,QAAQ,EAAE;MAAE0B,OAAO,EAAE,IAAI;MAAEC,GAAG,EAAE;IAAQ,CAAC,CAAC;IAE5DzB,MAAM,CAACH,KAAK,CAACP,SAAS,CAACa,cAAc,CAAC,CAACC,oBAAoB,CACzDP,KAAK,CAACjB,OAAO,EACb,SAAS,EACT;MACEyB,MAAM,EAAE;IACV,CAAC,EACD3B,SACF,CAAC;EACH,CAAC,CAAC;EAEFkB,EAAE,CAAC,0CAA0C,EAAE,MAAM;IACnD,MAAMC,KAAK,GAAGvB,QAAQ,CAAC;MACrBoD,MAAM,EAAE,GAAG;MACXC,QAAQ,EAAE;IACZ,CAAC,CAAC;IACF9D,MAAM,eAACQ,IAAA,CAACL,QAAQ;MAAA,GAAK6B;IAAK,CAAG,CAAC,CAAC;IAE/B,MAAMC,QAAQ,GAAGnC,MAAM,CAACoC,SAAS,CAAC,SAAS,CAAC;IAE5CrC,SAAS,CAAC0D,MAAM,CAACtB,QAAQ,EAAE;MAAEuB,MAAM,EAAE;QAAER,KAAK,EAAE;MAAa;IAAE,CAAC,CAAC;IAC/Db,MAAM,CAACF,QAAQ,CAAC,CAACmB,WAAW,CAAC,YAAY,CAAC;IAE1CvD,SAAS,CAAC0D,MAAM,CAACtB,QAAQ,EAAE;MAAEuB,MAAM,EAAE;QAAER,KAAK,EAAE;MAAc;IAAE,CAAC,CAAC;IAChEb,MAAM,CAACF,QAAQ,CAAC,CAACmB,WAAW,CAAC,YAAY,CAAC;EAC5C,CAAC,CAAC;EAEFrB,EAAE,CAAC,qEAAqE,EAAE,MAAM;IAC9E,MAAMC,KAAK,GAAGvB,QAAQ,CAAC,CAAC;IACxBkB,IAAI,CAACU,KAAK,CAACL,KAAK,CAACP,SAAS,EAAE,gBAAgB,CAAC;IAC7CzB,MAAM,eAACQ,IAAA,CAACL,QAAQ;MAAA,GAAK6B;IAAK,CAAG,CAAC,CAAC;IAE/B,MAAMC,QAAQ,GAAGnC,MAAM,CAACoC,SAAS,CAAC,SAAS,CAAC;IAC5CrC,SAAS,CAAC0D,MAAM,CAACtB,QAAQ,EAAE;MAAEuB,MAAM,EAAE;QAAER,KAAK,EAAE;MAAO;IAAE,CAAC,CAAC;;IAEzD;IACAb,MAAM,CAACH,KAAK,CAACP,SAAS,CAACa,cAAc,CAAC,CAACyB,wBAAwB,CAC7D/B,KAAK,CAACjB,OAAO,EACbiB,KAAK,CAACjB,OAAO,CAACI,OAAO,EACrB;MACEqB,MAAM,EAAE;IACV,CAAC,EACD3B,SACF,CAAC;EACH,CAAC,CAAC;EAEFkB,EAAE,CAAC,mEAAmE,EAAE,MAAM;IAC5E,MAAMC,KAAK,GAAGvB,QAAQ,CAAC,CAAC,CAAC,EAAE;MAAEY,KAAK,EAAE;IAAI,CAAC,CAAC;IAC1CrB,MAAM,eAACQ,IAAA,CAACL,QAAQ;MAAA,GAAK6B;IAAK,CAAG,CAAC,CAAC;IAC/BG,MAAM,CAACrC,MAAM,CAACkE,aAAa,CAAC,mBAAmB,CAAC,CAAC,CAACC,GAAG,CAAC7B,iBAAiB,CAAC,CAAC;EAC3E,CAAC,CAAC;EAEFL,EAAE,CAAC,kEAAkE,EAAE,MAAM;IAC3E,MAAMC,KAAK,GAAGvB,QAAQ,CAAC,CAAC,CAAC,EAAE;MAAEY,KAAK,EAAE;IAAI,CAAC,CAAC;IAC1CrB,MAAM,eAACQ,IAAA,CAACL,QAAQ;MAAA,GAAK6B;IAAK,CAAG,CAAC,CAAC;IAC/BG,MAAM,CAACrC,MAAM,CAAC4C,WAAW,CAAC,mBAAmB,CAAC,CAAC,CAACN,iBAAiB,CAAC,CAAC;EACrE,CAAC,CAAC;EAEFL,EAAE,CAAC,uCAAuC,EAAE,MAAM;IAChD;IACA,MAAMC,KAAK,GAAGvB,QAAQ,CAAC;MAAEyD,MAAM,EAAE;IAAO,CAAC,CAAC;IAC1ClC,KAAK,CAACP,SAAS,CAAC0C,sBAAsB,CAAC,MAAM,EAAE,IAAI,CAAC;IAEpDxC,IAAI,CAACU,KAAK,CAACL,KAAK,CAACP,SAAS,EAAE,gBAAgB,CAAC;IAE7CzB,MAAM,eAACQ,IAAA,CAACL,QAAQ;MAAA,GAAK6B;IAAK,CAAG,CAAC,CAAC;;IAE/B;IACA,MAAMC,QAAQ,GAAGnC,MAAM,CAACoC,SAAS,CAAC,SAAS,CAAC;IAC5CrC,SAAS,CAAC0D,MAAM,CAACtB,QAAQ,EAAE;MAAEuB,MAAM,EAAE;QAAER,KAAK,EAAE;MAAO;IAAE,CAAC,CAAC;IACzDb,MAAM,CAACF,QAAQ,CAAC,CAACmB,WAAW,CAAC,MAAM,CAAC;;IAEpC;IACApB,KAAK,CAACP,SAAS,CAAC2C,UAAU,CAAC,MAAM,EAAEvD,SAAS,CAAC;;IAE7C;IACAsB,MAAM,CAACF,QAAQ,CAAC,CAACmB,WAAW,CAACpB,KAAK,CAACjB,OAAO,CAACI,OAAO,CAAC;IACnDgB,MAAM,CAACH,KAAK,CAACP,SAAS,CAACa,cAAc,CAAC,CAACyB,wBAAwB,CAC7D/B,KAAK,CAACjB,OAAO,EACbiB,KAAK,CAACjB,OAAO,CAACI,OAAO,EACrB;MACEqB,MAAM,EAAE;IACV,CAAC,EACD3B,SACF,CAAC;EACH,CAAC,CAAC;EAEFkB,EAAE,CAAC,uEAAuE,EAAE,YAAY;IACtF,MAAMsC,IAAI,GAAGtE,SAAS,CAACuE,KAAK,CAAC,CAAC;IAC9B,MAAMtC,KAAK,GAAGvB,QAAQ,CAAC,CAAC;IACxBT,MAAM,eAACQ,IAAA,CAACL,QAAQ;MAAA,GAAK6B;IAAK,CAAG,CAAC,CAAC;;IAE/B;IACA,MAAMC,QAAQ,GAAGnC,MAAM,CAACoC,SAAS,CAAC,SAAS,CAAC;IAC5C,MAAMmC,IAAI,CAACE,KAAK,CAACtC,QAAQ,CAAC;IAC1B,MAAMoC,IAAI,CAACG,QAAQ,CAAC,MAAM,CAAC;IAE3BrC,MAAM,CAACrC,MAAM,CAAC4C,WAAW,CAAC,mBAAmB,CAAC,CAAC,CAAC+B,iBAAiB,CAC/D,wBACF,CAAC;EACH,CAAC,CAAC;EAEF1C,EAAE,CAAC,iEAAiE,EAAE,YAAY;IAChF,MAAMsC,IAAI,GAAGtE,SAAS,CAACuE,KAAK,CAAC,CAAC;IAC9B,MAAMtC,KAAK,GAAGvB,QAAQ,CAAC;MAAEyD,MAAM,EAAE;IAAO,CAAC,CAAC;IAC1CvC,IAAI,CAACU,KAAK,CAACL,KAAK,CAACP,SAAS,EAAE,wBAAwB,CAAC,CAACiD,eAAe,CAAC,IAAI,CAAC;IAE3E1E,MAAM,eAACQ,IAAA,CAACL,QAAQ;MAAA,GAAK6B;IAAK,CAAG,CAAC,CAAC;;IAE/B;IACA,MAAMC,QAAQ,GAAGnC,MAAM,CAACoC,SAAS,CAAC,SAAS,CAAC;IAC5C,MAAMmC,IAAI,CAACE,KAAK,CAACtC,QAAQ,CAAC;IAC1B,MAAMoC,IAAI,CAACG,QAAQ,CAAC,MAAM,CAAC;IAE3BrC,MAAM,CAACrC,MAAM,CAAC4C,WAAW,CAAC,mBAAmB,CAAC,CAAC,CAAC+B,iBAAiB,CAC/D,8BACF,CAAC;EACH,CAAC,CAAC;EAEF1C,EAAE,CAAC,wEAAwE,EAAE,YAAY;IACvF,MAAMsC,IAAI,GAAGtE,SAAS,CAACuE,KAAK,CAAC,CAAC;IAC9B,MAAMtC,KAAK,GAAGvB,QAAQ,CAAC;MAAEyD,MAAM,EAAE;IAAO,CAAC,CAAC;IAC1CvC,IAAI,CACDU,KAAK,CAACL,KAAK,CAACP,SAAS,EAAE,wBAAwB,CAAC,CAChDiD,eAAe,CAAC,KAAK,CAAC;IAEzB1E,MAAM,eAACQ,IAAA,CAACL,QAAQ;MAAA,GAAK6B;IAAK,CAAG,CAAC,CAAC;;IAE/B;IACA,MAAMC,QAAQ,GAAGnC,MAAM,CAACoC,SAAS,CAAC,SAAS,CAAC;IAC5C,MAAMmC,IAAI,CAACE,KAAK,CAACtC,QAAQ,CAAC;IAC1B,MAAMoC,IAAI,CAACG,QAAQ,CAAC,MAAM,CAAC;IAE3BrC,MAAM,CAACrC,MAAM,CAACkE,aAAa,CAAC,mBAAmB,CAAC,CAAC,CAACS,iBAAiB,CAAC,EAAE,CAAC;EACzE,CAAC,CAAC;EAEF1C,EAAE,CAAC,mCAAmC,EAAE,YAAY;IAClD,MAAMC,KAAK,GAAGvB,QAAQ,CAAC,CAAC;IACxBT,MAAM,eAACQ,IAAA,CAACL,QAAQ;MAAA,GAAK6B;IAAK,CAAG,CAAC,CAAC;IAC/B,MAAMC,QAAQ,GAAGnC,MAAM,CAACoC,SAAS,CAAC,SAAS,CAAC;IAC5CC,MAAM,CAACF,QAAQ,CAAC,CAACgC,GAAG,CAACU,WAAW,CAAC,CAAC;IAClC,MAAMzD,KAAK,GAAGpB,MAAM,CAACgD,SAAS,CAACd,KAAK,CAACjB,OAAO,CAACG,KAAK,CAAC;IACnD,MAAMmD,IAAI,GAAGtE,SAAS,CAACuE,KAAK,CAAC,CAAC;IAC9B,MAAMD,IAAI,CAACE,KAAK,CAACrD,KAAK,CAAC;IACvBiB,MAAM,CAACF,QAAQ,CAAC,CAAC0C,WAAW,CAAC,CAAC;EAChC,CAAC,CAAC;EAEF7C,QAAQ,CAAC,QAAQ,EAAE,MAAM;IACvB8C,MAAM,CAACC,cAAc,CAACC,SAAS,EAAE,UAAU,EAAE;MAC3C9B,KAAK,EAAE,UAAU;MACjB+B,QAAQ,EAAE;IACZ,CAAC,CAAC;IAEFhD,EAAE,CAAC,2CAA2C,EAAE,MAAM;MACpD,MAAMC,KAAK,GAAGvB,QAAQ,CAAC,CAAC;MACxBkB,IAAI,CAACU,KAAK,CAACL,KAAK,CAACP,SAAS,EAAE,gBAAgB,CAAC;MAC7CzB,MAAM,eAACQ,IAAA,CAACL,QAAQ;QAAA,GAAK6B;MAAK,CAAG,CAAC,CAAC;MAC/B,MAAMC,QAAQ,GAAGnC,MAAM,CAACoC,SAAS,CAAC,SAAS,CAAC;MAC5CrC,SAAS,CAAC0D,MAAM,CAACtB,QAAQ,EAAE;QAAEuB,MAAM,EAAE;UAAER,KAAK,EAAE;QAAU;MAAE,CAAC,CAAC;MAC5DnD,SAAS,CAAC6D,OAAO,CAACzB,QAAQ,EAAE;QAAE+C,OAAO,EAAE,IAAI;QAAEpB,GAAG,EAAE;MAAQ,CAAC,CAAC;MAE5DzB,MAAM,CAACH,KAAK,CAACP,SAAS,CAACa,cAAc,CAAC,CAACC,oBAAoB,CACzDP,KAAK,CAACjB,OAAO,EACb,SAAS,EACT;QACEyB,MAAM,EAAE;MACV,CAAC,EACD3B,SACF,CAAC;IACH,CAAC,CAAC;EACJ,CAAC,CAAC;EAEFkB,EAAE,CAAC,uCAAuC,EAAE,MAAM;IAChD,MAAMC,KAAK,GAAGvB,QAAQ,CAAC,CAAC;IACxBT,MAAM,eAACQ,IAAA,CAACL,QAAQ;MAAA,GAAK6B;IAAK,CAAG,CAAC,CAAC;IAE/B,MAAMiD,cAAc,GAAGnF,MAAM,CAAC4C,WAAW,CAAC,eAAe,CAAC;IAC1D,MAAMwC,MAAM,GAAGD,cAAc,CAACE,YAAY,CAAC,KAAK,CAAC;;IAEjD;IACA,MAAMlD,QAAQ,GAAGnC,MAAM,CAACoC,SAAS,CAAC,SAAS,CAAC;IAC5CrC,SAAS,CAAC0D,MAAM,CAACtB,QAAQ,EAAE;MAAEuB,MAAM,EAAE;QAAER,KAAK,EAAE;MAAU;IAAE,CAAC,CAAC;IAC5DnD,SAAS,CAAC4D,IAAI,CAACxB,QAAQ,CAAC;IAExB,MAAMmD,cAAc,GAAGtF,MAAM,CAAC4C,WAAW,CAAC,eAAe,CAAC;IAC1D,MAAM2C,MAAM,GAAGD,cAAc,CAACD,YAAY,CAAC,KAAK,CAAC;IAEjDhD,MAAM,CAACkD,MAAM,CAAC,CAACC,IAAI,CAACJ,MAAM,CAAC;EAC7B,CAAC,CAAC;AACJ,CAAC,CAAC"}