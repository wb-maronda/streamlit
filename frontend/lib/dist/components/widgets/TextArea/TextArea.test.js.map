{"version":3,"file":"TextArea.test.js","names":["React","screen","fireEvent","render","LabelVisibilityMessage","LabelVisibilityMessageProto","TextArea","TextAreaProto","WidgetStateManager","mockTheme","userEvent","jsx","_jsx","getProps","elementProps","arguments","length","undefined","widgetProps","element","create","id","label","default","placeholder","width","disabled","theme","emotion","widgetMgr","sendRerunBackMsg","jest","fn","formsDataChanged","describe","it","props","textArea","getByRole","expect","toBeInTheDocument","spyOn","setStringValue","toHaveBeenCalledWith","fromUi","fragmentId","getByTestId","toHaveClass","toHaveStyle","concat","widgetLabel","getByText","labelVisibility","value","LabelVisibilityOptions","HIDDEN","COLLAPSED","toHaveValue","toHaveAttribute","toBeDisabled","change","target","blur","keyDown","ctrlKey","key","height","maxChars","toHaveBeenLastCalledWith","queryByTestId","not","formId","setFormClearOnSubmit","submitForm","toHaveFocus","user","setup","click","Object","defineProperty","navigator","writable","metaKey","textAreaLabel1","forId1","getAttribute","textAreaLabel2","forId2","toBe"],"sources":["../../../../src/components/widgets/TextArea/TextArea.test.tsx"],"sourcesContent":["/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022-2024)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\"\nimport \"@testing-library/jest-dom\"\nimport { screen, fireEvent } from \"@testing-library/react\"\nimport { render } from \"@streamlit/lib/src/test_util\"\nimport {\n  LabelVisibilityMessage as LabelVisibilityMessageProto,\n  TextArea as TextAreaProto,\n} from \"@streamlit/lib/src/proto\"\n\nimport { WidgetStateManager } from \"@streamlit/lib/src/WidgetStateManager\"\nimport { mockTheme } from \"@streamlit/lib/src/mocks/mockTheme\"\n\nimport TextArea, { Props } from \"./TextArea\"\nimport userEvent from \"@testing-library/user-event\"\n\nconst getProps = (\n  elementProps: Partial<TextAreaProto> = {},\n  widgetProps: Partial<Props> = {}\n): Props => ({\n  element: TextAreaProto.create({\n    id: \"1\",\n    label: \"Label\",\n    default: \"\",\n    placeholder: \"Placeholder\",\n    ...elementProps,\n  }),\n  width: 300,\n  disabled: false,\n  theme: mockTheme.emotion,\n  widgetMgr: new WidgetStateManager({\n    sendRerunBackMsg: jest.fn(),\n    formsDataChanged: jest.fn(),\n  }),\n\n  ...widgetProps,\n})\n\ndescribe(\"TextArea widget\", () => {\n  it(\"renders without crashing\", () => {\n    const props = getProps()\n    render(<TextArea {...props} />)\n\n    const textArea = screen.getByRole(\"textbox\")\n    expect(textArea).toBeInTheDocument()\n  })\n\n  it(\"sets widget value on mount\", () => {\n    const props = getProps()\n    jest.spyOn(props.widgetMgr, \"setStringValue\")\n    render(<TextArea {...props} />)\n\n    expect(props.widgetMgr.setStringValue).toHaveBeenCalledWith(\n      props.element,\n      props.element.default,\n      { fromUi: false },\n      undefined\n    )\n  })\n\n  it(\"can pass fragmentId to setStringValue\", () => {\n    const props = getProps(undefined, { fragmentId: \"myFragmentId\" })\n    jest.spyOn(props.widgetMgr, \"setStringValue\")\n    render(<TextArea {...props} />)\n\n    expect(props.widgetMgr.setStringValue).toHaveBeenCalledWith(\n      props.element,\n      props.element.default,\n      { fromUi: false },\n      \"myFragmentId\"\n    )\n  })\n\n  it(\"has correct className and style\", () => {\n    const props = getProps()\n    render(<TextArea {...props} />)\n    const textArea = screen.getByTestId(\"stTextArea\")\n\n    expect(textArea).toHaveClass(\"stTextArea\")\n    expect(textArea).toHaveStyle(`width: ${props.width}px`)\n  })\n\n  it(\"renders a label\", () => {\n    const props = getProps()\n    render(<TextArea {...props} />)\n\n    const widgetLabel = screen.getByText(`${props.element.label}`)\n    expect(widgetLabel).toBeInTheDocument()\n  })\n\n  it(\"pass labelVisibility prop to StyledWidgetLabel correctly when hidden\", () => {\n    const props = getProps({\n      labelVisibility: {\n        value: LabelVisibilityMessageProto.LabelVisibilityOptions.HIDDEN,\n      },\n    })\n    render(<TextArea {...props} />)\n    expect(screen.getByTestId(\"stWidgetLabel\")).toHaveStyle(\n      \"visibility: hidden\"\n    )\n  })\n\n  it(\"pass labelVisibility prop to StyledWidgetLabel correctly when collapsed\", () => {\n    const props = getProps({\n      labelVisibility: {\n        value: LabelVisibilityMessageProto.LabelVisibilityOptions.COLLAPSED,\n      },\n    })\n    render(<TextArea {...props} />)\n    expect(screen.getByTestId(\"stWidgetLabel\")).toHaveStyle(\"display: none\")\n  })\n\n  it(\"has a default value\", () => {\n    const props = getProps()\n    render(<TextArea {...props} />)\n\n    const textArea = screen.getByRole(\"textbox\")\n    expect(textArea).toHaveValue(props.element.default)\n  })\n\n  it(\"renders a placeholder\", () => {\n    const props = getProps()\n    render(<TextArea {...props} />)\n\n    const textArea = screen.getByRole(\"textbox\")\n    expect(textArea).toHaveAttribute(\"placeholder\", props.element.placeholder)\n  })\n\n  it(\"can be disabled\", () => {\n    const props = getProps({}, { disabled: true })\n    render(<TextArea {...props} />)\n\n    const textArea = screen.getByRole(\"textbox\")\n    expect(textArea).toBeDisabled()\n  })\n\n  it(\"sets widget value on blur\", () => {\n    const props = getProps()\n    jest.spyOn(props.widgetMgr, \"setStringValue\")\n    render(<TextArea {...props} />)\n\n    const textArea = screen.getByRole(\"textbox\")\n    fireEvent.change(textArea, { target: { value: \"testing\" } })\n    fireEvent.blur(textArea)\n\n    expect(props.widgetMgr.setStringValue).toHaveBeenCalledWith(\n      props.element,\n      \"testing\",\n      {\n        fromUi: true,\n      },\n      undefined\n    )\n  })\n\n  it(\"sets widget value when ctrl+enter is pressed\", () => {\n    const props = getProps()\n    jest.spyOn(props.widgetMgr, \"setStringValue\")\n    render(<TextArea {...props} />)\n\n    const textArea = screen.getByRole(\"textbox\")\n\n    fireEvent.change(textArea, { target: { value: \"testing\" } })\n    fireEvent.keyDown(textArea, { ctrlKey: true, key: \"Enter\" })\n\n    expect(props.widgetMgr.setStringValue).toHaveBeenCalledWith(\n      props.element,\n      \"testing\",\n      {\n        fromUi: true,\n      },\n      undefined\n    )\n  })\n\n  it(\"limits the length if max_chars is passed\", () => {\n    const props = getProps({\n      height: 500,\n      maxChars: 10,\n    })\n    render(<TextArea {...props} />)\n\n    const textArea = screen.getByRole(\"textbox\")\n\n    fireEvent.change(textArea, { target: { value: \"0123456789\" } })\n    expect(textArea).toHaveValue(\"0123456789\")\n\n    fireEvent.change(textArea, { target: { value: \"0123456789a\" } })\n    expect(textArea).toHaveValue(\"0123456789\")\n  })\n\n  it(\"does not update widget value on text changes when outside of a form\", () => {\n    const props = getProps()\n    jest.spyOn(props.widgetMgr, \"setStringValue\")\n    render(<TextArea {...props} />)\n\n    const textArea = screen.getByRole(\"textbox\")\n    fireEvent.change(textArea, { target: { value: \"TEST\" } })\n\n    // Check that the last call was in componentDidMount.\n    expect(props.widgetMgr.setStringValue).toHaveBeenLastCalledWith(\n      props.element,\n      props.element.default,\n      {\n        fromUi: false,\n      },\n      undefined\n    )\n  })\n\n  it(\"hides Please enter to apply text when width is smaller than 180px\", () => {\n    const props = getProps({}, { width: 100 })\n    render(<TextArea {...props} />)\n    expect(screen.queryByTestId(\"InputInstructions\")).not.toBeInTheDocument()\n  })\n\n  it(\"shows Please enter to apply text when width is bigger than 180px\", () => {\n    const props = getProps({}, { width: 190 })\n    render(<TextArea {...props} />)\n    expect(screen.getByTestId(\"InputInstructions\")).toBeInTheDocument()\n  })\n\n  it(\"resets its value when form is cleared\", () => {\n    // Create a widget in a clearOnSubmit form\n    const props = getProps({ formId: \"form\" })\n    props.widgetMgr.setFormClearOnSubmit(\"form\", true)\n\n    jest.spyOn(props.widgetMgr, \"setStringValue\")\n\n    render(<TextArea {...props} />)\n\n    // Change the widget value\n    const textArea = screen.getByRole(\"textbox\")\n    fireEvent.change(textArea, { target: { value: \"TEST\" } })\n    expect(textArea).toHaveValue(\"TEST\")\n\n    // \"Submit\" the form\n    props.widgetMgr.submitForm(\"form\", undefined)\n\n    // Our widget should be reset, and the widgetMgr should be updated\n    expect(textArea).toHaveValue(props.element.default)\n    expect(props.widgetMgr.setStringValue).toHaveBeenLastCalledWith(\n      props.element,\n      props.element.default,\n      {\n        fromUi: true,\n      },\n      undefined\n    )\n  })\n\n  it(\"focuses input when clicking label\", async () => {\n    const props = getProps()\n    render(<TextArea {...props} />)\n    const textArea = screen.getByRole(\"textbox\")\n    expect(textArea).not.toHaveFocus()\n    const label = screen.getByText(props.element.label)\n    const user = userEvent.setup()\n    await user.click(label)\n    expect(textArea).toHaveFocus()\n  })\n\n  describe(\"on mac\", () => {\n    Object.defineProperty(navigator, \"platform\", {\n      value: \"MacIntel\",\n      writable: true,\n    })\n\n    it(\"sets widget value when ⌘+enter is pressed\", () => {\n      const props = getProps()\n      jest.spyOn(props.widgetMgr, \"setStringValue\")\n      render(<TextArea {...props} />)\n      const textArea = screen.getByRole(\"textbox\")\n      fireEvent.change(textArea, { target: { value: \"testing\" } })\n      fireEvent.keyDown(textArea, { metaKey: true, key: \"Enter\" })\n\n      expect(props.widgetMgr.setStringValue).toHaveBeenCalledWith(\n        props.element,\n        \"testing\",\n        {\n          fromUi: true,\n        },\n        undefined\n      )\n    })\n  })\n\n  it(\"ensures id doesn't change on rerender\", () => {\n    const props = getProps()\n    render(<TextArea {...props} />)\n\n    const textAreaLabel1 = screen.getByTestId(\"stWidgetLabel\")\n    const forId1 = textAreaLabel1.getAttribute(\"for\")\n\n    // Make some change to cause a rerender\n    const textArea = screen.getByRole(\"textbox\")\n    fireEvent.change(textArea, { target: { value: \"testing\" } })\n    fireEvent.blur(textArea)\n\n    const textAreaLabel2 = screen.getByTestId(\"stWidgetLabel\")\n    const forId2 = textAreaLabel2.getAttribute(\"for\")\n\n    expect(forId2).toBe(forId1)\n  })\n})\n"],"mappings":"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"}